var IA=Object.defineProperty,EA=Object.defineProperties;var DA=Object.getOwnPropertyDescriptors;var cw=Object.getOwnPropertySymbols,bA=Object.getPrototypeOf,CA=Object.prototype.hasOwnProperty,TA=Object.prototype.propertyIsEnumerable,SA=Reflect.get;var uw=(t,e,n)=>e in t?IA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})CA.call(e,n)&&uw(t,n,e[n]);if(cw)for(var n of cw(e))TA.call(e,n)&&uw(t,n,e[n]);return t},fe=(t,e)=>EA(t,DA(e));var Xn=(t,e,n)=>SA(bA(t),n,e);var I=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});var Dh=null;var Eh=1,lw=Symbol("SIGNAL");function pe(t){let e=Dh;return Dh=t,e}function dw(){return Dh}var bh={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function AA(t){if(!(Mh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Eh)){if(!t.producerMustRecompute(t)&&!Th(t)){t.dirty=!1,t.lastCleanEpoch=Eh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Eh}}function Ch(t){return t&&(t.nextProducerIndex=0),pe(t)}function hw(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Mh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ah(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Th(t){Rh(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(AA(n),r!==n.version))return!0}return!1}function Sh(t){if(Rh(t),Mh(t))for(let e=0;e<t.producerNode.length;e++)Ah(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ah(t,e){if(MA(t),t.liveConsumerNode.length===1&&RA(t))for(let r=0;r<t.producerNode.length;r++)Ah(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Rh(i),i.producerIndexOfThis[r]=e}}function Mh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Rh(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function MA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function RA(t){return t.producerNode!==void 0}function xA(){throw new Error}var NA=xA;function fw(t){NA=t}function ee(t){return typeof t=="function"}function ki(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Mc=ki(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ms(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(o){e=o instanceof Mc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{pw(o)}catch(s){e=e??[],s instanceof Mc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Mc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)pw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ms(n,e)}remove(e){let{_finalizers:n}=this;n&&Ms(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var xh=Pe.EMPTY;function Rc(t){return t instanceof Pe||t&&"closed"in t&&ee(t.remove)&&ee(t.add)&&ee(t.unsubscribe)}function pw(t){ee(t)?t():t.unsubscribe()}var $t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fi={setTimeout(t,e,...n){let{delegate:r}=Fi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Fi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function xc(t){Fi.setTimeout(()=>{let{onUnhandledError:e}=$t;if(e)e(t);else throw t})}function Rs(){}var gw=Nh("C",void 0,void 0);function mw(t){return Nh("E",void 0,t)}function yw(t){return Nh("N",t,void 0)}function Nh(t,e,n){return{kind:t,value:e,error:n}}var $r=null;function Vi(t){if($t.useDeprecatedSynchronousErrorHandling){let e=!$r;if(e&&($r={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=$r;if($r=null,n)throw r}}else t()}function vw(t){$t.useDeprecatedSynchronousErrorHandling&&$r&&($r.errorThrown=!0,$r.error=t)}var Hr=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Rc(e)&&e.add(this)):this.destination=kA}static create(e,n,r){return new Li(e,n,r)}next(e){this.isStopped?Oh(yw(e),this):this._next(e)}error(e){this.isStopped?Oh(mw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Oh(gw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},PA=Function.prototype.bind;function Ph(t,e){return PA.call(t,e)}var kh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Nc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Nc(r)}else Nc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Nc(n)}}},Li=class extends Hr{constructor(e,n,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&$t.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ph(e.next,o),error:e.error&&Ph(e.error,o),complete:e.complete&&Ph(e.complete,o)}):i=e}this.destination=new kh(i)}};function Nc(t){$t.useDeprecatedSynchronousErrorHandling?vw(t):xc(t)}function OA(t){throw t}function Oh(t,e){let{onStoppedNotification:n}=$t;n&&Fi.setTimeout(()=>n(t,e))}var kA={closed:!0,next:Rs,error:OA,complete:Rs};var ji=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Et(t){return t}function Fh(...t){return Vh(t)}function Vh(t){return t.length===0?Et:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var we=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=VA(n)?n:new Li(n,r,i);return Vi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=_w(r),new r((i,o)=>{let s=new Li({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ji](){return this}pipe(...n){return Vh(n)(this)}toPromise(n){return n=_w(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function _w(t){var e;return(e=t??$t.Promise)!==null&&e!==void 0?e:Promise}function FA(t){return t&&ee(t.next)&&ee(t.error)&&ee(t.complete)}function VA(t){return t&&t instanceof Hr||FA(t)&&Rc(t)}function Lh(t){return ee(t?.lift)}function ge(t){return e=>{if(Lh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(t,e,n,r,i){return new jh(t,e,n,r,i)}var jh=class extends Hr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ui(){return ge((t,e)=>{let n=null;t._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Bi=class extends we{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Lh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return Ui()(this)}};var ww=ki(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ze=(()=>{class t extends we{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Pc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ww}next(n){Vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?xh:(this.currentObservers=null,o.push(n),new Pe(()=>{this.currentObservers=null,Ms(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new we;return n.source=this,n}}return t.create=(e,n)=>new Pc(e,n),t})(),Pc=class extends ze{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:xh}};var Qe=class extends ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Dt=new we(t=>t.complete());function Iw(t){return t&&ee(t.schedule)}function Ew(t){return t[t.length-1]}function Oc(t){return ee(Ew(t))?t.pop():void 0}function er(t){return Iw(Ew(t))?t.pop():void 0}function Uh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Dw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qr(t){return this instanceof qr?(this.v=t,this):new qr(t)}function Cw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function a(y,S){r[y]&&(i[y]=function(R){return new Promise(function(M,k){o.push([y,R,M,k])>1||u(y,R)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(R){m(o[0][3],R)}}function l(y){y.value instanceof qr?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Tw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Dw=="function"?Dw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var kc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Fc(t){return ee(t?.then)}function Vc(t){return ee(t[ji])}function Lc(t){return Symbol.asyncIterator&&ee(t?.[Symbol.asyncIterator])}function jc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function LA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Uc=LA();function Bc(t){return ee(t?.[Uc])}function $c(t){return Cw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield qr(n.read());if(i)return yield qr(void 0);yield yield qr(r)}}finally{n.releaseLock()}})}function Hc(t){return ee(t?.getReader)}function Oe(t){if(t instanceof we)return t;if(t!=null){if(Vc(t))return jA(t);if(kc(t))return UA(t);if(Fc(t))return BA(t);if(Lc(t))return Sw(t);if(Bc(t))return $A(t);if(Hc(t))return HA(t)}throw jc(t)}function jA(t){return new we(e=>{let n=t[ji]();if(ee(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function UA(t){return new we(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function BA(t){return new we(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,xc)})}function $A(t){return new we(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Sw(t){return new we(e=>{qA(t,e).catch(n=>e.error(n))})}function HA(t){return Sw($c(t))}function qA(t,e){var n,r,i,o;return bw(this,void 0,void 0,function*(){try{for(n=Tw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function vt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function qc(t,e=0){return ge((n,r)=>{n.subscribe(ue(r,i=>vt(r,t,()=>r.next(i),e),()=>vt(r,t,()=>r.complete(),e),i=>vt(r,t,()=>r.error(i),e)))})}function zc(t,e=0){return ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Aw(t,e){return Oe(t).pipe(zc(e),qc(e))}function Mw(t,e){return Oe(t).pipe(zc(e),qc(e))}function Rw(t,e){return new we(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function xw(t,e){return new we(n=>{let r;return vt(n,e,()=>{r=t[Uc](),vt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function Gc(t,e){if(!t)throw new Error("Iterable cannot be null");return new we(n=>{vt(n,e,()=>{let r=t[Symbol.asyncIterator]();vt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Nw(t,e){return Gc($c(t),e)}function Pw(t,e){if(t!=null){if(Vc(t))return Aw(t,e);if(kc(t))return Rw(t,e);if(Fc(t))return Mw(t,e);if(Lc(t))return Gc(t,e);if(Bc(t))return xw(t,e);if(Hc(t))return Nw(t,e)}throw jc(t)}function Me(t,e){return e?Pw(t,e):Oe(t)}function Z(...t){let e=er(t);return Me(t,e)}function $i(t,e){let n=ee(t)?t:()=>t,r=i=>i.error(n());return new we(e?i=>e.schedule(r,0,i):r)}function Bh(t){return!!t&&(t instanceof we||ee(t.lift)&&ee(t.subscribe))}var Tn=ki(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ce(t,e){return ge((n,r)=>{let i=0;n.subscribe(ue(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:zA}=Array;function GA(t,e){return zA(e)?t(...e):t(e)}function Wc(t){return ce(e=>GA(t,e))}var{isArray:WA}=Array,{getPrototypeOf:KA,prototype:QA,keys:YA}=Object;function Kc(t){if(t.length===1){let e=t[0];if(WA(e))return{args:e,keys:null};if(JA(e)){let n=YA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function JA(t){return t&&typeof t=="object"&&KA(t)===QA}function Qc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Yc(...t){let e=er(t),n=Oc(t),{args:r,keys:i}=Kc(t);if(r.length===0)return Me([],e);let o=new we(ZA(r,e,i?s=>Qc(i,s):Et));return n?o.pipe(Wc(n)):o}function ZA(t,e,n=Et){return r=>{Ow(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Ow(e,()=>{let l=Me(t[u],e),h=!1;l.subscribe(ue(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Ow(t,e,n){t?vt(n,t,e):e()}function kw(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=R=>l<r?S(R):u.push(R),S=R=>{o&&e.next(R),l++;let M=!1;Oe(n(R,h++)).subscribe(ue(e,k=>{i?.(k),o?y(k):e.next(k)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let k=u.shift();s?vt(e,s,()=>S(k)):S(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(ue(e,y,()=>{p=!0,m()})),()=>{a?.()}}function $e(t,e,n=1/0){return ee(e)?$e((r,i)=>ce((o,s)=>e(r,o,i,s))(Oe(t(r,i))),n):(typeof e=="number"&&(n=e),ge((r,i)=>kw(r,i,t,n)))}function Hi(t=1/0){return $e(Et,t)}function Fw(){return Hi(1)}function qi(...t){return Fw()(Me(t,er(t)))}function Jc(t){return new we(e=>{Oe(t()).subscribe(e)})}function $h(...t){let e=Oc(t),{args:n,keys:r}=Kc(t),i=new we(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Oe(n[h]).subscribe(ue(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Qc(r,a):a),o.complete())}))}});return e?i.pipe(Wc(e)):i}function Ht(t,e){return ge((n,r)=>{let i=0;n.subscribe(ue(r,o=>t.call(e,o,i++)&&r.next(o)))})}function tr(t){return ge((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ue(n,void 0,void 0,s=>{o=Oe(t(s,tr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Vw(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ue(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function zi(t,e){return ee(e)?$e(t,e,1):$e(t,1)}function nr(t){return ge((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Sn(t){return t<=0?()=>Dt:ge((e,n)=>{let r=0;e.subscribe(ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Hh(t){return ce(()=>t)}function Zc(t=XA){return ge((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function XA(){return new Tn}function xs(t){return ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function rn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ht((i,o)=>t(i,o,r)):Et,Sn(1),n?nr(e):Zc(()=>new Tn))}function Gi(t){return t<=0?()=>Dt:ge((e,n)=>{let r=[];e.subscribe(ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function qh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ht((i,o)=>t(i,o,r)):Et,Gi(1),n?nr(e):Zc(()=>new Tn))}function zh(t,e){return ge(Vw(t,e,arguments.length>=2,!0))}function Gh(...t){let e=er(t);return ge((n,r)=>{(e?qi(t,n,e):qi(t,n)).subscribe(r)})}function qt(t,e){return ge((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,h=o++;Oe(t(u,h)).subscribe(i=ue(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Wh(t){return ge((e,n)=>{Oe(t).subscribe(ue(n,()=>n.complete(),Rs)),!n.closed&&e.subscribe(n)})}function Ye(t,e,n){let r=ee(t)||e||n?{next:t,error:e,complete:n}:t;return r?ge((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ue(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Et}var EI="https://g.co/ng/security#xss",z=class extends Error{constructor(e,n){super(ip(e,n)),this.code=e}};function ip(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Mu(t){return{toString:t}.toString()}var Wr=globalThis;function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function eM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function _t(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(_t).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Lw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var tM=De({__forward_ref__:De});function Kt(t){return t.__forward_ref__=Kt,t.toString=function(){return _t(this())},t}function ft(t){return DI(t)?t():t}function DI(t){return typeof t=="function"&&t.hasOwnProperty(tM)&&t.__forward_ref__===Kt}function W(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ur(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ru(t){return jw(t,CI)||jw(t,TI)}function bI(t){return Ru(t)!==null}function jw(t,e){return t.hasOwnProperty(e)?t[e]:null}function nM(t){let e=t&&(t[CI]||t[TI]);return e||null}function Uw(t){return t&&(t.hasOwnProperty(Bw)||t.hasOwnProperty(rM))?t[Bw]:null}var CI=De({\u0275prov:De}),Bw=De({\u0275inj:De}),TI=De({ngInjectableDef:De}),rM=De({ngInjectorDef:De}),J=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function SI(t){return t&&!!t.\u0275providers}var iM=De({\u0275cmp:De}),oM=De({\u0275dir:De}),sM=De({\u0275pipe:De}),aM=De({\u0275mod:De}),uu=De({\u0275fac:De}),Ns=De({__NG_ELEMENT_ID__:De}),$w=De({__NG_ENV_ID__:De});function xu(t){return typeof t=="string"?t:t==null?"":String(t)}function cM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():xu(t)}function uM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new z(-200,t)}function op(t,e){throw new z(-201,!1)}var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{}),lf;function AI(){return lf}function Mt(t){let e=lf;return lf=t,e}function MI(t,e,n){let r=Ru(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&se.Optional)return null;if(e!==void 0)return e;op(t,"Injector")}var lM={},Ps=lM,dM="__NG_DI_FLAG__",lu="ngTempTokenPath",hM="ngTokenPath",fM=/\n/gm,pM="\u0275",Hw="__source",Yi;function gM(){return Yi}function rr(t){let e=Yi;return Yi=t,e}function mM(t,e=se.Default){if(Yi===void 0)throw new z(-203,!1);return Yi===null?MI(t,void 0,e):Yi.get(t,e&se.Optional?null:void 0,e)}function oe(t,e=se.Default){return(AI()||mM)(ft(t),e)}function F(t,e=se.Default){return oe(t,Nu(e))}function Nu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function df(t){let e=[];for(let n=0;n<t.length;n++){let r=ft(t[n]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,o=se.Default;for(let s=0;s<r.length;s++){let a=r[s],u=yM(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(oe(i,o))}else e.push(oe(r))}return e}function yM(t){return t[dM]}function vM(t,e,n,r){let i=t[lu];throw e[Hw]&&i.unshift(e[Hw]),t.message=_M(`
`+t.message,i,n,r),t[hM]=i,t[lu]=null,t}function _M(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==pM?t.slice(2):t;let i=_t(e);if(Array.isArray(e))i=e.map(_t).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):_t(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(fM,`
  `)}`}function Zi(t,e){let n=t.hasOwnProperty(uu);return n?t[uu]:null}function wM(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function IM(t){return t.flat(Number.POSITIVE_INFINITY)}function sp(t,e){t.forEach(n=>Array.isArray(n)?sp(n,e):e(n))}function RI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function du(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function EM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function DM(t,e,n){let r=Ws(t,e);return r>=0?t[r|1]=n:(r=~r,EM(t,r,e,n)),r}function Kh(t,e){let n=Ws(t,e);if(n>=0)return t[n|1]}function Ws(t,e){return bM(t,e,1)}function bM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Xi={},Rt=[],eo=new J(""),xI=new J("",-1),NI=new J(""),hu=class{get(e,n=Ps){if(n===Ps){let r=new Error(`NullInjectorError: No provider for ${_t(e)}!`);throw r.name="NullInjectorError",r}return n}},PI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(PI||{}),an=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(an||{}),to=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(to||{});function CM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function hf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];TM(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function OI(t){return t===3||t===4||t===6}function TM(t){return t.charCodeAt(0)===64}function Os(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?qw(t,n,i,null,e[++r]):qw(t,n,i,null,null))}}return t}function qw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var kI="ng-template";function SM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&CM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ap(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ap(t){return t.type===4&&t.value!==kI}function AM(t,e,n){let r=t.type===4&&!n?kI:t.value;return e===r}function MM(t,e,n){let r=4,i=t.attrs,o=i!==null?NM(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!zt(r)&&!zt(u))return!1;if(s&&zt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!AM(t,u,n)||u===""&&e.length===1){if(zt(r))return!1;s=!0}}else if(r&8){if(i===null||!SM(t,i,u,n)){if(zt(r))return!1;s=!0}}else{let l=e[++a],h=RM(u,i,ap(t),n);if(h===-1){if(zt(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(zt(r))return!1;s=!0}}}}return zt(r)||s}function zt(t){return(t&1)===0}function RM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return PM(e,t)}function xM(t,e,n=!1){for(let r=0;r<e.length;r++)if(MM(t,e[r],n))return!0;return!1}function NM(t){for(let e=0;e<t.length;e++){let n=t[e];if(OI(n))return e}return t.length}function PM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function zw(t,e){return t?":not("+e.trim()+")":e}function OM(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!zt(s)&&(e+=zw(o,i),i=""),r=s,o=o||!zt(r);n++}return i!==""&&(e+=zw(o,i)),e}function kM(t){return t.map(OM).join(",")}function FM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!zt(i))break;i=o}r++}return{attrs:e,classes:n}}function Fe(t){return Mu(()=>{let e=UI(t),n=fe(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===PI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||an.Emulated,styles:t.styles||Rt,_:null,schemas:t.schemas||null,tView:null,id:""});BI(n);let r=t.dependencies;return n.directiveDefs=Ww(r,!1),n.pipeDefs=Ww(r,!0),n.id=jM(n),n})}function VM(t){return Kr(t)||FI(t)}function LM(t){return t!==null}function lr(t){return Mu(()=>({type:t.type,bootstrap:t.bootstrap||Rt,declarations:t.declarations||Rt,imports:t.imports||Rt,exports:t.exports||Rt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Gw(t,e){if(t==null)return Xi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=to.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==to.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ve(t){return Mu(()=>{let e=UI(t);return BI(e),e})}function Kr(t){return t[iM]||null}function FI(t){return t[oM]||null}function VI(t){return t[sM]||null}function LI(t){let e=Kr(t)||FI(t)||VI(t);return e!==null?e.standalone:!1}function jI(t,e){let n=t[aM]||null;if(!n&&e===!0)throw new Error(`Type ${_t(t)} does not have '\u0275mod' property.`);return n}function UI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Xi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Rt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Gw(t.inputs,e),outputs:Gw(t.outputs),debugInfo:null}}function BI(t){t.features?.forEach(e=>e(t))}function Ww(t,e){if(!t)return null;let n=e?VI:VM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(LM)}function jM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Pu(t){return{\u0275providers:t}}function UM(...t){return{\u0275providers:$I(!0,t),\u0275fromNgModule:!0}}function $I(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return sp(e,s=>{let a=s;ff(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&HI(i,o),n}function HI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];cp(i,o=>{e(o,r)})}}function ff(t,e,n,r){if(t=ft(t),!t)return!1;let i=null,o=Uw(t),s=!o&&Kr(t);if(!o&&!s){let u=t.ngModule;if(o=Uw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)ff(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{sp(o.imports,h=>{ff(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&HI(l,e)}if(!a){let l=Zi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Rt},i),e({provide:NI,useValue:i,multi:!0},i),e({provide:eo,useValue:()=>oe(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;cp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function cp(t,e){for(let n of t)SI(n)&&(n=n.\u0275providers),Array.isArray(n)?cp(n,e):e(n)}var BM=De({provide:String,useValue:De});function qI(t){return t!==null&&typeof t=="object"&&BM in t}function $M(t){return!!(t&&t.useExisting)}function HM(t){return!!(t&&t.useFactory)}function no(t){return typeof t=="function"}function qM(t){return!!t.useClass}var Ou=new J(""),ru={},zM={},Qh;function up(){return Qh===void 0&&(Qh=new hu),Qh}var Nt=class{},ks=class extends Nt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gf(e,s=>this.processProvider(s)),this.records.set(xI,Wi(void 0,this)),i.has("environment")&&this.records.set(Nt,Wi(void 0,this));let o=this.records.get(Ou);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(NI,Rt,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=rr(this),r=Mt(void 0),i;try{return e()}finally{rr(n),Mt(r)}}get(e,n=Ps,r=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty($w))return e[$w](this);r=Nu(r);let i,o=rr(this),s=Mt(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=YM(e)&&Ru(e);l&&this.injectableDefInScope(l)?u=Wi(pf(e),ru):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&se.Self?up():this.parent;return n=r&se.Optional&&n===Ps?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[lu]=a[lu]||[]).unshift(_t(e)),o)throw a;return vM(a,e,"R3InjectorError",this.source)}else throw a}finally{Mt(s),rr(o)}}resolveInjectorInitializers(){let e=pe(null),n=rr(this),r=Mt(void 0),i;try{let o=this.get(eo,Rt,se.Self);for(let s of o)s()}finally{rr(n),Mt(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(_t(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){e=ft(e);let n=no(e)?e:ft(e&&e.provide),r=WM(e);if(!no(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Wi(void 0,ru,!0),i.factory=()=>df(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===ru&&(n.value=zM,n.value=n.factory()),typeof n.value=="object"&&n.value&&QM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ft(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function pf(t){let e=Ru(t),n=e!==null?e.factory:Zi(t);if(n!==null)return n;if(t instanceof J)throw new z(204,!1);if(t instanceof Function)return GM(t);throw new z(204,!1)}function GM(t){if(t.length>0)throw new z(204,!1);let n=nM(t);return n!==null?()=>n.factory(t):()=>new t}function WM(t){if(qI(t))return Wi(void 0,t.useValue);{let e=zI(t);return Wi(e,ru)}}function zI(t,e,n){let r;if(no(t)){let i=ft(t);return Zi(i)||pf(i)}else if(qI(t))r=()=>ft(t.useValue);else if(HM(t))r=()=>t.useFactory(...df(t.deps||[]));else if($M(t))r=()=>oe(ft(t.useExisting));else{let i=ft(t&&(t.useClass||t.provide));if(KM(t))r=()=>new i(...df(t.deps));else return Zi(i)||pf(i)}return r}function Wi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function KM(t){return!!t.deps}function QM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function YM(t){return typeof t=="function"||typeof t=="object"&&t instanceof J}function gf(t,e){for(let n of t)Array.isArray(n)?gf(n,e):n&&SI(n)?gf(n.\u0275providers,e):e(n)}function xn(t,e){t instanceof ks&&t.assertNotDestroyed();let n,r=rr(t),i=Mt(void 0);try{return e()}finally{rr(r),Mt(i)}}function JM(){return AI()!==void 0||gM()!=null}function ZM(t){return typeof t=="function"}var Nn=0,X=1,Y=2,st=3,Gt=4,Qt=5,Fs=6,fu=7,it=8,ro=9,cn=10,Je=11,Vs=12,Kw=13,uo=14,Wt=15,Qr=16,Ki=17,An=18,ku=19,GI=20,ir=21,Yh=22,xt=23,Pt=25,WI=1;var Yr=7,pu=8,io=9,ot=10,gu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(gu||{});function or(t){return Array.isArray(t)&&typeof t[WI]=="object"}function Pn(t){return Array.isArray(t)&&t[WI]===!0}function KI(t){return(t.flags&4)!==0}function Fu(t){return t.componentOffset>-1}function lp(t){return(t.flags&1)===1}function sr(t){return!!t.template}function mf(t){return(t[Y]&512)!==0}var yf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function QI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Yt(){return YI}function YI(t){return t.type.prototype.ngOnChanges&&(t.setInput=eR),XM}Yt.ngInherit=!0;function XM(){let t=ZI(this),e=t?.current;if(e){let n=t.previous;if(n===Xi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function eR(t,e,n,r,i){let o=this.declaredInputs[r],s=ZI(t)||tR(t,{previous:Xi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new yf(l&&l.currentValue,n,u===Xi),QI(t,e,i,n)}var JI="__ngSimpleChanges__";function ZI(t){return t[JI]||null}function tR(t,e){return t[JI]=e}var Qw=null;var on=function(t,e,n){Qw?.(t,e,n)},nR="svg",rR="math";function un(t){for(;Array.isArray(t);)t=t[Nn];return t}function XI(t,e){return un(e[t])}function Ot(t,e){return un(e[t.index])}function dp(t,e){return t.data[e]}function iR(t,e){return t[e]}function dr(t,e){let n=e[t];return or(n)?n:n[Nn]}function oR(t){return(t[Y]&4)===4}function hp(t){return(t[Y]&128)===128}function sR(t){return Pn(t[st])}function oo(t,e){return e==null?null:t[e]}function eE(t){t[Ki]=0}function tE(t){t[Y]&1024||(t[Y]|=1024,hp(t)&&Vu(t))}function aR(t,e){for(;t>0;)e=e[uo],t--;return e}function Ls(t){return!!(t[Y]&9216||t[xt]?.dirty)}function vf(t){t[cn].changeDetectionScheduler?.notify(7),t[Y]&64&&(t[Y]|=1024),Ls(t)&&Vu(t)}function Vu(t){t[cn].changeDetectionScheduler?.notify(0);let e=Jr(t);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!hp(e)));)e=Jr(e)}function nE(t,e){if((t[Y]&256)===256)throw new z(911,!1);t[ir]===null&&(t[ir]=[]),t[ir].push(e)}function cR(t,e){if(t[ir]===null)return;let n=t[ir].indexOf(e);n!==-1&&t[ir].splice(n,1)}function Jr(t){let e=t[st];return Pn(e)?e[st]:e}var ae={lFrame:dE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var rE=!1;function uR(){return ae.lFrame.elementDepthCount}function lR(){ae.lFrame.elementDepthCount++}function dR(){ae.lFrame.elementDepthCount--}function iE(){return ae.bindingsEnabled}function hR(){return ae.skipHydrationRootTNode!==null}function fR(t){return ae.skipHydrationRootTNode===t}function pR(){ae.skipHydrationRootTNode=null}function ve(){return ae.lFrame.lView}function wt(){return ae.lFrame.tView}function Ks(t){return ae.lFrame.contextLView=t,t[it]}function Qs(t){return ae.lFrame.contextLView=null,t}function pt(){let t=oE();for(;t!==null&&t.type===64;)t=t.parent;return t}function oE(){return ae.lFrame.currentTNode}function gR(){let t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ys(t,e){let n=ae.lFrame;n.currentTNode=t,n.isParent=e}function sE(){return ae.lFrame.isParent}function mR(){ae.lFrame.isParent=!1}function yR(){return ae.lFrame.contextLView}function aE(){return rE}function Yw(t){rE=t}function vR(){let t=ae.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function _R(t){return ae.lFrame.bindingIndex=t}function Js(){return ae.lFrame.bindingIndex++}function wR(t){let e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function IR(){return ae.lFrame.inI18n}function ER(t,e){let n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,_f(e)}function DR(){return ae.lFrame.currentDirectiveIndex}function _f(t){ae.lFrame.currentDirectiveIndex=t}function bR(t){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function cE(){return ae.lFrame.currentQueryIndex}function fp(t){ae.lFrame.currentQueryIndex=t}function CR(t){let e=t[X];return e.type===2?e.declTNode:e.type===1?t[Qt]:null}function uE(t,e,n){if(n&se.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&se.Host);)if(i=CR(o),i===null||(o=o[uo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ae.lFrame=lE();return r.currentTNode=e,r.lView=t,!0}function pp(t){let e=lE(),n=t[X];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function lE(){let t=ae.lFrame,e=t===null?null:t.child;return e===null?dE(t):e}function dE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function hE(){let t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var fE=hE;function gp(){let t=hE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function TR(t){return(ae.lFrame.contextLView=aR(t,ae.lFrame.contextLView))[it]}function ii(){return ae.lFrame.selectedIndex}function Zr(t){ae.lFrame.selectedIndex=t}function pE(){let t=ae.lFrame;return dp(t.tView,t.selectedIndex)}function SR(){return ae.lFrame.currentNamespace}var gE=!0;function mp(){return gE}function yp(t){gE=t}function AR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=YI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function vp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function iu(t,e,n){mE(t,e,3,n)}function ou(t,e,n,r){(t[Y]&3)===n&&mE(t,e,n,r)}function Jh(t,e){let n=t[Y];(n&3)===e&&(n&=16383,n+=1,t[Y]=n)}function mE(t,e,n,r){let i=r!==void 0?t[Ki]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Ki]+=65536),(a<o||o==-1)&&(MR(t,n,e,u),t[Ki]=(t[Ki]&4294901760)+u+2),u++}function Jw(t,e){on(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),on(5,t,e)}}function MR(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Y]>>14<t[Ki]>>16&&(t[Y]&3)===e&&(t[Y]+=16384,Jw(a,o)):Jw(a,o)}var Ji=-1,Xr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function RR(t){return t instanceof Xr}function xR(t){return(t.flags&8)!==0}function NR(t){return(t.flags&16)!==0}var Zh={},wf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Nu(r);let i=this.injector.get(e,Zh,r);return i!==Zh||n===Zh?i:this.parentInjector.get(e,n,r)}};function yE(t){return t!==Ji}function mu(t){return t&32767}function PR(t){return t>>16}function yu(t,e){let n=PR(t),r=e;for(;n>0;)r=r[uo],n--;return r}var If=!0;function Zw(t){let e=If;return If=t,e}var OR=256,vE=OR-1,_E=5,kR=0,sn={};function FR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ns)&&(r=n[Ns]),r==null&&(r=n[Ns]=kR++);let i=r&vE,o=1<<i;e.data[t+(i>>_E)]|=o}function vu(t,e){let n=wE(t,e);if(n!==-1)return n;let r=e[X];r.firstCreatePass&&(t.injectorIndex=e.length,Xh(r.data,t),Xh(e,null),Xh(r.blueprint,null));let i=_p(t,e),o=t.injectorIndex;if(yE(i)){let s=mu(i),a=yu(i,e),u=a[X].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Xh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function wE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function _p(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=CE(i),r===null)return Ji;if(n++,i=i[uo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ji}function Ef(t,e,n){FR(t,e,n)}function VR(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(OI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function IE(t,e,n){if(n&se.Optional||t!==void 0)return t;op(e,"NodeInjector")}function EE(t,e,n,r){if(n&se.Optional&&r===void 0&&(r=null),!(n&(se.Self|se.Host))){let i=t[ro],o=Mt(void 0);try{return i?i.get(e,r,n&se.Optional):MI(e,r,n&se.Optional)}finally{Mt(o)}}return IE(r,e,n)}function DE(t,e,n,r=se.Default,i){if(t!==null){if(e[Y]&2048&&!(r&se.Self)){let s=BR(t,e,n,r,sn);if(s!==sn)return s}let o=bE(t,e,n,r,sn);if(o!==sn)return o}return EE(e,n,r,i)}function bE(t,e,n,r,i){let o=jR(n);if(typeof o=="function"){if(!uE(e,t,r))return r&se.Host?IE(i,n,r):EE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&se.Optional))op(n);else return s}finally{fE()}}else if(typeof o=="number"){let s=null,a=wE(t,e),u=Ji,l=r&se.Host?e[Wt][Qt]:null;for((a===-1||r&se.SkipSelf)&&(u=a===-1?_p(t,e):e[a+8],u===Ji||!eI(r,!1)?a=-1:(s=e[X],a=mu(u),e=yu(u,e)));a!==-1;){let h=e[X];if(Xw(o,a,h.data)){let p=LR(a,e,n,s,r,l);if(p!==sn)return p}u=e[a+8],u!==Ji&&eI(r,e[X].data[a+8]===l)&&Xw(o,a,e)?(s=h,a=mu(u),e=yu(u,e)):a=-1}}return i}function LR(t,e,n,r,i,o){let s=e[X],a=s.data[t+8],u=r==null?Fu(a)&&If:r!=s&&(a.type&3)!==0,l=i&se.Host&&o===a,h=su(a,s,n,u,l);return h!==null?ei(e,s,h,a):sn}function su(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&n===S||y>=u&&S.type===n)return y}if(i){let y=s[u];if(y&&sr(y)&&y.type===n)return u}return null}function ei(t,e,n,r){let i=t[n],o=e.data;if(RR(i)){let s=i;s.resolving&&uM(cM(o[n]));let a=Zw(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Mt(s.injectImpl):null,h=uE(t,r,se.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&AR(n,o[n],e)}finally{l!==null&&Mt(l),Zw(a),s.resolving=!1,fE()}}return i}function jR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ns)?t[Ns]:void 0;return typeof e=="number"?e>=0?e&vE:UR:e}function Xw(t,e,n){let r=1<<t;return!!(n[e+(t>>_E)]&r)}function eI(t,e){return!(t&se.Self)&&!(t&se.Host&&e)}var Gr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return DE(this._tNode,this._lView,e,Nu(r),n)}};function UR(){return new Gr(pt(),ve())}function hr(t){return Mu(()=>{let e=t.prototype.constructor,n=e[uu]||Df(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[uu]||Df(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Df(t){return DI(t)?()=>{let e=Df(ft(t));return e&&e()}:Zi(t)}function BR(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Y]&2048&&!(s[Y]&512);){let a=bE(o,s,n,r|se.Self,sn);if(a!==sn)return a;let u=o.parent;if(!u){let l=s[GI];if(l){let h=l.get(n,sn,r);if(h!==sn)return h}u=CE(s),s=s[uo]}o=u}return i}function CE(t){let e=t[X],n=e.type;return n===2?e.declTNode:n===1?t[Qt]:null}function wp(t){return VR(pt(),t)}function tI(t,e=null,n=null,r){let i=TE(t,e,n,r);return i.resolveInjectorInitializers(),i}function TE(t,e=null,n=null,r,i=new Set){let o=[n||Rt,UM(t)];return r=r||(typeof t=="object"?void 0:_t(t)),new ks(o,e||up(),r||null,i)}var zr=class zr{static create(e,n){if(Array.isArray(e))return tI({name:""},n,e,"");{let r=e.name??"";return tI({name:r},e.parent,e.providers,r)}}};zr.THROW_IF_NOT_FOUND=Ps,zr.NULL=new hu,zr.\u0275prov=W({token:zr,providedIn:"any",factory:()=>oe(xI)}),zr.__NG_ELEMENT_ID__=-1;var ar=zr;var $R=new J("");$R.__NG_ELEMENT_ID__=t=>{let e=pt();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(t&se.Optional)return null;throw new z(204,!1)};var HR="ngOriginalError";function ef(t){return t[HR]}var Mn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ef(e);for(;n&&ef(n);)n=ef(n);return n||null}},SE=new J("",{providedIn:"root",factory:()=>F(Mn).handleError.bind(void 0)}),AE=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=qR,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),bf=class extends AE{constructor(e){super(),this._lView=e}onDestroy(e){return nE(this._lView,e),()=>cR(this._lView,e)}};function qR(){return new bf(ve())}function zR(){return lo(pt(),ve())}function lo(t,e){return new kt(Ot(t,e))}var kt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=zR;let t=e;return t})();function GR(t){return t instanceof kt?t.nativeElement:t}var ho=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Cf=class extends ze{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,JM()&&(this.destroyRef=F(AE,{optional:!0})??void 0,this.pendingTasks=F(ho,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Pe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Te=Cf;function WR(){return this._results[Symbol.iterator]()}var Tf=class t{get changes(){return this._changes??=new Te}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=WR)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=IM(e);(this._changesDetected=!wM(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function ME(t){return(t.flags&128)===128}var RE=new Map,KR=0;function QR(){return KR++}function YR(t){RE.set(t[ku],t)}function JR(t){RE.delete(t[ku])}var nI="__ngContext__";function ti(t,e){or(e)?(t[nI]=e[ku],YR(e)):t[nI]=e}function xE(t){return PE(t[Vs])}function NE(t){return PE(t[Gt])}function PE(t){for(;t!==null&&!Pn(t);)t=t[Gt];return t}var Sf;function OE(t){Sf=t}function ZR(){if(Sf!==void 0)return Sf;if(typeof document<"u")return document;throw new z(210,!1)}var Ip=new J("",{providedIn:"root",factory:()=>XR}),XR="ng",Ep=new J(""),fo=new J("",{providedIn:"platform",factory:()=>"unknown"});var Dp=new J("",{providedIn:"root",factory:()=>ZR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ex="h",tx="b";var nx=()=>null;function bp(t,e,n=!1){return nx(t,e,n)}var kE=!1,rx=new J("",{providedIn:"root",factory:()=>kE});var Xc;function ix(){if(Xc===void 0&&(Xc=null,Wr.trustedTypes))try{Xc=Wr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xc}function ox(t){return ix()?.createScriptURL(t)||t}var eu;function sx(){if(eu===void 0&&(eu=null,Wr.trustedTypes))try{eu=Wr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return eu}function rI(t){return sx()?.createScriptURL(t)||t}var _u=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${EI})`}};function Zs(t){return t instanceof _u?t.changingThisBreaksApplicationSecurity:t}function Cp(t,e){let n=ax(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${EI})`)}return n===e}function ax(t){return t instanceof _u&&t.getTypeName()||null}var cx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function FE(t){return t=String(t),t.match(cx)?t:"unsafe:"+t}var Lu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Lu||{});function ux(t){let e=jE();return e?e.sanitize(Lu.URL,t)||"":Cp(t,"URL")?Zs(t):FE(xu(t))}function lx(t){let e=jE();if(e)return rI(e.sanitize(Lu.RESOURCE_URL,t)||"");if(Cp(t,"ResourceURL"))return rI(Zs(t));throw new z(904,!1)}function VE(t){return ox(t[0])}function dx(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?lx:ux}function LE(t,e,n){return dx(e,n)(t)}function jE(){let t=ve();return t&&t[cn].sanitizer}function UE(t){return t instanceof Function?t():t}var Rn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Rn||{}),hx;function Tp(t,e){return hx(t,e)}function Qi(t,e,n,r,i){if(r!=null){let o,s=!1;Pn(r)?o=r:or(r)&&(s=!0,r=r[Nn]);let a=un(r);t===0&&n!==null?i==null?qE(e,n,a):wu(e,n,a,i||null,!0):t===1&&n!==null?wu(e,n,a,i||null,!0):t===2?Ax(e,a,s):t===3&&e.destroyNode(a),o!=null&&Rx(e,t,o,n,i)}}function fx(t,e){return t.createText(e)}function px(t,e,n){t.setValue(e,n)}function BE(t,e,n){return t.createElement(e,n)}function gx(t,e){$E(t,e),e[Nn]=null,e[Qt]=null}function mx(t,e,n,r,i,o){r[Nn]=i,r[Qt]=e,Uu(t,r,n,1,i,o)}function $E(t,e){e[cn].changeDetectionScheduler?.notify(8),Uu(t,e,e[Je],2,null,null)}function yx(t){let e=t[Vs];if(!e)return tf(t[X],t);for(;e;){let n=null;if(or(e))n=e[Vs];else{let r=e[ot];r&&(n=r)}if(!n){for(;e&&!e[Gt]&&e!==t;)or(e)&&tf(e[X],e),e=e[st];e===null&&(e=t),or(e)&&tf(e[X],e),n=e&&e[Gt]}e=n}}function vx(t,e,n,r){let i=ot+r,o=n.length;r>0&&(n[i-1][Gt]=e),r<o-ot?(e[Gt]=n[i],RI(n,ot+r,e)):(n.push(e),e[Gt]=null),e[st]=n;let s=e[Qr];s!==null&&n!==s&&HE(s,e);let a=e[An];a!==null&&a.insertView(t),vf(e),e[Y]|=128}function HE(t,e){let n=t[io],r=e[st];if(or(r))t[Y]|=gu.HasTransplantedViews;else{let i=r[st][Wt];e[Wt]!==i&&(t[Y]|=gu.HasTransplantedViews)}n===null?t[io]=[e]:n.push(e)}function Sp(t,e){let n=t[io],r=n.indexOf(e);n.splice(r,1)}function js(t,e){if(t.length<=ot)return;let n=ot+e,r=t[n];if(r){let i=r[Qr];i!==null&&i!==t&&Sp(i,r),e>0&&(t[n-1][Gt]=r[Gt]);let o=du(t,ot+e);gx(r[X],r);let s=o[An];s!==null&&s.detachView(o[X]),r[st]=null,r[Gt]=null,r[Y]&=-129}return r}function ju(t,e){if(!(e[Y]&256)){let n=e[Je];n.destroyNode&&Uu(t,e,n,3,null,null),yx(e)}}function tf(t,e){if(e[Y]&256)return;let n=pe(null);try{e[Y]&=-129,e[Y]|=256,e[xt]&&Sh(e[xt]),wx(t,e),_x(t,e),e[X].type===1&&e[Je].destroy();let r=e[Qr];if(r!==null&&Pn(e[st])){r!==e[st]&&Sp(r,e);let i=e[An];i!==null&&i.detachView(t)}JR(e)}finally{pe(n)}}function _x(t,e){let n=t.cleanup,r=e[fu];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[fu]=null);let i=e[ir];if(i!==null){e[ir]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function wx(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Xr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];on(4,a,u);try{u.call(a)}finally{on(5,a,u)}}else{on(4,i,o);try{o.call(i)}finally{on(5,i,o)}}}}}function Ix(t,e,n){return Ex(t,e.parent,n)}function Ex(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Nn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===an.None||o===an.Emulated)return null}return Ot(r,n)}}function wu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function qE(t,e,n){t.appendChild(e,n)}function iI(t,e,n,r,i){r!==null?wu(t,e,n,r,i):qE(t,e,n)}function Dx(t,e,n,r){t.removeChild(e,n,r)}function Ap(t,e){return t.parentNode(e)}function bx(t,e){return t.nextSibling(e)}function Cx(t,e,n){return Sx(t,e,n)}function Tx(t,e,n){return t.type&40?Ot(t,n):null}var Sx=Tx,oI;function Mp(t,e,n,r){let i=Ix(t,r,e),o=e[Je],s=r.parent||e[Qt],a=Cx(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)iI(o,i,n[u],a,!1);else iI(o,i,n,a,!1);oI!==void 0&&oI(o,r,e,n,i)}function au(t,e){if(e!==null){let n=e.type;if(n&3)return Ot(e,t);if(n&4)return Af(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return au(t,r);{let i=t[e.index];return Pn(i)?Af(-1,i):un(i)}}else{if(n&32)return Tp(e,t)()||un(t[e.index]);{let r=zE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Jr(t[Wt]);return au(i,r)}else return au(t,e.next)}}}return null}function zE(t,e){if(e!==null){let r=t[Wt][Qt],i=e.projection;return r.projection[i]}return null}function Af(t,e){let n=ot+t+1;if(n<e.length){let r=e[n],i=r[X].firstChild;if(i!==null)return au(r,i)}return e[Yr]}function Ax(t,e,n){let r=Ap(t,e);r&&Dx(t,r,e,n)}function Rp(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&ti(un(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Rp(t,e,n.child,r,i,o,!1),Qi(e,t,i,a,o);else if(u&32){let l=Tp(n,r),h;for(;h=l();)Qi(e,t,i,h,o);Qi(e,t,i,a,o)}else u&16?Mx(t,e,r,n,i,o):Qi(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Uu(t,e,n,r,i,o){Rp(n,r,t.firstChild,e,i,o,!1)}function Mx(t,e,n,r,i,o){let s=n[Wt],u=s[Qt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Qi(e,t,i,h,o)}else{let l=u,h=s[st];ME(r)&&(l.flags|=128),Rp(t,e,l,h,i,o,!0)}}function Rx(t,e,n,r,i){let o=n[Yr],s=un(n);o!==s&&Qi(e,t,r,o,i);for(let a=ot;a<n.length;a++){let u=n[a];Uu(u[X],u,t,e,r,o)}}function xx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Rn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Rn.Important),t.setStyle(n,r,i,o))}}function Nx(t,e,n){t.setAttribute(e,"style",n)}function GE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function WE(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&hf(t,e,r),i!==null&&GE(t,e,i),o!==null&&Nx(t,e,o)}var fr={};function Ge(t=1){KE(wt(),ve(),ii()+t,!1)}function KE(t,e,n,r){if(!r)if((e[Y]&3)===3){let o=t.preOrderCheckHooks;o!==null&&iu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ou(e,o,0,n)}Zr(n)}function H(t,e=se.Default){let n=ve();if(n===null)return oe(t,e);let r=pt();return DE(r,n,ft(t),e)}function QE(t,e,n,r,i,o){let s=pe(null);try{let a=null;i&to.SignalBased&&(a=e[r][lw]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&to.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):QI(e,a,r,o)}finally{pe(s)}}function Px(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Zr(~i);else{let o=i,s=n[++r],a=n[++r];ER(s,o);let u=e[o];a(2,u)}}}finally{Zr(-1)}}function Bu(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Nn]=i,p[Y]=r|4|128|8|64,(l!==null||t&&t[Y]&2048)&&(p[Y]|=2048),eE(p),p[st]=p[uo]=t,p[it]=n,p[cn]=s||t&&t[cn],p[Je]=a||t&&t[Je],p[ro]=u||t&&t[ro]||null,p[Qt]=o,p[ku]=QR(),p[Fs]=h,p[GI]=l,p[Wt]=e.type==2?t[Wt]:p,p}function $u(t,e,n,r,i){let o=t.data[e];if(o===null)o=Ox(t,e,n,r,i),IR()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=gR();o.injectorIndex=s===null?-1:s.injectorIndex}return Ys(o,!0),o}function Ox(t,e,n,r,i){let o=oE(),s=sE(),a=s?o:o&&o.parent,u=t.data[e]=Ux(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function YE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function JE(t,e,n,r,i){let o=ii(),s=r&2;try{Zr(-1),s&&e.length>Pt&&KE(t,e,Pt,!1),on(s?2:0,i),n(r,i)}finally{Zr(o),on(s?3:1,i)}}function ZE(t,e,n){if(KI(e)){let r=pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{pe(r)}}}function XE(t,e,n){iE()&&(Wx(t,e,n,Ot(n,e)),(n.flags&64)===64&&iD(t,e,n))}function eD(t,e,n=Ot){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function tD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=xp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function xp(t,e,n,r,i,o,s,a,u,l,h){let p=Pt+r,m=p+i,y=kx(p,m),S=typeof l=="function"?l():l;return y[X]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function kx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:fr);return n}function Fx(t,e,n,r){let o=r.get(rx,kE)||n===an.ShadowDom,s=t.selectRootElement(e,o);return Vx(s),s}function Vx(t){Lx(t)}var Lx=()=>null;function jx(t,e,n,r){let i=aD(e);i.push(n),t.firstCreatePass&&cD(t).push(r,i.length-1)}function Ux(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return hR()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function sI(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=to.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?aI(r,n,l,a,u):aI(r,n,l,a)}return r}function aI(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function Bx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,y=m?m.inputs:null,S=m?m.outputs:null;u=sI(0,p.inputs,h,u,y),l=sI(1,p.outputs,h,l,S);let R=u!==null&&s!==null&&!ap(e)?iN(u,h,s):null;a.push(R)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function $x(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Hx(t,e,n,r,i,o,s,a){let u=Ot(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Np(t,n,h,r,i),Fu(e)&&qx(n,e.index)):e.type&3?(r=$x(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function qx(t,e){let n=dr(e,t);n[Y]&16||(n[Y]|=64)}function nD(t,e,n,r){if(iE()){let i=r===null?null:{"":-1},o=Qx(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&rD(t,e,n,s,i,a),i&&Yx(n,r,i)}n.mergedAttrs=Os(n.mergedAttrs,n.attrs)}function rD(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Ef(vu(n,e),t,r[l].type);Zx(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=YE(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Os(n.mergedAttrs,h.hostAttrs),Xx(t,n,e,u,h),Jx(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}Bx(t,n,o)}function zx(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Gx(s)!=a&&s.push(a),s.push(n,r,o)}}function Gx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Wx(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Fu(n)&&eN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||vu(n,e),ti(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=ei(e,t,a,n);if(ti(l,e),s!==null&&rN(e,a-i,l,u,n,s),sr(u)){let h=dr(n.index,e);h[it]=ei(e,t,a,n)}}}function iD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=DR();try{Zr(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];_f(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Kx(u,l)}}finally{Zr(-1),_f(s)}}function Kx(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Qx(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(xM(e,s.selectors,!1))if(r||(r=[]),sr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Mf(t,e,u)}else r.unshift(s),Mf(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Mf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Yx(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new z(-301,!1);r.push(e[i],o)}}}function Jx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;sr(e)&&(n[""]=t)}}function Zx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Xx(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Zi(i.type,!0)),s=new Xr(o,sr(i),H);t.blueprint[r]=s,n[r]=s,zx(t,e,r,YE(t,n,i.hostVars,fr),i)}function eN(t,e,n){let r=Ot(e,t),i=tD(n),o=t[cn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Hu(t,Bu(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function tN(t,e,n,r,i,o){let s=Ot(t,e);nN(e[Je],s,o,t.value,n,r,i)}function nN(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?xu(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function rN(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];QE(r,n,u,l,h,p)}}function iN(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function oD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function sD(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];fp(o),a.contentQueries(2,e[s],s)}}}finally{pe(r)}}}function Hu(t,e){return t[Vs]?t[Kw][Gt]=e:t[Vs]=e,t[Kw]=e,e}function Rf(t,e,n){fp(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function aD(t){return t[fu]??=[]}function cD(t){return t.cleanup??=[]}function uD(t,e){let n=t[ro],r=n?n.get(Mn,null):null;r&&r.handleError(e)}function Np(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];QE(h,l,r,a,u,i)}}function oN(t,e,n){let r=XI(e,t);px(t[Je],r,n)}function sN(t,e){let n=dr(e,t),r=n[X];aN(r,n);let i=n[Nn];i!==null&&n[Fs]===null&&(n[Fs]=bp(i,n[ro])),Pp(r,n,n[it])}function aN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Pp(t,e,n){pp(e);try{let r=t.viewQuery;r!==null&&Rf(1,r,n);let i=t.template;i!==null&&JE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[An]?.finishViewCreation(t),t.staticContentQueries&&sD(t,e),t.staticViewQueries&&Rf(2,t.viewQuery,n);let o=t.components;o!==null&&cN(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y]&=-5,gp()}}function cN(t,e){for(let n=0;n<e.length;n++)sN(t,e[n])}function qu(t,e,n,r){let i=pe(null);try{let o=e.tView,a=t[Y]&4096?4096:16,u=Bu(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Qr]=l;let h=t[An];return h!==null&&(u[An]=h.createEmbeddedView(o)),Pp(o,u,n),u}finally{pe(i)}}function lD(t,e){let n=ot+e;if(n<t.length)return t[n]}function Us(t,e){return!e||e.firstChild===null||ME(t)}function zu(t,e,n,r=!0){let i=e[X];if(vx(i,e,t,n),r){let s=Af(n,t),a=e[Je],u=Ap(a,t[Yr]);u!==null&&mx(i,t[Qt],a,e,u,s)}let o=e[Fs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function dD(t,e){let n=js(t,e);return n!==void 0&&ju(n[X],n),n}function Iu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(un(o)),Pn(o)&&uN(o,r);let s=n.type;if(s&8)Iu(t,e,n.child,r);else if(s&32){let a=Tp(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=zE(e,n);if(Array.isArray(a))r.push(...a);else{let u=Jr(e[Wt]);Iu(u[X],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function uN(t,e){for(let n=ot;n<t.length;n++){let r=t[n],i=r[X].firstChild;i!==null&&Iu(r[X],r,i,e)}t[Yr]!==t[Nn]&&e.push(t[Yr])}var hD=[];function lN(t){return t[xt]??dN(t)}function dN(t){let e=hD.pop()??Object.create(fN);return e.lView=t,e}function hN(t){t.lView[xt]!==t&&(t.lView=null,hD.push(t))}var fN=fe(O({},bh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Vu(t.lView)},consumerOnSignalRead(){this.lView[xt]=this}});function pN(t){let e=t[xt]??Object.create(gN);return e.lView=t,e}var gN=fe(O({},bh),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Jr(t.lView);for(;e&&!fD(e[X]);)e=Jr(e);e&&tE(e)},consumerOnSignalRead(){this.lView[xt]=this}});function fD(t){return t.type!==2}var mN=100;function pD(t,e=!0,n=0){let r=t[cn],i=r.rendererFactory,o=!1;o||i.begin?.();try{yN(t,n)}catch(s){throw e&&uD(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function yN(t,e){let n=aE();try{Yw(!0),xf(t,e);let r=0;for(;Ls(t);){if(r===mN)throw new z(103,!1);r++,xf(t,1)}}finally{Yw(n)}}function vN(t,e,n,r){let i=e[Y];if((i&256)===256)return;let o=!1,s=!1;!o&&e[cn].inlineEffectRunner?.flush(),pp(e);let a=!0,u=null,l=null;o||(fD(t)?(l=lN(e),u=Ch(l)):dw()===null?(a=!1,l=pN(e),u=Ch(l)):e[xt]&&(Sh(e[xt]),e[xt]=null));try{eE(e),_R(t.bindingStartIndex),n!==null&&JE(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&iu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&ou(e,y,0,null),Jh(e,0)}if(s||_N(e),gD(e,0),t.contentQueries!==null&&sD(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&iu(e,y)}else{let y=t.contentHooks;y!==null&&ou(e,y,1),Jh(e,1)}Px(t,e);let p=t.components;p!==null&&yD(e,p,0);let m=t.viewQuery;if(m!==null&&Rf(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&iu(e,y)}else{let y=t.viewHooks;y!==null&&ou(e,y,2),Jh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Yh]){for(let y of e[Yh])y();e[Yh]=null}o||(e[Y]&=-73)}catch(h){throw o||Vu(e),h}finally{l!==null&&(hw(l,u),a&&hN(l)),gp()}}function gD(t,e){for(let n=xE(t);n!==null;n=NE(n))for(let r=ot;r<n.length;r++){let i=n[r];mD(i,e)}}function _N(t){for(let e=xE(t);e!==null;e=NE(e)){if(!(e[Y]&gu.HasTransplantedViews))continue;let n=e[io];for(let r=0;r<n.length;r++){let i=n[r];tE(i)}}}function wN(t,e,n){let r=dr(e,t);mD(r,n)}function mD(t,e){hp(t)&&xf(t,e)}function xf(t,e){let r=t[X],i=t[Y],o=t[xt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Th(o)),s||=!1,o&&(o.dirty=!1),t[Y]&=-9217,s)vN(r,t,r.template,t[it]);else if(i&8192){gD(t,1);let a=r.components;a!==null&&yD(t,a,1)}}function yD(t,e,n){for(let r=0;r<e.length;r++)wN(t,e[r],n)}function Op(t,e){let n=aE()?64:1088;for(t[cn].changeDetectionScheduler?.notify(e);t;){t[Y]|=n;let r=Jr(t);if(mf(t)&&!r)return t;t=r}return null}var ni=class{get rootNodes(){let e=this._lView,n=e[X];return Iu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[it]}set context(e){this._lView[it]=e}get destroyed(){return(this._lView[Y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[st];if(Pn(e)){let n=e[pu],r=n?n.indexOf(this):-1;r>-1&&(js(e,r),du(n,r))}this._attachedToViewContainer=!1}ju(this._lView[X],this._lView)}onDestroy(e){nE(this._lView,e)}markForCheck(){Op(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){vf(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,pD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=mf(this._lView),n=this._lView[Qr];n!==null&&!e&&Sp(n,this._lView),$E(this._lView[X],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let n=mf(this._lView),r=this._lView[Qr];r!==null&&!n&&HE(r,this._lView),vf(this._lView)}},Bs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=DN;let t=e;return t})(),IN=Bs,EN=class extends IN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=qu(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ni(i)}};function DN(){return kp(pt(),ve())}function kp(t,e){return t.type&4?new EN(e,t,lo(t,e)):null}var l4=new RegExp(`^(\\d+)*(${tx}|${ex})*(.*)`);var bN=()=>null;function $s(t,e){return bN(t,e)}var Hs=class{},Fp=new J("",{providedIn:"root",factory:()=>!1});var vD=new J(""),Nf=class{},Eu=class{};function CN(t){let e=Error(`No component factory found for ${_t(t)}.`);return e[TN]=t,e}var TN="ngComponent";var Pf=class{resolveComponentFactory(e){throw CN(e)}},qp=class qp{};qp.NULL=new Pf;var so=qp,ao=class{},pr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>SN();let t=e;return t})();function SN(){let t=ve(),e=pt(),n=dr(e.index,t);return(or(n)?n:t)[Je]}var AN=(()=>{let e=class e{};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var cI=new Set;function Xs(t){cI.has(t)||(cI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function _D(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof Wr.requestAnimationFrame=="function"&&Wr.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function uI(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function lI(...t){}var ke=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Te(!1),this.onMicrotaskEmpty=new Te(!1),this.onStable=new Te(!1),this.onError=new Te(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,xN(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new z(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,MN,lI,lI);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},MN={};function Vp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function RN(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{_D(()=>{t.callbackScheduled=!1,Of(t),t.isCheckStableRunning=!0,Vp(t),t.isCheckStableRunning=!1})}),Of(t))}function xN(t){let e=()=>{RN(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(NN(a))return n.invokeTask(i,o,s,a);try{return dI(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),hI(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return dI(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!PN(a)&&e(),hI(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Of(t),Vp(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Of(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function dI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function hI(t){t._nesting--,Vp(t)}var kf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Te,this.onMicrotaskEmpty=new Te,this.onStable=new Te,this.onError=new Te}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function NN(t){return wD(t,"__ignore_ng_zone__")}function PN(t){return wD(t,"__scheduler_tick__")}function wD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ID=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Ff(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Lw(i,a);else if(o==2){let u=a,l=e[++s];r=Lw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Du=class extends so{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Kr(e);return new qs(n,this.ngModule)}};function fI(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function ON(t){let e=t.toLowerCase();return e==="svg"?nR:e==="math"?rR:null}var qs=class extends Eu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=fI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return fI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=kM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=pe(null);try{i=i||this.ngModule;let s=i instanceof Nt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new wf(e,s):e,u=a.get(ao,null);if(u===null)throw new z(407,!1);let l=a.get(AN,null),h=a.get(ID,null),p=a.get(Hs,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},y=u.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",R=r?Fx(y,r,this.componentDef.encapsulation,a):BE(y,S,ON(S)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let k=null;R!==null&&(k=bp(R,a,!0));let q=xp(0,null,null,1,0,null,null,null,null,null,null),$=Bu(null,q,null,M,null,null,m,y,a,null,k);pp($);let he,Se;try{let re=this.componentDef,D,v=null;re.findHostDirectiveDefs?(D=[],v=new Map,re.findHostDirectiveDefs(re,D,v),D.push(re)):D=[re];let _=kN($,R),E=FN(_,R,re,D,$,m,y);Se=dp(q,Pt),R&&jN(y,re,R,r),n!==void 0&&UN(Se,this.ngContentSelectors,n),he=LN(E,re,D,v,$,[BN]),Pp(q,$,null)}finally{gp()}return new Vf(this.componentType,he,lo(Se,$),$,Se)}finally{pe(o)}}},Vf=class extends Nf{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ni(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Np(o[X],o,i,e,n),this.previousInputValues.set(e,n);let s=dr(this._tNode.index,o);Op(s,1)}}get injector(){return new Gr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function kN(t,e){let n=t[X],r=Pt;return t[r]=e,$u(n,r,2,"#host",null)}function FN(t,e,n,r,i,o,s){let a=i[X];VN(r,t,e,s);let u=null;e!==null&&(u=bp(e,i[ro]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Bu(i,tD(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Mf(a,t,r.length-1),Hu(i,p),i[t.index]=p}function VN(t,e,n,r){for(let i of t)e.mergedAttrs=Os(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ff(e,e.mergedAttrs,!0),n!==null&&WE(r,n,e))}function LN(t,e,n,r,i,o){let s=pt(),a=i[X],u=Ot(s,i);rD(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=ei(i,a,p,s);ti(m,i)}iD(a,i,s),u&&ti(u,i);let l=ei(i,a,s.directiveStart+s.componentOffset,s);if(t[it]=i[it]=l,o!==null)for(let h of o)h(l,e);return ZE(a,s,i),l}function jN(t,e,n,r){if(r)hf(t,n,["ng-version","18.0.5"]);else{let{attrs:i,classes:o}=FM(e.selectors[0]);i&&hf(t,n,i),o&&o.length>0&&GE(t,n,o.join(" "))}}function UN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function BN(){let t=pt();vp(ve()[X],t)}var po=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$N;let t=e;return t})();function $N(){let t=pt();return DD(t,ve())}var HN=po,ED=class extends HN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return lo(this._hostTNode,this._hostLView)}get injector(){return new Gr(this._hostTNode,this._hostLView)}get parentInjector(){let e=_p(this._hostTNode,this._hostLView);if(yE(e)){let n=yu(e,this._hostLView),r=mu(e),i=n[X].data[r+8];return new Gr(i,n)}else return new Gr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=pI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ot}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=$s(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Us(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!ZM(e),a;if(s)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new qs(Kr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let R=(s?l:this.parentInjector).get(Nt,null);R&&(o=R)}let h=Kr(u.componentType??{}),p=$s(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,Us(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(sR(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[st],l=new ED(u,u[Qt],u[st]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return zu(s,i,o,r),e.attachToViewContainerRef(),RI(nf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=pI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=js(this._lContainer,n);r&&(du(nf(this._lContainer),n),ju(r[X],r))}detach(e){let n=this._adjustIndex(e,-1),r=js(this._lContainer,n);return r&&du(nf(this._lContainer),n)!=null?new ni(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function pI(t){return t[pu]}function nf(t){return t[pu]||(t[pu]=[])}function DD(t,e){let n,r=e[t.index];return Pn(r)?n=r:(n=oD(r,e,null,t),e[t.index]=n,Hu(e,n)),zN(n,e,t,r),new ED(n,t,e)}function qN(t,e){let n=t[Je],r=n.createComment(""),i=Ot(e,t),o=Ap(n,i);return wu(n,o,r,bx(n,i),!1),r}var zN=KN,GN=()=>!1;function WN(t,e,n){return GN(t,e,n)}function KN(t,e,n,r){if(t[Yr])return;let i;n.type&8?i=un(r):i=qN(e,n),t[Yr]=i}var Lf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},jf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Lp(e,n).matches!==null&&this.queries[n].setDirty()}},Uf=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=nP(e):this.predicate=e}},Bf=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},$f=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,QN(n,o)),this.matchTNodeWithReadOption(e,n,su(n,e,o,!1,!1))}else r===Bs?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,su(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===kt||i===po||i===Bs&&n.type&4)this.addMatch(n.index,-2);else{let o=su(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function QN(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function YN(t,e){return t.type&11?lo(t,e):t.type&4?kp(t,e):null}function JN(t,e,n,r){return n===-1?YN(e,t):n===-2?ZN(t,e,r):ei(t,t[X],n,e)}function ZN(t,e,n){if(n===kt)return lo(e,t);if(n===Bs)return kp(e,t);if(n===po)return DD(e,t)}function bD(t,e,n,r){let i=e[An].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(JN(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Hf(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=bD(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=ot;p<h.length;p++){let m=h[p];m[Qr]===m[st]&&Hf(m[X],m,l,r)}if(h[io]!==null){let p=h[io];for(let m=0;m<p.length;m++){let y=p[m];Hf(y[X],y,l,r)}}}}}return r}function XN(t,e){return t[An].queries[e].queryList}function eP(t,e,n){let r=new Tf((n&4)===4);return jx(t,e,r,r.destroy),(e[An]??=new jf).queries.push(new Lf(r))-1}function tP(t,e,n,r){let i=wt();if(i.firstCreatePass){let o=pt();rP(i,new Uf(e,n,r),o.index),iP(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return eP(i,ve(),n)}function nP(t){return t.split(",").map(e=>e.trim())}function rP(t,e,n){t.queries===null&&(t.queries=new Bf),t.queries.track(new $f(e,n))}function iP(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Lp(t,e){return t.queries.getByIndex(e)}function oP(t,e){let n=t[X],r=Lp(n,e);return r.crossesNgTemplate?Hf(n,t,e,[]):bD(n,t,r,e)}function sP(t){return Object.getPrototypeOf(t.prototype).constructor}function bt(t){let e=sP(t.type),n=!0,r=[t];for(;e;){let i;if(sr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=tu(t.inputs),s.inputTransforms=tu(t.inputTransforms),s.declaredInputs=tu(t.declaredInputs),s.outputs=tu(t.outputs);let a=i.hostBindings;a&&dP(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&uP(t,u),l&&lP(t,l),aP(t,i),eM(t.outputs,i.outputs),sr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===bt&&(n=!1)}}e=Object.getPrototypeOf(e)}cP(r)}function aP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function cP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Os(i.hostAttrs,n=Os(n,i.hostAttrs))}}function tu(t){return t===Xi?{}:t===Rt?[]:t}function uP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function lP(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function dP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function jp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var cr=class{},zs=class{};var qf=class extends cr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Du(this);let i=jI(e);this._bootstrapComponents=UE(i.bootstrap),this._r3Injector=TE(e,n,[{provide:cr,useValue:this},{provide:so,useValue:this.componentFactoryResolver},...r],_t(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},zf=class extends zs{constructor(e){super(),this.moduleType=e}create(e){return new qf(this.moduleType,e,[])}};var bu=class extends cr{constructor(e){super(),this.componentFactoryResolver=new Du(this),this.instance=null;let n=new ks([...e.providers,{provide:cr,useValue:this},{provide:so,useValue:this.componentFactoryResolver}],e.parent||up(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Up(t,e,n=null){return new bu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function hP(t,e,n){return t[e]=n}function oi(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function fP(t){return(t.flags&32)===32}function pP(t,e,n,r,i,o,s,a,u){let l=e.consts,h=$u(e,t,4,s||null,a||null);nD(e,n,h,oo(l,u)),vp(e,h);let p=h.tView=xp(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Gf(t,e,n,r,i,o,s,a,u,l){let h=n+Pt,p=e.firstCreatePass?pP(h,e,t,r,i,o,s,a,u):e.data[h];Ys(p,!1);let m=gP(e,t,p,n);mp()&&Mp(e,t,m,p),ti(m,t);let y=oD(m,t,m,p);return t[h]=y,Hu(t,y),WN(y,p,t),lp(p)&&XE(e,t,p),u!=null&&eD(t,p,l),p}function ea(t,e,n,r,i,o,s,a){let u=ve(),l=wt(),h=oo(l.consts,o);return Gf(u,l,t,e,n,r,i,h,s,a),ea}var gP=mP;function mP(t,e,n,r){return yp(!0),e[Je].createComment("")}function go(t,e,n,r){let i=ve(),o=Js();if(oi(i,o,e)){let s=wt(),a=pE();tN(a,i,t,e,n,r)}return go}function yP(t,e,n,r){return oi(t,Js(),n)?e+xu(n)+r:fr}function nu(t,e){return t<<17|e<<2}function ri(t){return t>>17&32767}function vP(t){return(t&2)==2}function _P(t,e){return t&131071|e<<17}function Wf(t){return t|2}function co(t){return(t&131068)>>2}function rf(t,e){return t&-131069|e<<2}function wP(t){return(t&1)===1}function Kf(t){return t|1}function IP(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ri(s),u=co(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Ws(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=ri(t[a+1]);t[r+1]=nu(m,a),m!==0&&(t[m+1]=rf(t[m+1],r)),t[a+1]=_P(t[a+1],r)}else t[r+1]=nu(a,0),a!==0&&(t[a+1]=rf(t[a+1],r)),a=r;else t[r+1]=nu(u,0),a===0?a=r:t[u+1]=rf(t[u+1],r),u=r;l&&(t[r+1]=Wf(t[r+1])),gI(t,h,r,!0),gI(t,h,r,!1),EP(e,h,t,r,o),s=nu(a,u),o?e.classBindings=s:e.styleBindings=s}function EP(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ws(o,e)>=0&&(n[r+1]=Kf(n[r+1]))}function gI(t,e,n,r){let i=t[n+1],o=e===null,s=r?ri(i):co(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];DP(u,e)&&(a=!0,t[s+1]=r?Kf(l):Wf(l)),s=r?ri(l):co(l)}a&&(t[n+1]=r?Wf(i):Kf(i))}function DP(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ws(t,e)>=0:!1}function gt(t,e,n){let r=ve(),i=Js();if(oi(r,i,e)){let o=wt(),s=pE();Hx(o,s,r,t,e,r[Je],n,!1)}return gt}function mI(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Np(t,n,o[s],s,r)}function Gu(t,e){return bP(t,e,null,!0),Gu}function bP(t,e,n,r){let i=ve(),o=wt(),s=wR(2);if(o.firstUpdatePass&&TP(o,t,s,r),e!==fr&&oi(i,s,e)){let a=o.data[ii()];xP(o,a,i,i[Je],t,i[s+1]=NP(e,n),r,s)}}function CP(t,e){return e>=t.expandoStartIndex}function TP(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ii()],s=CP(t,n);PP(o,r)&&e===null&&!s&&(e=!1),e=SP(i,o,e,r),IP(i,o,e,n,s,r)}}function SP(t,e,n,r){let i=bR(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=of(null,t,e,n,r),n=Gs(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=of(i,t,e,n,r),o===null){let u=AP(t,e,r);u!==void 0&&Array.isArray(u)&&(u=of(null,t,e,u[1],r),u=Gs(u,e.attrs,r),MP(t,e,r,u))}else o=RP(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function AP(t,e,n){let r=n?e.classBindings:e.styleBindings;if(co(r)!==0)return t[ri(r)]}function MP(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ri(i)]=r}function RP(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Gs(r,s,n)}return Gs(r,e.attrs,n)}function of(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Gs(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Gs(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),DM(t,s,n?!0:e[++o]))}return t===void 0?null:t}function xP(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=wP(l)?yI(u,e,n,i,co(l),s):void 0;if(!Cu(h)){Cu(o)||vP(l)&&(o=yI(u,null,n,i,a,s));let p=XI(ii(),n);xx(r,s,p,i,o)}}function yI(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===fr&&(m=p?Rt:void 0);let y=p?Kh(m,r):h===r?m:void 0;if(l&&!Cu(y)&&(y=Kh(u,r)),Cu(y)&&(a=y,s))return a;let S=t[i+1];i=s?ri(S):co(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Kh(u,r))}return a}function Cu(t){return t!==void 0}function NP(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=_t(Zs(t)))),t}function PP(t,e){return(t.flags&(e?8:16))!==0}var Qf=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function sf(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function OP(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=t.at(o),h=e[o],p=sf(o,l,o,h,n);if(p!==0){p<0&&t.updateValue(o,h),o++;continue}let m=t.at(s),y=e[u],S=sf(s,m,u,y,n);if(S!==0){S<0&&t.updateValue(s,y),s--,u--;continue}let R=n(o,l),M=n(s,m),k=n(o,h);if(Object.is(k,M)){let q=n(u,y);Object.is(q,R)?(t.swap(o,s),t.updateValue(s,y),u--,s--):t.move(s,o),t.updateValue(o,h),o++;continue}if(r??=new Tu,i??=_I(t,o,s,n),Yf(t,r,o,k))t.updateValue(o,h),o++,s++;else if(i.has(k))r.set(R,t.detach(o)),s--;else{let q=t.create(o,e[o]);t.attach(o,q),o++,s++}}for(;o<=u;)vI(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let h=t.at(o),p=l.value,m=sf(o,h,o,p,n);if(m!==0)m<0&&t.updateValue(o,p),o++,l=u.next();else{r??=new Tu,i??=_I(t,o,s,n);let y=n(o,p);if(Yf(t,r,o,y))t.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(y))t.attach(o,t.create(o,p)),o++,s++,l=u.next();else{let S=n(o,h);r.set(S,t.detach(o)),s--}}}for(;!l.done;)vI(t,r,n,t.length,l.value),l=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function Yf(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function vI(t,e,n,r,i){if(Yf(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function _I(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Tu=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Wu(t,e){Xs("NgControlFlow");let n=ve(),r=Js(),i=n[r]!==fr?n[r]:-1,o=i!==-1?Su(n,Pt+i):void 0,s=0;if(oi(n,r,t)){let a=pe(null);try{if(o!==void 0&&dD(o,s),t!==-1){let u=Pt+t,l=Su(n,u),h=ep(n[X],u),p=$s(l,h.tView.ssrId),m=qu(n,h,e,{dehydratedView:p});zu(l,m,s,Us(h,p))}}finally{pe(a)}}else if(o!==void 0){let a=lD(o,s);a!==void 0&&(a[it]=e)}}var Jf=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ot}};var Zf=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function CD(t,e,n,r,i,o,s,a,u,l,h,p,m){Xs("NgControlFlow");let y=ve(),S=wt(),R=u!==void 0,M=ve(),k=a?s.bind(M[Wt][it]):s,q=new Zf(R,k);M[Pt+t]=q,Gf(y,S,t+1,e,n,r,i,oo(S.consts,o)),R&&Gf(y,S,t+2,u,l,h,p,oo(S.consts,m))}var Xf=class extends Qf{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ot}at(e){return this.getLView(e)[it].$implicit}attach(e,n){let r=n[Fs];this.needsIndexUpdate||=e!==this.length,zu(this.lContainer,n,e,Us(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,kP(this.lContainer,e)}create(e,n){let r=$s(this.lContainer,this.templateTNode.tView.ssrId),i=qu(this.hostLView,this.templateTNode,new Jf(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){ju(e[X],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[it].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[it].$index=e}getLView(e){return FP(this.lContainer,e)}};function TD(t){let e=pe(null),n=ii();try{let r=ve(),i=r[X],o=r[n],s=n+1,a=Su(r,s);if(o.liveCollection===void 0){let l=ep(i,s);o.liveCollection=new Xf(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(OP(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=Js(),h=u.length===0;if(oi(r,l,h)){let p=n+2,m=Su(r,p);if(h){let y=ep(i,p),S=$s(m,y.tView.ssrId),R=qu(r,y,void 0,{dehydratedView:S});zu(m,R,0,Us(y,S))}else dD(m,0)}}}finally{pe(e)}}function Su(t,e){return t[e]}function kP(t,e){return js(t,e)}function FP(t,e){return lD(t,e)}function ep(t,e){return dp(t,e)}function VP(t,e,n,r,i,o){let s=e.consts,a=oo(s,i),u=$u(e,t,2,r,a);return nD(e,n,u,oo(s,o)),u.attrs!==null&&Ff(u,u.attrs,!1),u.mergedAttrs!==null&&Ff(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function j(t,e,n,r){let i=ve(),o=wt(),s=Pt+t,a=i[Je],u=o.firstCreatePass?VP(s,o,i,e,n,r):o.data[s],l=LP(o,i,u,a,e,t);i[s]=l;let h=lp(u);return Ys(u,!0),WE(a,l,u),!fP(u)&&mp()&&Mp(o,i,l,u),uR()===0&&ti(l,i),lR(),h&&(XE(o,i,u),ZE(o,u,i)),r!==null&&eD(i,u),j}function V(){let t=pt();sE()?mR():(t=t.parent,Ys(t,!1));let e=t;fR(e)&&pR(),dR();let n=wt();return n.firstCreatePass&&(vp(n,t),KI(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&xR(e)&&mI(n,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&NR(e)&&mI(n,e,ve(),e.stylesWithoutHost,!1),V}function Le(t,e,n,r){return j(t,e,n,r),V(),Le}var LP=(t,e,n,r,i,o)=>(yp(!0),BE(r,i,SR()));function Ku(){return ve()}var Au="en-US";var jP=Au;function UP(t){typeof t=="string"&&(jP=t.toLowerCase().replace(/_/g,"-"))}var BP=(t,e,n)=>{};function at(t,e,n,r){let i=ve(),o=wt(),s=pt();return HP(o,i,i[Je],s,t,e,r),at}function $P(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[fu],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function HP(t,e,n,r,i,o,s){let a=lp(r),l=t.firstCreatePass&&cD(t),h=e[it],p=aD(e),m=!0;if(r.type&3||s){let R=Ot(r,e),M=s?s(R):R,k=p.length,q=s?he=>s(un(he[r.index])):r.index,$=null;if(!s&&a&&($=$P(t,e,i,r.index)),$!==null){let he=$.__ngLastListenerFn__||$;he.__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,m=!1}else{o=II(r,e,h,o),BP(R,i,o);let he=n.listen(M,i,o);p.push(o,he),l&&l.push(i,q,k,k+1)}}else o=II(r,e,h,o);let y=r.outputs,S;if(m&&y!==null&&(S=y[i])){let R=S.length;if(R)for(let M=0;M<R;M+=2){let k=S[M],q=S[M+1],Se=e[k][q].subscribe(o),re=p.length;p.push(o,Se),l&&l.push(i,r.index,re,-(re+1))}}}function wI(t,e,n,r){let i=pe(null);try{return on(6,e,n),n(r)!==!1}catch(o){return uD(t,o),!1}finally{on(7,e,n),pe(i)}}function II(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?dr(t.index,e):e;Op(s,5);let a=wI(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=wI(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Qu(t=1){return TR(t)}function SD(t,e,n,r){tP(t,e,n,r)}function AD(t){let e=ve(),n=wt(),r=cE();fp(r+1);let i=Lp(n,r);if(t.dirty&&oR(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=oP(e,r);t.reset(o,GR),t.notifyOnChanges()}return!0}return!1}function MD(){return XN(ve(),cE())}function Yu(t){let e=yR();return iR(e,Pt+t)}function B(t,e=""){let n=ve(),r=wt(),i=t+Pt,o=r.firstCreatePass?$u(r,i,1,e,null):r.data[i],s=qP(r,n,o,e,t);n[i]=s,mp()&&Mp(r,n,s,o),Ys(o,!1)}var qP=(t,e,n,r,i)=>(yp(!0),fx(e[Je],r));function ta(t){return Ju("",t,""),ta}function Ju(t,e,n){let r=ve(),i=yP(r,t,e,n);return i!==fr&&oN(r,ii(),i),Ju}function zP(t,e,n){let r=wt();if(r.firstCreatePass){let i=sr(t);tp(n,r.data,r.blueprint,i,!0),tp(e,r.data,r.blueprint,i,!1)}}function tp(t,e,n,r,i){if(t=ft(t),Array.isArray(t))for(let o=0;o<t.length;o++)tp(t[o],e,n,r,i);else{let o=wt(),s=ve(),a=pt(),u=no(t)?t:ft(t.provide),l=zI(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(no(t)||!t.multi){let y=new Xr(l,i,H),S=cf(u,e,i?h:h+m,p);S===-1?(Ef(vu(a,s),o,u),af(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[S]=y,s[S]=y)}else{let y=cf(u,e,h+m,p),S=cf(u,e,h,h+m),R=y>=0&&n[y],M=S>=0&&n[S];if(i&&!M||!i&&!R){Ef(vu(a,s),o,u);let k=KP(i?WP:GP,n.length,i,r,l);!i&&M&&(n[S].providerFactory=k),af(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),s.push(k)}else{let k=RD(n[i?S:y],l,!i&&r);af(o,t,y>-1?y:S,k)}!i&&r&&M&&n[S].componentProviders++}}}function af(t,e,n,r){let i=no(e),o=qM(e);if(i||o){let u=(o?ft(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function RD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function cf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function GP(t,e,n,r){return np(this.multi,[])}function WP(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ei(n,n[X],this.providerFactory.index,r);o=a.slice(0,s),np(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],np(i,o);return o}function np(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function KP(t,e,n,r,i){let o=new Xr(t,n,H);return o.multi=[],o.index=e,o.componentProviders=0,RD(o,i,r&&!n),o}function On(t,e=[]){return n=>{n.providersResolver=(r,i)=>zP(r,i?i(t):t,e)}}var QP=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=$I(!1,r.type),o=i.length>0?Up([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=W({token:e,providedIn:"environment",factory:()=>new e(oe(Nt))});let t=e;return t})();function je(t){Xs("NgStandalone"),t.getStandaloneInjector=e=>e.get(QP).getOrCreateStandaloneInjector(t)}function xD(t,e,n,r){return JP(ve(),vR(),t,e,n,r)}function YP(t,e){let n=t[e];return n===fr?void 0:n}function JP(t,e,n,r,i,o){let s=e+n;return oi(t,s,i)?hP(t,s+1,o?r.call(o,i):r(i)):YP(t,s+1)}var Zu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var ND=new J("");function si(t){return!!t&&typeof t.then=="function"}function PD(t){return!!t&&typeof t.subscribe=="function"}var OD=new J(""),kD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=F(OD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(si(s))r.push(s);else if(PD(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bp=new J("");function ZP(){fw(()=>{throw new z(600,!1)})}function XP(t){return t.isBoundToModule}var eO=10;function tO(t,e,n){try{let r=n();return si(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var mo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(SE),this.afterRenderEffectManager=F(ID),this.zonelessEnabled=F(Fp),this.externalTestViews=new Set,this.beforeRender=new ze,this.afterTick=new ze,this.componentTypes=[],this.components=[],this.isStable=F(ho).hasPendingTasks.pipe(ce(r=>!r)),this._injector=F(Nt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Eu;if(!this._injector.get(kD).done){let y=!o&&LI(r),S=!1;throw new z(405,S)}let a;o?a=r:a=this._injector.get(so).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=XP(a)?void 0:this._injector.get(cr),l=i||a.selector,h=a.create(ar.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(ND,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),uf(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new z(101,!1);let i=pe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,pe(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(ao,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<eO;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:u,notifyErrorHandler:l}of this._views)nO(u,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>Ls(u))&&(s.execute(),!this.allViews.some(({_lView:u})=>Ls(u))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;uf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Bp,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>uf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new z(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function nO(t,e,n,r){if(!n&&!Ls(t))return;pD(t,e,n&&!r?0:1)}var rp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},$p=(()=>{let e=class e{compileModuleSync(r){return new zf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=jI(r),s=UE(o.declarations).reduce((a,u)=>{let l=Kr(u);return l&&a.push(new qs(l)),a},[]);return new rp(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rO=(()=>{let e=class e{constructor(){this.zone=F(ke),this.changeDetectionScheduler=F(Hs),this.applicationRef=F(mo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),iO=new J("",{factory:()=>!1});function FD({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new ke(LD()),[{provide:ke,useFactory:t},{provide:eo,multi:!0,useFactory:()=>{let n=F(rO,{optional:!0});return()=>n.initialize()}},{provide:eo,multi:!0,useFactory:()=>{let n=F(sO);return()=>{n.initialize()}}},{provide:SE,useFactory:oO},e===!0?{provide:vD,useValue:!0}:[]]}function oO(){let t=F(ke),e=F(Mn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function VD(t){let e=t?.ignoreChangesOutsideZone,n=FD({ngZoneFactory:()=>{let r=LD(t);return r.shouldCoalesceEventChangeDetection&&Xs("NgZone_CoalesceEvent"),new ke(r)},ignoreChangesOutsideZone:e});return Pu([{provide:iO,useValue:!0},{provide:Fp,useValue:!1},n])}function LD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var sO=(()=>{let e=class e{constructor(){this.subscription=new Pe,this.initialized=!1,this.zone=F(ke),this.pendingTasks=F(ho)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ke.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var aO=(()=>{let e=class e{constructor(){this.appRef=F(mo),this.taskService=F(ho),this.ngZone=F(ke),this.zonelessEnabled=F(Fp),this.disableScheduling=F(vD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Pe,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof kf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?uI:_D;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&ke.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,uI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cO(){return typeof $localize<"u"&&$localize.locale||Au}var Hp=new J("",{providedIn:"root",factory:()=>F(Hp,se.Optional|se.SkipSelf)||cO()});var jD=new J("");var cu=null;function uO(t=[],e){return ar.create({name:e,providers:[{provide:Ou,useValue:"platform"},{provide:jD,useValue:new Set([()=>cu=null])},...t]})}function lO(t=[]){if(cu)return cu;let e=uO(t);return cu=e,ZP(),dO(e),e}function dO(t){t.get(Ep,null)?.forEach(n=>n())}var gr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=hO;let t=e;return t})();function hO(t){return fO(pt(),ve(),(t&16)===16)}function fO(t,e,n){if(Fu(t)&&!n){let r=dr(t.index,e);return new ni(r,r)}else if(t.type&175){let r=e[Wt];return new ni(r,e)}return null}function UD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=lO(r),o=[FD({}),{provide:Hs,useExisting:aO},...n||[]],a=new bu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(ke);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(Mn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:y=>{l.handleError(y)}})});let p=()=>a.destroy(),m=i.get(jD);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),tO(l,u,()=>{let y=a.get(kD);return y.runInitializers(),y.donePromise.then(()=>{let S=a.get(Hp,Au);UP(S||Au);let R=a.get(mo);return e!==void 0&&R.bootstrap(e),R})})})}catch(e){return Promise.reject(e)}}function kn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var HD=null;function Fn(){return HD}function qD(t){HD??=t}var Xu=class{};var Ft=new J(""),zD=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>F(pO),providedIn:"platform"});let t=e;return t})();var pO=(()=>{let e=class e extends zD{constructor(){super(),this._doc=F(Ft),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fn().getBaseHref(this._doc)}onPopState(r){let i=Fn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Fn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function GD(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function BD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ai(t){return t&&t[0]!=="?"?"?"+t:t}var yo=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>F(WD),providedIn:"root"});let t=e;return t})(),gO=new J(""),WD=(()=>{let e=class e extends yo{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??F(Ft).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return GD(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ai(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+ai(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+ai(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(oe(zD),oe(gO,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var na=(()=>{let e=class e{constructor(r){this._subject=new Te,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=vO(BD($D(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ai(i))}normalize(r){return e.stripTrailingSlash(yO(this._basePath,$D(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ai(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ai(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=ai,e.joinWithSlash=GD,e.stripTrailingSlash=BD,e.\u0275fac=function(i){return new(i||e)(oe(yo))},e.\u0275prov=W({token:e,factory:()=>mO(),providedIn:"root"});let t=e;return t})();function mO(){return new na(oe(yo))}function yO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function $D(t){return t.replace(/\/index.html$/,"")}function vO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function KD(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Gp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=lr({type:e}),e.\u0275inj=ur({});let t=e;return t})(),QD="browser",_O="server";function Wp(t){return t===_O}var el=class{};var Yp=class extends Xu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Jp=class t extends Yp{static makeCurrent(){qD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=EO();return n==null?null:DO(n)}resetBaseElement(){ra=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return KD(document.cookie,e)}},ra=null;function EO(){return ra=ra||document.querySelector("base"),ra?ra.getAttribute("href"):null}function DO(t){return new URL(t,document.baseURI).pathname}var bO=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),Zp=new J(""),XD=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new z(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(oe(Zp),oe(ke))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),tl=class{constructor(e){this._doc=e}},Kp="ng-app-id",eb=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Wp(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Kp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Kp),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Kp,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(oe(Ft),oe(Ip),oe(Dp,8),oe(fo))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),Qp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},eg=/%COMP%/g,tb="%COMP%",CO=`_nghost-${tb}`,TO=`_ngcontent-${tb}`,SO=!0,AO=new J("",{providedIn:"root",factory:()=>SO});function MO(t){return TO.replace(eg,t)}function RO(t){return CO.replace(eg,t)}function nb(t,e){return e.map(n=>n.replace(eg,t))}var YD=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Wp(u),this.defaultRenderer=new ia(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===an.ShadowDom&&(i=fe(O({},i),{encapsulation:an.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof nl?o.applyToHost(r):o instanceof oa&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case an.Emulated:s=new nl(l,h,i,this.appId,p,a,u,m);break;case an.ShadowDom:return new Xp(l,h,r,i,a,u,this.nonce,m);default:s=new oa(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(oe(XD),oe(eb),oe(Ip),oe(AO),oe(Ft),oe(fo),oe(ke),oe(Dp))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),ia=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Qp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(JD(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(JD(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Qp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Qp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Rn.DashCase|Rn.Important)?e.style.setProperty(n,r,i&Rn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Rn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Fn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function JD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Xp=class extends ia{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=nb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},oa=class extends ia{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?nb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},nl=class extends oa{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=MO(l),this.hostAttr=RO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},xO=(()=>{let e=class e extends tl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(oe(Ft))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),ZD=["alt","control","meta","shift"],NO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},OO=(()=>{let e=class e extends tl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fn().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),ZD.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=NO[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),ZD.forEach(a=>{if(a!==o){let u=PO[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(oe(Ft))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})();function rb(t,e){return UD(O({rootComponent:t},kO(e)))}function kO(t){return{appProviders:[...UO,...t?.providers??[]],platformProviders:jO}}function FO(){Jp.makeCurrent()}function VO(){return new Mn}function LO(){return OE(document),document}var jO=[{provide:fo,useValue:QD},{provide:Ep,useValue:FO,multi:!0},{provide:Ft,useFactory:LO,deps:[]}];var UO=[{provide:Ou,useValue:"root"},{provide:Mn,useFactory:VO,deps:[]},{provide:Zp,useClass:xO,multi:!0,deps:[Ft,ke,fo]},{provide:Zp,useClass:OO,multi:!0,deps:[Ft]},YD,eb,XD,{provide:ao,useExisting:YD},{provide:el,useClass:bO,deps:[]},[]];var ib=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(oe(Ft))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ie="primary",Ea=Symbol("RouteTitle"),og=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Do(t){return new og(t)}function $O(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function HO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ln(t[n],e[n]))return!1;return!0}function ln(t,e){let n=t?sg(t):void 0,r=e?sg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!hb(t[i],e[i]))return!1;return!0}function sg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function hb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function fb(t){return t.length>0?t[t.length-1]:null}function vr(t){return Bh(t)?t:si(t)?Me(Promise.resolve(t)):Z(t)}var qO={exact:gb,subset:mb},pb={exact:zO,subset:GO,ignored:()=>!0};function ob(t,e,n){return qO[n.paths](t.root,e.root,n.matrixParams)&&pb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function zO(t,e){return ln(t,e)}function gb(t,e,n){if(!ui(t.segments,e.segments)||!ol(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!gb(t.children[r],e.children[r],n))return!1;return!0}function GO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>hb(t[n],e[n]))}function mb(t,e,n){return yb(t,e,e.segments,n)}function yb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ui(i,n)||e.hasChildren()||!ol(i,n,r))}else if(t.segments.length===n.length){if(!ui(t.segments,n)||!ol(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!mb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ui(t.segments,i)||!ol(t.segments,i,r)||!t.children[ie]?!1:yb(t.children[ie],e,o,r)}}function ol(t,e,n){return e.every((r,i)=>pb[n](t[i].parameters,r.parameters))}var mr=class{constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Do(this.queryParams),this._queryParamMap}toString(){return QO.serialize(this)}},Ie=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sl(this)}},ci=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Do(this.parameters),this._parameterMap}toString(){return _b(this)}};function WO(t,e){return ui(t,e)&&t.every((n,r)=>ln(n.parameters,e[r].parameters))}function ui(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function KO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ie&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ie&&(n=n.concat(e(i,r)))}),n}var Ng=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>new ha,providedIn:"root"});let t=e;return t})(),ha=class{parse(e){let n=new cg(e);return new mr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${sa(e.root,!0)}`,r=ZO(e.queryParams),i=typeof e.fragment=="string"?`#${YO(e.fragment)}`:"";return`${n}${r}${i}`}},QO=new ha;function sl(t){return t.segments.map(e=>_b(e)).join("/")}function sa(t,e){if(!t.hasChildren())return sl(t);if(e){let n=t.children[ie]?sa(t.children[ie],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ie&&r.push(`${i}:${sa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=KO(t,(r,i)=>i===ie?[sa(t.children[ie],!1)]:[`${i}:${sa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ie]!=null?`${sl(t)}/${n[0]}`:`${sl(t)}/(${n.join("//")})`}}function vb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rl(t){return vb(t).replace(/%3B/gi,";")}function YO(t){return encodeURI(t)}function ag(t){return vb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function al(t){return decodeURIComponent(t)}function sb(t){return al(t.replace(/\+/g,"%20"))}function _b(t){return`${ag(t.path)}${JO(t.parameters)}`}function JO(t){return Object.entries(t).map(([e,n])=>`;${ag(e)}=${ag(n)}`).join("")}function ZO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${rl(n)}=${rl(i)}`).join("&"):`${rl(n)}=${rl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var XO=/^[^\/()?;#]+/;function tg(t){let e=t.match(XO);return e?e[0]:""}var ek=/^[^\/()?;=#]+/;function tk(t){let e=t.match(ek);return e?e[0]:""}var nk=/^[^=?&#]+/;function rk(t){let e=t.match(nk);return e?e[0]:""}var ik=/^[^&#]+/;function ok(t){let e=t.match(ik);return e?e[0]:""}var cg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new Ie(e,n)),r}parseSegment(){let e=tg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new ci(al(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=tk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=tg(this.remaining);i&&(r=i,this.capture(r))}e[al(n)]=al(r)}parseQueryParam(e){let n=rk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=ok(this.remaining);s&&(r=s,this.capture(r))}let i=sb(n),o=sb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=tg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ie);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ie]:new Ie([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function wb(t){return t.segments.length>0?new Ie([],{[ie]:t}):t}function Ib(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=Ib(i);if(r===ie&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ie(t.segments,e);return sk(n)}function sk(t){if(t.numberOfChildren===1&&t.children[ie]){let e=t.children[ie];return new Ie(t.segments.concat(e.segments),e.children)}return t}function fa(t){return t instanceof mr}function ak(t,e,n=null,r=null){let i=Eb(t);return Db(i,e,n,r)}function Eb(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Ie(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=wb(r);return e??i}function Db(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return ng(i,i,i,n,r);let o=ck(e);if(o.toRoot())return ng(i,i,new Ie([],{}),n,r);let s=uk(o,i,t),a=s.processChildren?ua(s.segmentGroup,s.index,o.commands):Cb(s.segmentGroup,s.index,o.commands);return ng(i,s.segmentGroup,a,n,r)}function cl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function pa(t){return typeof t=="object"&&t!=null&&t.outlets}function ng(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=bb(t,e,n);let a=wb(Ib(s));return new mr(a,o,i)}function bb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=bb(o,e,n)}),new Ie(t.segments,r)}var ul=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&cl(r[0]))throw new z(4003,!1);let i=r.find(pa);if(i&&i!==fb(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ck(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ul(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ul(n,e,r)}var wo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function uk(t,e,n){if(t.isAbsolute)return new wo(e,!0,0);if(!n)return new wo(e,!1,NaN);if(n.parent===null)return new wo(n,!0,0);let r=cl(t.commands[0])?0:1,i=n.segments.length-1+r;return lk(n,i,t.numberOfDoubleDots)}function lk(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new wo(r,!1,i-o)}function dk(t){return pa(t[0])?t[0].outlets:{[ie]:t}}function Cb(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return ua(t,e,n);let r=hk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ie(t.segments.slice(0,r.pathIndex),{});return o.children[ie]=new Ie(t.segments.slice(r.pathIndex),t.children),ua(o,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?ug(t,e,n):r.match?ua(t,0,i):ug(t,e,n)}function ua(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=dk(n),i={};if(Object.keys(r).some(o=>o!==ie)&&t.children[ie]&&t.numberOfChildren===1&&t.children[ie].segments.length===0){let o=ua(t.children[ie],e,n);return new Ie(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Cb(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(t.segments,i)}}function hk(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(pa(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!cb(u,l,s))return o;r+=2}else{if(!cb(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ug(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(pa(o)){let u=fk(o.outlets);return new Ie(r,u)}if(i===0&&cl(n[0])){let u=t.segments[e];r.push(new ci(u.path,ab(n[0]))),i++;continue}let s=pa(o)?o.outlets[ie]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&cl(a)?(r.push(new ci(s,ab(a))),i+=2):(r.push(new ci(s,{})),i++)}return new Ie(r,{})}function fk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=ug(new Ie([],{}),0,r))}),e}function ab(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function cb(t,e,n){return t==n.path&&ln(e,n.parameters)}var la="imperative",Ze=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ze||{}),Vt=class{constructor(e,n){this.id=e,this.url=n}},ga=class extends Vt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ze.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ln=class extends Vt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ze.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Tt||{}),lg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(lg||{}),Vn=class extends Vt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ze.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},li=class extends Vt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ze.NavigationSkipped}},ma=class extends Vt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ze.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ll=class extends Vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ze.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dg=class extends Vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ze.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hg=class extends Vt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ze.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},fg=class extends Vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ze.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pg=class extends Vt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ze.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gg=class{constructor(e){this.route=e,this.type=Ze.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},mg=class{constructor(e){this.route=e,this.type=Ze.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},yg=class{constructor(e){this.snapshot=e,this.type=Ze.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vg=class{constructor(e){this.snapshot=e,this.type=Ze.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_g=class{constructor(e){this.snapshot=e,this.type=Ze.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wg=class{constructor(e){this.snapshot=e,this.type=Ze.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ya=class{},bo=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var Ig=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new yl(this.injector),this.attachRef=null}},yl=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Ig(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(oe(Nt))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Eg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Eg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Dg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Dg(e,this._root).map(n=>n.value)}};function Eg(t,e){if(t===e.value)return e;for(let n of e.children){let r=Eg(t,n);if(r)return r}return null}function Dg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Dg(t,n);if(r.length)return r.unshift(e),r}return[]}var Ct=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function _o(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var hl=class extends dl{constructor(e,n){super(e),this.snapshot=n,Pg(this,e)}toString(){return this.snapshot.toString()}};function Tb(t){let e=pk(t),n=new Qe([new ci("",{})]),r=new Qe({}),i=new Qe({}),o=new Qe({}),s=new Qe(""),a=new jn(n,r,o,s,i,ie,t,e.root);return a.snapshot=e.root,new hl(new Ct(a,[]),e)}function pk(t){let e={},n={},r={},i="",o=new Io([],e,r,i,n,ie,t,null,{});return new pl("",new Ct(o,[]))}var jn=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ce(l=>l[Ea]))??Z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(e=>Do(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(e=>Do(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function fl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&Ab(i)&&(r.resolve[Ea]=i.title),r}var Io=class{get title(){return this.data?.[Ea]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Do(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Do(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},pl=class extends dl{constructor(e,n){super(n),this.url=e,Pg(this,n)}toString(){return Sb(this._root)}};function Pg(t,e){e.value._routerState=t,e.children.forEach(n=>Pg(t,n))}function Sb(t){let e=t.children.length>0?` { ${t.children.map(Sb).join(", ")} } `:"";return`${t.value}${e}`}function rg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ln(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ln(e.params,n.params)||t.paramsSubject.next(n.params),HO(e.url,n.url)||t.urlSubject.next(n.url),ln(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function bg(t,e){let n=ln(t.params,e.params)&&WO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||bg(t.parent,e.parent))}function Ab(t){return typeof t.title=="string"||t.title===null}var Og=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new Te,this.deactivateEvents=new Te,this.attachEvents=new Te,this.detachEvents=new Te,this.parentContexts=F(yl),this.location=F(po),this.changeDetector=F(gr),this.inputBinder=F(kg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Cg(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ve({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yt]});let t=e;return t})(),Cg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===jn?this.route:e===yl?this.childContexts:this.parent.get(e,n)}},kg=new J("");function gk(t,e,n){let r=va(t,e._root,n?n._root:void 0);return new hl(r,e)}function va(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=mk(t,e,n);return new Ct(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>va(t,a)),s}}let r=yk(e.value),i=e.children.map(o=>va(t,o));return new Ct(r,i)}}function mk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return va(t,r,i);return va(t,r)})}function yk(t){return new jn(new Qe(t.url),new Qe(t.params),new Qe(t.queryParams),new Qe(t.fragment),new Qe(t.data),t.outlet,t.component,t)}var _a=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Mb="ngNavigationCancelingError";function gl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=fa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Rb(!1,Tt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Rb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Mb]=!0,n.cancellationCode=e,n}function vk(t){return xb(t)&&fa(t.url)}function xb(t){return!!t&&t[Mb]}var _k=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fe({type:e,selectors:[["ng-component"]],standalone:!0,features:[je],decls:1,vars:0,template:function(i,o){i&1&&Le(0,"router-outlet")},dependencies:[Og],encapsulation:2});let t=e;return t})();function wk(t,e){return t.providers&&!t._injector&&(t._injector=Up(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Fg(t){let e=t.children&&t.children.map(Fg),n=e?fe(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=_k),n}function Jt(t){return t.outlet||ie}function Ik(t,e){let n=t.filter(r=>Jt(r)===e);return n.push(...t.filter(r=>Jt(r)!==e)),n}function Da(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Ek=(t,e,n,r)=>ce(i=>(new Tg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Tg=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),rg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=_o(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=_o(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=_o(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=_o(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new wg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new vg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(rg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),rg(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Da(i.snapshot);s.attachRef=null,s.route=i,s.injector=a??s.injector,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},ml=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Eo=class{constructor(e,n){this.component=e,this.route=n}};function Dk(t,e,n){let r=t._root,i=e?e._root:null;return aa(r,i,n,[r.value])}function bk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function To(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!bI(t)?t:e.get(t):r}function aa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=_o(e);return t.children.forEach(s=>{Ck(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>da(a,n.getContext(s),i)),i}function Ck(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Tk(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ml(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?aa(t,e,a?a.children:null,r,i):aa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Eo(a.outlet.component,s))}else s&&da(e,a,i),i.canActivateChecks.push(new ml(r)),o.component?aa(t,null,a?a.children:null,r,i):aa(t,null,n,r,i);return i}function Tk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ui(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ui(t.url,e.url)||!ln(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bg(t,e)||!ln(t.queryParams,e.queryParams);case"paramsChange":default:return!bg(t,e)}}function da(t,e,n){let r=_o(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?da(s,e.children.getContext(o),n):da(s,null,n):da(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Eo(e.outlet.component,i)):n.canDeactivateChecks.push(new Eo(null,i)):n.canDeactivateChecks.push(new Eo(null,i))}function ba(t){return typeof t=="function"}function Sk(t){return typeof t=="boolean"}function Ak(t){return t&&ba(t.canLoad)}function Mk(t){return t&&ba(t.canActivate)}function Rk(t){return t&&ba(t.canActivateChild)}function xk(t){return t&&ba(t.canDeactivate)}function Nk(t){return t&&ba(t.canMatch)}function Nb(t){return t instanceof Tn||t?.name==="EmptyError"}var il=Symbol("INITIAL_VALUE");function Co(){return qt(t=>Yc(t.map(e=>e.pipe(Sn(1),Gh(il)))).pipe(ce(e=>{for(let n of e)if(n!==!0){if(n===il)return il;if(n===!1||Pk(n))return n}return!0}),Ht(e=>e!==il),Sn(1)))}function Pk(t){return fa(t)||t instanceof _a}function Ok(t,e){return $e(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Z(fe(O({},n),{guardsResult:!0})):kk(s,r,i,t).pipe($e(a=>a&&Sk(a)?Fk(r,o,t,e):Z(a)),ce(a=>fe(O({},n),{guardsResult:a})))})}function kk(t,e,n,r){return Me(t).pipe($e(i=>Bk(i.component,i.route,n,e,r)),rn(i=>i!==!0,!0))}function Fk(t,e,n,r){return Me(e).pipe(zi(i=>qi(Lk(i.route.parent,r),Vk(i.route,r),Uk(t,i.path,n),jk(t,i.route,n))),rn(i=>i!==!0,!0))}function Vk(t,e){return t!==null&&e&&e(new _g(t)),Z(!0)}function Lk(t,e){return t!==null&&e&&e(new yg(t)),Z(!0)}function jk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>Jc(()=>{let s=Da(e)??n,a=To(o,s),u=Mk(a)?a.canActivate(e,t):xn(s,()=>a(e,t));return vr(u).pipe(rn())}));return Z(i).pipe(Co())}function Uk(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>bk(s)).filter(s=>s!==null).map(s=>Jc(()=>{let a=s.guards.map(u=>{let l=Da(s.node)??n,h=To(u,l),p=Rk(h)?h.canActivateChild(r,t):xn(l,()=>h(r,t));return vr(p).pipe(rn())});return Z(a).pipe(Co())}));return Z(o).pipe(Co())}function Bk(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(a=>{let u=Da(e)??i,l=To(a,u),h=xk(l)?l.canDeactivate(t,e,n,r):xn(u,()=>l(t,e,n,r));return vr(h).pipe(rn())});return Z(s).pipe(Co())}function $k(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let a=To(s,t),u=Ak(a)?a.canLoad(e,n):xn(t,()=>a(e,n));return vr(u)});return Z(o).pipe(Co(),Pb(r))}function Pb(t){return Fh(Ye(e=>{if(typeof e!="boolean")throw gl(t,e)}),ce(e=>e===!0))}function Hk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let a=To(s,t),u=Nk(a)?a.canMatch(e,n):xn(t,()=>a(e,n));return vr(u)});return Z(o).pipe(Co(),Pb(r))}var wa=class{constructor(e){this.segmentGroup=e||null}},Ia=class extends Error{constructor(e){super(),this.urlTree=e}};function vo(t){return $i(new wa(t))}function qk(t){return $i(new z(4e3,!1))}function zk(t){return $i(Rb(!1,Tt.GuardRejected))}var Sg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[ie])return qk(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:S,title:R}=i,M=xn(o,()=>a({params:y,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:R}));if(M instanceof mr)throw new Ia(M);n=M}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ia(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new mr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ag={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gk(t,e,n,r,i){let o=Vg(t,e,n);return o.matched?(r=wk(e,r),Hk(r,e,n,i).pipe(ce(s=>s===!0?o:O({},Ag)))):Z(o)}function Vg(t,e,n){if(e.path==="**")return Wk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},Ag):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||$O)(n,t,e);if(!i)return O({},Ag);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Wk(t){return{matched:!0,parameters:t.length>0?fb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ub(t,e,n,r){return n.length>0&&Yk(t,n,r)?{segmentGroup:new Ie(e,Qk(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&Jk(t,n,r)?{segmentGroup:new Ie(t.segments,Kk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function Kk(t,e,n,r){let i={};for(let o of n)if(vl(t,e,o)&&!r[Jt(o)]){let s=new Ie([],{});i[Jt(o)]=s}return O(O({},r),i)}function Qk(t,e){let n={};n[ie]=e;for(let r of t)if(r.path===""&&Jt(r)!==ie){let i=new Ie([],{});n[Jt(r)]=i}return n}function Yk(t,e,n){return n.some(r=>vl(t,e,r)&&Jt(r)!==ie)}function Jk(t,e,n){return n.some(r=>vl(t,e,r))}function vl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Zk(t,e,n,r){return Jt(t)!==r&&(r===ie||!vl(e,n,t))?!1:Vg(e,t,n).matched}function Xk(t,e,n){return e.length===0&&!t.children[n]}var Mg=class{};function e1(t,e,n,r,i,o,s="emptyOnly"){return new Rg(t,e,n,r,i,s,o).recognize()}var t1=31,Rg=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Sg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=ub(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ce(({children:n,rootSnapshot:r})=>{let i=new Ct(r,n),o=new pl("",i),s=ak(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Io([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,n).pipe(ce(r=>({children:r,rootSnapshot:n})),tr(r=>{if(r instanceof Ia)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof wa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ce(s=>s instanceof Ct?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Me(o).pipe(zi(s=>{let a=r.children[s],u=Ik(n,s);return this.processSegmentGroup(e,u,a,s,i)}),zh((s,a)=>(s.push(...a),s)),nr(null),qh(),$e(s=>{if(s===null)return vo(r);let a=Ob(s);return n1(a),Z(a)}))}processSegment(e,n,r,i,o,s,a){return Me(n).pipe(zi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(tr(l=>{if(l instanceof wa)return Z(null);throw l}))),rn(u=>!!u),tr(u=>{if(Nb(u))return Xk(r,i,o)?Z(new Mg):vo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return Zk(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):vo(i):vo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=Vg(n,i,o);if(!u)return vo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>t1&&(this.allowRedirects=!1));let y=new Io(o,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,lb(i),Jt(i),i.component??i._loadedComponent??null,i,db(i)),S=fl(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(S.params),y.data=Object.freeze(S.data);let R=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,R).pipe($e(M=>this.processSegment(e,r,n,M.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=Gk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(qt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(qt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,S=new Io(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,lb(r),Jt(r),r.component??r._loadedComponent??null,r,db(r)),R=fl(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(R.params),S.data=Object.freeze(R.data);let{segmentGroup:M,slicedSegments:k}=ub(n,m,y,l);if(k.length===0&&M.hasChildren())return this.processChildren(h,l,M,S).pipe(ce($=>new Ct(S,$)));if(l.length===0&&k.length===0)return Z(new Ct(S,[]));let q=Jt(r)===o;return this.processSegment(h,l,M,k,q?ie:o,!0,S).pipe(ce($=>new Ct(S,$ instanceof Ct?[$]:[])))}))):vo(n)))}getChildConfig(e,n,r){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):$k(e,n,r,this.urlSerializer).pipe($e(i=>i?this.configLoader.loadChildren(e,n).pipe(Ye(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):zk(n))):Z({routes:[],injector:e})}};function n1(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}function r1(t){let e=t.value.routeConfig;return e&&e.path===""}function Ob(t){let e=[],n=new Set;for(let r of t){if(!r1(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Ob(r.children);e.push(new Ct(r.value,i))}return e.filter(r=>!n.has(r))}function lb(t){return t.data||{}}function db(t){return t.resolve||{}}function i1(t,e,n,r,i,o){return $e(s=>e1(t,e,n,r,s.extractedUrl,i,o).pipe(ce(({state:a,tree:u})=>fe(O({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function o1(t,e){return $e(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of kb(u))s.add(l);let a=0;return Me(s).pipe(zi(u=>o.has(u)?s1(u,r,t,e):(u.data=fl(u,u.parent,t).resolve,Z(void 0))),Ye(()=>a++),Gi(1),$e(u=>a===s.size?Z(n):Dt))})}function kb(t){let e=t.children.map(n=>kb(n)).flat();return[t,...e]}function s1(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Ab(i)&&(o[Ea]=i.title),a1(o,t,e,r).pipe(ce(s=>(t._resolvedData=s,t.data=fl(t,t.parent,n).resolve,null)))}function a1(t,e,n,r){let i=sg(t);if(i.length===0)return Z({});let o={};return Me(i).pipe($e(s=>c1(t[s],e,n,r).pipe(rn(),Ye(a=>{if(a instanceof _a)throw gl(new ha,a);o[s]=a}))),Gi(1),Hh(o),tr(s=>Nb(s)?Dt:$i(s)))}function c1(t,e,n,r){let i=Da(e)??r,o=To(t,i),s=o.resolve?o.resolve(e,n):xn(i,()=>o(e,n));return vr(s)}function ig(t){return qt(e=>{let n=t(e);return n?Me(n).pipe(ce(()=>e)):Z(e)})}var Fb=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===ie);return i}getResolvedTitleForRoute(r){return r.data[Ea]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>F(u1),providedIn:"root"});let t=e;return t})(),u1=(()=>{let e=class e extends Fb{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(oe(ib))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lg=new J("",{providedIn:"root",factory:()=>({})}),jg=new J(""),l1=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F($p)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=vr(r.loadComponent()).pipe(ce(Vb),Ye(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),xs(()=>{this.componentLoaders.delete(r)})),o=new Bi(i,()=>new ze).pipe(Ui());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=d1(i,this.compiler,r,this.onLoadEndListener).pipe(xs(()=>{this.childrenLoaders.delete(i)})),a=new Bi(s,()=>new ze).pipe(Ui());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function d1(t,e,n,r){return vr(t.loadChildren()).pipe(ce(Vb),$e(i=>i instanceof zs||Array.isArray(i)?Z(i):Me(e.compileModuleAsync(i))),ce(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(jg,[],{optional:!0,self:!0}).flat()),{routes:s.map(Fg),injector:o}}))}function h1(t){return t&&typeof t=="object"&&"default"in t}function Vb(t){return h1(t)?t.default:t}var Ug=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>F(f1),providedIn:"root"});let t=e;return t})(),f1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),p1=new J("");var g1=new J(""),m1=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ze,this.transitionAbortSubject=new ze,this.configLoader=F(l1),this.environmentInjector=F(Nt),this.urlSerializer=F(Ng),this.rootContexts=F(yl),this.location=F(na),this.inputBindingEnabled=F(kg,{optional:!0})!==null,this.titleStrategy=F(Fb),this.options=F(Lg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=F(Ug),this.createViewTransition=F(p1,{optional:!0}),this.navigationErrorHandler=F(g1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let r=o=>this.events.next(new gg(o)),i=o=>this.events.next(new mg(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(fe(O(O({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Qe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:la,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ht(s=>s.id!==0),ce(s=>fe(O({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),qt(s=>{let a=!1,u=!1;return Z(s).pipe(qt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Tt.SupersededByNewNavigation),Dt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?fe(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new li(l.id,this.urlSerializer.serialize(l.rawUrl),m,lg.IgnoredSameUrlNavigation)),l.resolve(!1),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Z(l).pipe(qt(m=>{let y=this.transitions?.getValue();return this.events.next(new ga(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?Dt:Promise.resolve(m)}),i1(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ye(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=fe(O({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new ll(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:y,source:S,restoredState:R,extras:M}=l,k=new ga(m,this.urlSerializer.serialize(y),S,R);this.events.next(k);let q=Tb(this.rootComponentType).snapshot;return this.currentTransition=s=fe(O({},l),{targetSnapshot:q,urlAfterRedirects:y,extras:fe(O({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,Z(s)}else{let m="";return this.events.next(new li(l.id,this.urlSerializer.serialize(l.extractedUrl),m,lg.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Dt}}),Ye(l=>{let h=new dg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ce(l=>(this.currentTransition=s=fe(O({},l),{guards:Dk(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),Ok(this.environmentInjector,l=>this.events.next(l)),Ye(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw gl(this.urlSerializer,l.guardsResult);let h=new hg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Ht(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Tt.GuardRejected),!1)),ig(l=>{if(l.guards.canActivateChecks.length)return Z(l).pipe(Ye(h=>{let p=new fg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),qt(h=>{let p=!1;return Z(h).pipe(o1(this.paramsInheritanceStrategy,this.environmentInjector),Ye({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Tt.NoDataFromResolver)}}))}),Ye(h=>{let p=new pg(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),ig(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ye(y=>{p.component=y}),ce(()=>{})));for(let y of p.children)m.push(...h(y));return m};return Yc(h(l.targetSnapshot.root)).pipe(nr(null),Sn(1))}),ig(()=>this.afterPreactivation()),qt(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Me(p).pipe(ce(()=>s)):Z(s)}),ce(l=>{let h=gk(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=fe(O({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),Ye(()=>{this.events.next(new ya)}),Ek(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Sn(1),Ye({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ln(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Wh(this.transitionAbortSubject.pipe(Ye(l=>{throw l}))),xs(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",Tt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),tr(l=>{if(u=!0,xb(l))this.events.next(new Vn(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),vk(l)?this.events.next(new bo(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new ma(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=xn(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof _a){let{message:m,cancellationCode:y}=gl(this.urlSerializer,p);this.events.next(new Vn(s.id,this.urlSerializer.serialize(s.extractedUrl),m,y)),this.events.next(new bo(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);s.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return Dt}))}))}cancelNavigationTransition(r,i,o){let s=new Vn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function y1(t){return t!==la}var v1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>F(_1),providedIn:"root"});let t=e;return t})(),xg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},_1=(()=>{let e=class e extends xg{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=hr(e)))(o||e)}})(),e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>F(w1),providedIn:"root"});let t=e;return t})(),w1=(()=>{let e=class e extends Lb{constructor(){super(...arguments),this.location=F(na),this.urlSerializer=F(Ng),this.options=F(Lg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=F(Ug),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Tb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ga)this.stateMemento=this.createStateMemento();else if(r instanceof li)this.rawUrlTree=i.initialUrl;else if(r instanceof ll){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof ya?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Vn&&(r.code===Tt.GuardRejected||r.code===Tt.NoDataFromResolver)?this.restoreHistory(i):r instanceof ma?this.restoreHistory(i,!0):r instanceof Ln&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=O(O({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=hr(e)))(o||e)}})(),e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ca=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ca||{});function I1(t,e){t.events.pipe(Ht(n=>n instanceof Ln||n instanceof Vn||n instanceof ma||n instanceof li),ce(n=>n instanceof Ln||n instanceof li?ca.COMPLETE:(n instanceof Vn?n.code===Tt.Redirect||n.code===Tt.SupersededByNewNavigation:!1)?ca.REDIRECTING:ca.FAILED),Ht(n=>n!==ca.REDIRECTING),Sn(1)).subscribe(()=>{e()})}function E1(t){throw t}var D1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},b1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Lt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=F(Zu),this.stateManager=F(Lb),this.options=F(Lg,{optional:!0})||{},this.pendingTasks=F(ho),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=F(m1),this.urlSerializer=F(Ng),this.location=F(na),this.urlHandlingStrategy=F(Ug),this._events=new ze,this.errorHandler=this.options.errorHandler||E1,this.navigated=!1,this.routeReuseStrategy=F(v1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=F(jg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!F(kg,{optional:!0}),this.eventsSubscription=new Pe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Vn&&i.code!==Tt.Redirect&&i.code!==Tt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ln)this.navigated=!0;else if(i instanceof bo){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=O({info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||y1(o.source)},a);this.scheduleNavigation(u,la,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}T1(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),la,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=O({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Fg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=O(O({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=o?o.snapshot:this.routerState.snapshot.root;m=Eb(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return Db(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=fa(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,la,null,i)}navigate(r,i={skipLocationChange:!1}){return C1(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=O({},D1):i===!1?o=O({},b1):o=i,fa(r))return ob(this.currentUrlTree,r,o);let s=this.parseUrl(r);return ob(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,y)=>{u=m,l=y});let p=this.pendingTasks.add();return I1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function C1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new z(4008,!1)}function T1(t){return!(t instanceof ya)&&!(t instanceof bo)}var yr=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new ze,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof Ln&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:LE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(H(Lt),H(jn),wp("tabindex"),H(pr),H(kt),H(yo))},e.\u0275dir=Ve({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&at("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&go("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",kn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",kn],replaceUrl:[2,"replaceUrl","replaceUrl",kn],routerLink:"routerLink"},standalone:!0,features:[jp,Yt]});let t=e;return t})(),jb=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,o,s,a){this.router=r,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Te,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof Ln&&this.update()})}ngAfterContentInit(){Z(this.links.changes,Z(null)).pipe(Hi()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Me(r).pipe(Hi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=S1(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(H(Lt),H(kt),H(pr),H(gr),H(yr,8))},e.\u0275dir=Ve({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&SD(s,yr,5),i&2){let a;AD(a=MD())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Yt]});let t=e;return t})();function S1(t){return!!t.paths}var A1=new J("");function Ub(t,...e){return Pu([{provide:jg,multi:!0,useValue:t},[],{provide:jn,useFactory:M1,deps:[Lt]},{provide:Bp,multi:!0,useFactory:R1},e.map(n=>n.\u0275providers)])}function M1(t){return t.routerState.root}function R1(){let t=F(ar);return e=>{let n=t.get(mo);if(e!==n.components[0])return;let r=t.get(Lt),i=t.get(x1);t.get(N1)===1&&r.initialNavigation(),t.get(P1,null,se.Optional)?.setUpPreloading(),t.get(A1,null,se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var x1=new J("",{factory:()=>new ze}),N1=new J("",{providedIn:"root",factory:()=>1});var P1=new J("");var Wb=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(H(pr),H(kt))},e.\u0275dir=Ve({type:e});let t=e;return t})(),O1=(()=>{let e=class e extends Wb{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=hr(e)))(o||e)}})(),e.\u0275dir=Ve({type:e,features:[bt]});let t=e;return t})(),qg=new J("");var k1={provide:qg,useExisting:Kt(()=>Dr),multi:!0};function F1(){let t=Fn()?Fn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var V1=new J(""),Dr=(()=>{let e=class e extends Wb{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!F1())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(H(pr),H(kt),H(V1,8))},e.\u0275dir=Ve({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&at("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[On([k1]),bt]});let t=e;return t})();function _r(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Kb(t){return t!=null&&typeof t.length=="number"}var hi=new J(""),Rl=new J(""),L1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,dn=class{static min(e){return j1(e)}static max(e){return U1(e)}static required(e){return Qb(e)}static requiredTrue(e){return B1(e)}static email(e){return Yb(e)}static minLength(e){return Jb(e)}static maxLength(e){return $1(e)}static pattern(e){return H1(e)}static nullValidator(e){return Il(e)}static compose(e){return rC(e)}static composeAsync(e){return iC(e)}};function j1(t){return e=>{if(_r(e.value)||_r(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function U1(t){return e=>{if(_r(e.value)||_r(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Qb(t){return _r(t.value)?{required:!0}:null}function B1(t){return t.value===!0?null:{required:!0}}function Yb(t){return _r(t.value)||L1.test(t.value)?null:{email:!0}}function Jb(t){return e=>_r(e.value)||!Kb(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function $1(t){return e=>Kb(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function H1(t){if(!t)return Il;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(_r(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Il(t){return null}function Zb(t){return t!=null}function Xb(t){return si(t)?Me(t):t}function eC(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function tC(t,e){return e.map(n=>n(t))}function q1(t){return!t.validate}function nC(t){return t.map(e=>q1(e)?e:n=>e.validate(n))}function rC(t){if(!t)return null;let e=t.filter(Zb);return e.length==0?null:function(n){return eC(tC(n,e))}}function zg(t){return t!=null?rC(nC(t)):null}function iC(t){if(!t)return null;let e=t.filter(Zb);return e.length==0?null:function(n){let r=tC(n,e).map(Xb);return $h(r).pipe(ce(eC))}}function Gg(t){return t!=null?iC(nC(t)):null}function Bb(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function oC(t){return t._rawValidators}function sC(t){return t._rawAsyncValidators}function Bg(t){return t?Array.isArray(t)?t:[t]:[]}function El(t,e){return Array.isArray(t)?t.includes(e):t===e}function $b(t,e){let n=Bg(e);return Bg(t).forEach(i=>{El(n,i)||n.push(i)}),n}function Hb(t,e){return Bg(e).filter(n=>!El(t,n))}var Dl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Gg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},wr=class extends Dl{get formDirective(){return null}get path(){return null}},di=class extends Dl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},bl=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},z1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},QG=fe(O({},z1),{"[class.ng-submitted]":"isSubmitted"}),Mo=(()=>{let e=class e extends bl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(H(di,2))},e.\u0275dir=Ve({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Gu("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[bt]});let t=e;return t})(),Ro=(()=>{let e=class e extends bl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(H(wr,10))},e.\u0275dir=Ve({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Gu("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[bt]});let t=e;return t})();var Ca="VALID",wl="INVALID",So="PENDING",Ta="DISABLED",Ir=class{},Cl=class extends Ir{constructor(e,n){super(),this.value=e,this.source=n}},Aa=class extends Ir{constructor(e,n){super(),this.pristine=e,this.source=n}},Ma=class extends Ir{constructor(e,n){super(),this.touched=e,this.source=n}},Ao=class extends Ir{constructor(e,n){super(),this.status=e,this.source=n}},$g=class extends Ir{constructor(e){super(),this.source=e}},Hg=class extends Ir{constructor(e){super(),this.source=e}};function aC(t){return(xl(t)?t.validators:t)||null}function G1(t){return Array.isArray(t)?zg(t):t||null}function cC(t,e){return(xl(e)?e.asyncValidators:t)||null}function W1(t){return Array.isArray(t)?Gg(t):t||null}function xl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function K1(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new z(1e3,"");if(!r[n])throw new z(1001,"")}function Q1(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new z(1002,"")})}var Tl=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new ze,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ca}get invalid(){return this.status===wl}get pending(){return this.status==So}get disabled(){return this.status===Ta}get enabled(){return this.status!==Ta}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($b(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($b(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Hb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Hb(e,this._rawAsyncValidators))}hasValidator(e){return El(this._rawValidators,e)}hasAsyncValidator(e){return El(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(fe(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ma(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ma(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(fe(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Aa(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Aa(!0,r))}markAsPending(e={}){this.status=So;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ao(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(fe(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ta,this.errors=null,this._forEachChild(i=>{i.disable(fe(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cl(this.value,r)),this._events.next(new Ao(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(fe(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ca,this._forEachChild(r=>{r.enable(fe(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(fe(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ca||this.status===So)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cl(this.value,n)),this._events.next(new Ao(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(fe(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ta:Ca}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=So,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Xb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ao(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Te,this.statusChanges=new Te}_calculateStatus(){return this._allControlsDisabled()?Ta:this.errors?wl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(So)?So:this._anyControlsHaveStatus(wl)?wl:Ca}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Aa(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ma(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=G1(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=W1(this._rawAsyncValidators)}},Er=class extends Tl{constructor(e,n,r){super(aC(n),cC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Q1(this,!0,e),Object.keys(e).forEach(r=>{K1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var xo=new J("CallSetDisabledState",{providedIn:"root",factory:()=>Nl}),Nl="always";function Y1(t,e){return[...e.path,t]}function Ra(t,e,n=Nl){Wg(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Z1(t,e),eF(t,e),X1(t,e),J1(t,e)}function Sl(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ml(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Al(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function J1(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Wg(t,e){let n=oC(t);e.validator!==null?t.setValidators(Bb(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=sC(t);e.asyncValidator!==null?t.setAsyncValidators(Bb(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Al(e._rawValidators,i),Al(e._rawAsyncValidators,i)}function Ml(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=oC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=sC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Al(e._rawValidators,r),Al(e._rawAsyncValidators,r),n}function Z1(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&uC(t,e)})}function X1(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&uC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function uC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function eF(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function lC(t,e){t==null,Wg(t,e)}function tF(t,e){return Ml(t,e)}function dC(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function nF(t){return Object.getPrototypeOf(t.constructor)===O1}function hC(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function fC(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Dr?n=o:nF(o)?r=o:i=o}),i||r||n||null}function rF(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var iF={provide:wr,useExisting:Kt(()=>Kg)},Sa=Promise.resolve(),Kg=(()=>{let e=class e extends wr{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Te,this.form=new Er({},zg(r),Gg(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Sa.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Ra(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Sa.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Sa.then(()=>{let i=this._findContainer(r.path),o=new Er({});lC(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Sa.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Sa.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,hC(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(H(hi,10),H(Rl,10),H(xo,8))},e.\u0275dir=Ve({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&at("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[On([iF]),bt]});let t=e;return t})();function qb(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function zb(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var br=class extends Tl{constructor(e=null,n,r){super(aC(n),cC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(zb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){qb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){qb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){zb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var oF=t=>t instanceof br;var sF={provide:di,useExisting:Kt(()=>Qg)},Gb=Promise.resolve(),Qg=(()=>{let e=class e extends di{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new br,this._registered=!1,this.name="",this.update=new Te,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=fC(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),dC(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ra(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){Gb.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&kn(i);Gb.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Y1(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(H(wr,9),H(hi,10),H(Rl,10),H(qg,10),H(gr,8),H(xo,8))},e.\u0275dir=Ve({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[On([sF]),bt,Yt]});let t=e;return t})(),No=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ve({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var pC=new J(""),aF={provide:di,useExisting:Kt(()=>xa)},xa=(()=>{let e=class e extends di{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new Te,this._ngModelWarningSent=!1,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=fC(this,o)}ngOnChanges(r){if(this._isControlChanged(r)){let i=r.form.previousValue;i&&Sl(i,this,!1),Ra(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}dC(r,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Sl(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_isControlChanged(r){return r.hasOwnProperty("form")}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(H(hi,10),H(Rl,10),H(qg,10),H(pC,8),H(xo,8))},e.\u0275dir=Ve({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[On([aF]),bt,Yt]});let t=e;return t})(),cF={provide:wr,useExisting:Kt(()=>Na)},Na=(()=>{let e=class e extends wr{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Te,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ml(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Ra(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){Sl(r.control||null,r,!1),rF(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,hC(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new $g(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1,this.form._events.next(new Hg(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(Sl(i||null,r),oF(o)&&(Ra(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);lC(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&tF(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Wg(this.form,this),this._oldForm&&Ml(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(H(hi,10),H(Rl,10),H(xo,8))},e.\u0275dir=Ve({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&at("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[On([cF]),bt,Yt]});let t=e;return t})();function uF(t){return typeof t=="number"?t:parseInt(t,10)}var Yg=(()=>{let e=class e{constructor(){this._validator=Il}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Il,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ve({type:e,features:[Yt]});let t=e;return t})();var lF={provide:hi,useExisting:Kt(()=>Jg),multi:!0};var Jg=(()=>{let e=class e extends Yg{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=kn,this.createValidator=r=>Qb}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=hr(e)))(o||e)}})(),e.\u0275dir=Ve({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&go("required",o._enabled?"":null)},inputs:{required:"required"},features:[On([lF]),bt]});let t=e;return t})();var dF={provide:hi,useExisting:Kt(()=>Zg),multi:!0},Zg=(()=>{let e=class e extends Yg{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=kn,this.createValidator=r=>Yb}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=hr(e)))(o||e)}})(),e.\u0275dir=Ve({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[On([dF]),bt]});let t=e;return t})(),hF={provide:hi,useExisting:Kt(()=>Xg),multi:!0},Xg=(()=>{let e=class e extends Yg{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=r=>uF(r),this.createValidator=r=>Jb(r)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=hr(e)))(o||e)}})(),e.\u0275dir=Ve({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&go("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},features:[On([hF]),bt]});let t=e;return t})();var gC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=lr({type:e}),e.\u0275inj=ur({});let t=e;return t})();var mC=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:xo,useValue:r.callSetDisabledState??Nl}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=lr({type:e}),e.\u0275inj=ur({imports:[gC]});let t=e;return t})(),Pl=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:pC,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:xo,useValue:r.callSetDisabledState??Nl}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=lr({type:e}),e.\u0275inj=ur({imports:[gC]});let t=e;return t})();var vC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},_C={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new nm;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},nm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},pF=function(t){let e=vC(t);return _C.encodeByteArray(e,!0)},Pa=function(t){return pF(t).replace(/\./g,"")},im=function(t){try{return _C.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var mF=()=>gF().__FIREBASE_DEFAULTS__,yF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&im(t[1]);return e&&JSON.parse(e)},kl=()=>{try{return mF()||yF()||vF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},om=t=>{var e,n;return(n=(e=kl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wC=t=>{let e=om(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sm=()=>{var t;return(t=kl())===null||t===void 0?void 0:t.config},am=t=>{var e;return(e=kl())===null||e===void 0?void 0:e[`_${t}`]};var Ol=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function IC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pa(JSON.stringify(n)),Pa(JSON.stringify(s)),""].join(".")}function He(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function _F(){var t;let e=(t=kl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CC(){let t=He();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TC(){return!_F()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cm(){try{return typeof indexedDB=="object"}catch{return!1}}function SC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var wF="FirebaseError",St=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Un.prototype.create)}},Un=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?IF(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new St(i,a,r)}};function IF(t,e){return t.replace(EF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var EF=/\{\$([^}]+)}/g;function AC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(yC(o)&&yC(s)){if(!fi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function yC(t){return t!==null&&typeof t=="object"}function Oa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Po(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Oo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function MC(t,e){let n=new rm(t,e);return n.subscribe.bind(n)}var rm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=tm),i.error===void 0&&(i.error=tm),i.complete===void 0&&(i.complete=tm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function DF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tm(){}var ZG=4*60*60*1e3;function ct(t){return t&&t._delegate?t._delegate:t}var jt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var pi="[DEFAULT]";var um=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ol;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CF(e))try{this.getOrInitializeService({instanceIdentifier:pi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=pi){return this.instances.has(e)}getOptions(e=pi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pi){return this.component?this.component.multipleInstances?e:pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function bF(t){return t===pi?void 0:t}function CF(t){return t.instantiationMode==="EAGER"}var Fl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new um(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var TF=[],le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{}),SF={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},AF=le.INFO,MF={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},RF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=MF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Cr=class{constructor(e){this.name=e,this._logLevel=AF,this._logHandler=RF,this._userLogHandler=null,TF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var xF=(t,e)=>e.some(n=>t instanceof n),RC,xC;function NF(){return RC||(RC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PF(){return xC||(xC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var NC=new WeakMap,dm=new WeakMap,PC=new WeakMap,lm=new WeakMap,fm=new WeakMap;function OF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(hn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&NC.set(n,t)}).catch(()=>{}),fm.set(e,t),e}function kF(t){if(dm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});dm.set(t,e)}var hm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OC(t){hm=t(hm)}function FF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Vl(this),e,...n);return PC.set(r,e.sort?e.sort():[e]),hn(r)}:PF().includes(t)?function(...e){return t.apply(Vl(this),e),hn(NC.get(this))}:function(...e){return hn(t.apply(Vl(this),e))}}function VF(t){return typeof t=="function"?FF(t):(t instanceof IDBTransaction&&kF(t),xF(t,NF())?new Proxy(t,hm):t)}function hn(t){if(t instanceof IDBRequest)return OF(t);if(lm.has(t))return lm.get(t);let e=VF(t);return e!==t&&(lm.set(t,e),fm.set(e,t)),e}var Vl=t=>fm.get(t);function FC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=hn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(hn(s.result),u.oldVersion,u.newVersion,hn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var LF=["get","getKey","getAll","getAllKeys","count"],jF=["put","add","delete","clear"],pm=new Map;function kC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=jF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LF.includes(n)))return;let o=function(s,...a){return I(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return pm.set(e,o),o}OC(t=>fe(O({},t),{get:(e,n,r)=>kC(e,n)||t.get(e,n,r),has:(e,n)=>!!kC(e,n)||t.has(e,n)}));var mm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function UF(t){let e=t.getComponent();return e?.type==="VERSION"}var ym="@firebase/app",VC="0.10.6";var gi=new Cr("@firebase/app"),BF="@firebase/app-compat",$F="@firebase/analytics-compat",HF="@firebase/analytics",qF="@firebase/app-check-compat",zF="@firebase/app-check",GF="@firebase/auth",WF="@firebase/auth-compat",KF="@firebase/database",QF="@firebase/database-compat",YF="@firebase/functions",JF="@firebase/functions-compat",ZF="@firebase/installations",XF="@firebase/installations-compat",eV="@firebase/messaging",tV="@firebase/messaging-compat",nV="@firebase/performance",rV="@firebase/performance-compat",iV="@firebase/remote-config",oV="@firebase/remote-config-compat",sV="@firebase/storage",aV="@firebase/storage-compat",cV="@firebase/firestore",uV="@firebase/vertexai-preview",lV="@firebase/firestore-compat",dV="firebase",hV="10.12.3";var vm="[DEFAULT]",fV={[ym]:"fire-core",[BF]:"fire-core-compat",[HF]:"fire-analytics",[$F]:"fire-analytics-compat",[zF]:"fire-app-check",[qF]:"fire-app-check-compat",[GF]:"fire-auth",[WF]:"fire-auth-compat",[KF]:"fire-rtdb",[QF]:"fire-rtdb-compat",[YF]:"fire-fn",[JF]:"fire-fn-compat",[ZF]:"fire-iid",[XF]:"fire-iid-compat",[eV]:"fire-fcm",[tV]:"fire-fcm-compat",[nV]:"fire-perf",[rV]:"fire-perf-compat",[iV]:"fire-rc",[oV]:"fire-rc-compat",[sV]:"fire-gcs",[aV]:"fire-gcs-compat",[cV]:"fire-fst",[lV]:"fire-fst-compat",[uV]:"fire-vertex","fire-js":"fire-js",[dV]:"fire-js-all"};var Ll=new Map,pV=new Map,_m=new Map;function LC(t,e){try{t.container.addComponent(e)}catch(n){gi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sr(t){let e=t.name;if(_m.has(e))return gi.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,t);for(let n of Ll.values())LC(n,t);for(let n of pV.values())LC(n,t);return!0}function Fa(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xt(t){return t.settings!==void 0}var gV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new Un("app","Firebase",gV);var wm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}};var Ar=hV;function Dm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:vm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Tr.create("bad-app-name",{appName:String(i)});if(n||(n=sm()),!n)throw Tr.create("no-options");let o=Ll.get(i);if(o){if(fi(n,o.options)&&fi(r,o.config))return o;throw Tr.create("duplicate-app",{appName:i})}let s=new Fl(i);for(let u of _m.values())s.addComponent(u);let a=new wm(n,r,s);return Ll.set(i,a),a}function jl(t=vm){let e=Ll.get(t);if(!e&&t===vm&&sm())return Dm();if(!e)throw Tr.create("no-app",{appName:t});return e}function Zt(t,e,n){var r;let i=(r=fV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gi.warn(a.join(" "));return}Sr(new jt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var mV="firebase-heartbeat-database",yV=1,ka="firebase-heartbeat-store",gm=null;function $C(){return gm||(gm=FC(mV,yV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ka)}catch(n){console.warn(n)}}}}).catch(t=>{throw Tr.create("idb-open",{originalErrorMessage:t.message})})),gm}function vV(t){return I(this,null,function*(){try{let n=(yield $C()).transaction(ka),r=yield n.objectStore(ka).get(HC(t));return yield n.done,r}catch(e){if(e instanceof St)gi.warn(e.message);else{let n=Tr.create("idb-get",{originalErrorMessage:e?.message});gi.warn(n.message)}}})}function jC(t,e){return I(this,null,function*(){try{let r=(yield $C()).transaction(ka,"readwrite");yield r.objectStore(ka).put(e,HC(t)),yield r.done}catch(n){if(n instanceof St)gi.warn(n.message);else{let r=Tr.create("idb-set",{originalErrorMessage:n?.message});gi.warn(r.message)}}})}function HC(t){return`${t.name}!${t.options.appId}`}var _V=1024,wV=30*24*60*60*1e3,Im=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Em(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=UC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=wV}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return I(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=UC(),{heartbeatsToSend:r,unsentEntries:i}=IV(this._heartbeatsCache.heartbeats),o=Pa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function UC(){return new Date().toISOString().substring(0,10)}function IV(t,e=_V){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),BC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),BC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Em=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return cm()?SC().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield vV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return jC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return jC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function BC(t){return Pa(JSON.stringify({version:2,heartbeats:t})).length}function EV(t){Sr(new jt("platform-logger",e=>new mm(e),"PRIVATE")),Sr(new jt("heartbeat",e=>new Im(e),"PRIVATE")),Zt(ym,VC,t),Zt(ym,VC,"esm2017"),Zt("fire-js","")}EV("");function s0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var a0=s0,c0=new Un("auth","Firebase",s0());var zl=new Cr("@firebase/auth");function DV(t,...e){zl.logLevel<=le.WARN&&zl.warn(`Auth (${Ar}): ${t}`,...e)}function Bl(t,...e){zl.logLevel<=le.ERROR&&zl.error(`Auth (${Ar}): ${t}`,...e)}function pn(t,...e){throw Gm(t,...e)}function mi(t,...e){return Gm(t,...e)}function u0(t,e,n){let r=Object.assign(Object.assign({},a0()),{[e]:n});return new Un("auth","Firebase",r).create(e,{appName:t.name})}function Hn(t){return u0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return c0.create(t,...e)}function K(t,e,...n){if(!t)throw Gm(e,...n)}function Bn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Bl(e),new Error(e)}function Rr(t,e){t||Bn(e)}function Sm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bV(){return qC()==="http:"||qC()==="https:"}function qC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function CV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bV()||DC()||"connection"in navigator)?navigator.onLine:!0}function TV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var yi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rr(n>e,"Short delay should be less than long delay!"),this.isMobile=EC()||bC()}get(){return CV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Wm(t,e){Rr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Gl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var SV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var AV=new yi(3e4,6e4);function xr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Nr(o,s,a,u){return I(this,arguments,function*(t,e,n,r,i={}){return l0(t,i,()=>I(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Oa(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),Gl.fetch()(d0(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function l0(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},SV),e);try{let i=new Am(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ul(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ul(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Ul(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Ul(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw u0(t,h,l);pn(t,h)}}catch(i){if(i instanceof St)throw i;pn(t,"network-request-failed",{message:String(i)})}})}function qa(o,s,a,u){return I(this,arguments,function*(t,e,n,r,i={}){let l=yield Nr(t,e,n,r,i);return"mfaPendingCredential"in l&&pn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function d0(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Wm(t.config,i):`${t.config.apiScheme}://${i}`}function MV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Am=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mi(this.auth,"network-request-failed")),AV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ul(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=mi(t,e,r);return i.customData._tokenResponse=n,i}function zC(t){return t!==void 0&&t.enterprise!==void 0}var Mm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return MV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function RV(t,e){return I(this,null,function*(){return Nr(t,"GET","/v2/recaptchaConfig",xr(t,e))})}function xV(t,e){return I(this,null,function*(){return Nr(t,"POST","/v1/accounts:delete",e)})}function h0(t,e){return I(this,null,function*(){return Nr(t,"POST","/v1/accounts:lookup",e)})}function Va(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function f0(t,e=!1){return I(this,null,function*(){let n=ct(t),r=yield n.getIdToken(e),i=Km(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Va(bm(i.auth_time)),issuedAtTime:Va(bm(i.iat)),expirationTime:Va(bm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function bm(t){return Number(t)*1e3}function Km(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bl("JWT malformed, contained fewer than 3 sections"),null;try{let i=im(n);return i?JSON.parse(i):(Bl("Failed to decode base64 JWT payload"),null)}catch(i){return Bl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function GC(t){let e=Km(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ja(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof St&&NV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function NV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Rm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ua=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Va(this.lastLoginAt),this.creationTime=Va(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Wl(t){return I(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ja(t,h0(n,{idToken:r}));K(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?g0(o.providerUserInfo):[],a=PV(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ua(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function p0(t){return I(this,null,function*(){let e=ct(t);yield Wl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function PV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function g0(t){return t.map(e=>{var{providerId:n}=e,r=Uh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function OV(t,e){return I(this,null,function*(){let n=yield l0(t,{},()=>I(this,null,function*(){let r=Oa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=d0(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Gl.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function kV(t,e){return I(this,null,function*(){return Nr(t,"POST","/v2/accounts:revokeToken",xr(t,e))})}var La=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");let n=GC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return I(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield OV(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(K(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(K(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Bn("not implemented")}};function Mr(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ko=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Uh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ua(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield ja(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return f0(this,e)}reload(){return p0(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Wl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(Xt(this.auth.app))return Promise.reject(Hn(this.auth));let e=yield this.getIdToken();return yield ja(this,xV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,q=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:$,emailVerified:he,isAnonymous:Se,providerData:re,stsTokenManager:D}=n;K($&&D,e,"internal-error");let v=La.fromJSON(this.name,D);K(typeof $=="string",e,"internal-error"),Mr(p,e.name),Mr(m,e.name),K(typeof he=="boolean",e,"internal-error"),K(typeof Se=="boolean",e,"internal-error"),Mr(y,e.name),Mr(S,e.name),Mr(R,e.name),Mr(M,e.name),Mr(k,e.name),Mr(q,e.name);let _=new t({uid:$,auth:e,email:m,emailVerified:he,displayName:p,isAnonymous:Se,photoURL:S,phoneNumber:y,tenantId:R,stsTokenManager:v,createdAt:k,lastLoginAt:q});return re&&Array.isArray(re)&&(_.providerData=re.map(E=>Object.assign({},E))),M&&(_._redirectEventId=M),_}static _fromIdTokenResponse(e,n,r=!1){return I(this,null,function*(){let i=new La;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Wl(o),o})}static _fromGetAccountInfoResponse(e,n,r){return I(this,null,function*(){let i=n.users[0];K(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?g0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new La;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ua(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var WC=new Map;function $n(t){Rr(t instanceof Function,"Expected a class definition");let e=WC.get(t);return e?(Rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,WC.set(t,e),e)}var FV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,r){return I(this,null,function*(){this.storage[n]=r})}_get(n){return I(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),xm=FV;function $l(t,e,n){return`firebase:${t}:${e}:${n}`}var Kl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=$l(this.userKey,i.apiKey,o),this.fullPersistenceKey=$l("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ko._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return I(this,null,function*(){if(!n.length)return new t($n(xm),e,r);let i=(yield Promise.all(n.map(l=>I(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||$n(xm),s=$l(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=ko._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>I(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function KC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(v0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(m0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(w0(e))return"Blackberry";if(I0(e))return"Webos";if(Qm(e))return"Safari";if((e.includes("chrome/")||y0(e))&&!e.includes("edge/"))return"Chrome";if(_0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function m0(t=He()){return/firefox\//i.test(t)}function Qm(t=He()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function y0(t=He()){return/crios\//i.test(t)}function v0(t=He()){return/iemobile/i.test(t)}function _0(t=He()){return/android/i.test(t)}function w0(t=He()){return/blackberry/i.test(t)}function I0(t=He()){return/webos/i.test(t)}function nd(t=He()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VV(t=He()){var e;return nd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LV(){return CC()&&document.documentMode===10}function E0(t=He()){return nd(t)||_0(t)||I0(t)||w0(t)||/windows phone/i.test(t)||v0(t)}function jV(){try{return!!(window&&window!==window.top)}catch{return!1}}function D0(t,e=[]){let n;switch(t){case"Browser":n=KC(He());break;case"Worker":n=`${KC(He())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ar}/${r}`}var Nm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function UV(n){return I(this,arguments,function*(t,e={}){return Nr(t,"GET","/v2/passwordPolicy",xr(t,e))})}var BV=6,Pm=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:BV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Om=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ql(this),this.idTokenSubscription=new Ql(this),this.beforeStateQueue=new Nm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$n(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Kl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let n=yield h0(this,{idToken:e}),r=yield ko._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;if(Xt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield Wl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=TV()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(Xt(this.app))return Promise.reject(Hn(this));let n=e?ct(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return Xt(this.app)?Promise.reject(Hn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Xt(this.app)?Promise.reject(Hn(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence($n(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield UV(this),n=new Pm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Un("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield kV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&$n(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=yield Kl.create(this,[$n(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return I(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&DV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function _i(t){return ct(t)}var Ql=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=MC(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var rd={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $V(t){rd=t}function b0(t){return rd.loadJS(t)}function HV(){return rd.recaptchaEnterpriseScript}function qV(){return rd.gapiScript}function C0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var zV="recaptcha-enterprise",GV="NO_RECAPTCHA",km=class{constructor(e){this.type=zV,this.auth=_i(e)}verify(e="verify",n=!1){return I(this,null,function*(){function r(o){return I(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>I(this,null,function*(){RV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Mm(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;zC(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(GV)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&zC(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=HV();u.length!==0&&(u+=a),b0(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function QC(t,e,n,r=!1){return I(this,null,function*(){let i=new km(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function Fm(t,e,n,r){return I(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield QC(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>I(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield QC(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function T0(t,e){let n=Fa(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(fi(o,e??{}))return i;pn(i,"already-initialized")}return n.initialize({options:e})}function WV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($n);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function S0(t,e,n){let r=_i(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=A0(e),{host:s,port:a}=KV(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||QV()}function A0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function KV(t){let e=A0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:YC(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:YC(s)}}}function YC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function QV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ba=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bn("not implemented")}_getIdTokenResponse(e){return Bn("not implemented")}_linkToIdToken(e,n){return Bn("not implemented")}_getReauthenticationResolver(e){return Bn("not implemented")}};function YV(t,e){return I(this,null,function*(){return Nr(t,"POST","/v1/accounts:signUp",e)})}function JV(t,e){return I(this,null,function*(){return qa(t,"POST","/v1/accounts:signInWithPassword",xr(t,e))})}function ZV(t,e){return I(this,null,function*(){return qa(t,"POST","/v1/accounts:signInWithEmailLink",xr(t,e))})}function XV(t,e){return I(this,null,function*(){return qa(t,"POST","/v1/accounts:signInWithEmailLink",xr(t,e))})}var $a=class t extends Ba{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return I(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fm(e,n,"signInWithPassword",JV);case"emailLink":return ZV(e,{email:this._email,oobCode:this._password});default:pn(e,"internal-error")}})}_linkToIdToken(e,n){return I(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fm(e,r,"signUpPassword",YV);case"emailLink":return XV(e,{idToken:n,email:this._email,oobCode:this._password});default:pn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Cm(t,e){return I(this,null,function*(){return qa(t,"POST","/v1/accounts:signInWithIdp",xr(t,e))})}function eL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tL(t){let e=Po(Oo(t)).link,n=e?Po(Oo(e)).deep_link_id:null,r=Po(Oo(t)).deep_link_id;return(r?Po(Oo(r)).link:null)||r||n||e||t}var Yl=class t{constructor(e){var n,r,i,o,s,a;let u=Po(Oo(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=eL((i=u.mode)!==null&&i!==void 0?i:null);K(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=tL(e);try{return new t(n)}catch{return null}}};var M0=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return $a._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Yl.parseLink(r);return K(i,"argument-error"),$a._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Jl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Vm=class extends Jl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function nL(t,e){return I(this,null,function*(){return qa(t,"POST","/v1/accounts:signUp",xr(t,e))})}var Fo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return I(this,null,function*(){let o=yield ko._fromIdTokenResponse(e,r,i),s=JC(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return I(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=JC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function JC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Lm=class t extends St{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function R0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Lm._fromErrorAndOperation(t,o,e,r):o})}function rL(t,e,n=!1){return I(this,null,function*(){let r=yield ja(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Fo._forOperation(t,"link",r)})}function iL(t,e,n=!1){return I(this,null,function*(){let{auth:r}=t;if(Xt(r.app))return Promise.reject(Hn(r));let i="reauthenticate";try{let o=yield ja(t,R0(r,i,e,t),n);K(o.idToken,r,"internal-error");let s=Km(o.idToken);K(s,r,"internal-error");let{sub:a}=s;return K(t.uid===a,r,"user-mismatch"),Fo._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&pn(r,"user-mismatch"),o}})}function x0(t,e,n=!1){return I(this,null,function*(){if(Xt(t.app))return Promise.reject(Hn(t));let r="signIn",i=yield R0(t,r,e),o=yield Fo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function N0(t,e){return I(this,null,function*(){return x0(_i(t),e)})}function P0(t){return I(this,null,function*(){let e=_i(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Ym(t,e,n){return I(this,null,function*(){if(Xt(t.app))return Promise.reject(Hn(t));let r=_i(t),s=yield Fm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nL).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&P0(t),u}),a=yield Fo._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Jm(t,e,n){return Xt(t.app)?Promise.reject(Hn(t)):N0(ct(t),M0.credential(e,n)).catch(r=>I(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&P0(t),r}))}function O0(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function k0(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}function Zm(t,e,n,r){return ct(t).onAuthStateChanged(e,n,r)}function Xm(t){return ct(t).signOut()}var Zl="__sak";var Xl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zl,"1"),this.storage.removeItem(Zl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function oL(){let t=He();return Qm(t)||nd(t)}var sL=1e3,aL=10,cL=(()=>{class t extends Xl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=oL()&&jV(),this.fallbackToPolling=E0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);LV()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,aL):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},sL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return I(this,null,function*(){yield Xn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return I(this,null,function*(){let r=yield Xn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return I(this,null,function*(){yield Xn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),F0=cL;var uL=(()=>{class t extends Xl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),ey=uL;function lL(t){return Promise.all(t.map(e=>I(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var dL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return I(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>I(this,null,function*(){return h(r.origin,s)})),l=yield lL(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function V0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var jm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return I(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=V0("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function fn(){return window}function hL(t){fn().location.href=t}function L0(){return typeof fn().WorkerGlobalScope<"u"&&typeof fn().importScripts=="function"}function fL(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function pL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gL(){return L0()?self:null}var j0="firebaseLocalStorageDb",mL=1,ed="firebaseLocalStorage",U0="fbase_key",vi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function id(t,e){return t.transaction([ed],e?"readwrite":"readonly").objectStore(ed)}function yL(){let t=indexedDB.deleteDatabase(j0);return new vi(t).toPromise()}function Um(){let t=indexedDB.open(j0,mL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(ed,{keyPath:U0})}catch(i){n(i)}}),t.addEventListener("success",()=>I(this,null,function*(){let r=t.result;r.objectStoreNames.contains(ed)?e(r):(r.close(),yield yL(),e(yield Um()))}))})}function ZC(t,e,n){return I(this,null,function*(){let r=id(t,!0).put({[U0]:e,value:n});return new vi(r).toPromise()})}function vL(t,e){return I(this,null,function*(){let n=id(t,!1).get(e),r=yield new vi(n).toPromise();return r===void 0?null:r.value})}function XC(t,e){let n=id(t,!0).delete(e);return new vi(n).toPromise()}var _L=800,wL=3,IL=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield Um(),this.db)})}_withRetries(n){return I(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>wL)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return L0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=dL._getInstance(gL()),this.receiver._subscribe("keyChanged",(n,r)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var n,r;if(this.activeServiceWorker=yield fL(),!this.activeServiceWorker)return;this.sender=new jm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||pL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Um();return yield ZC(n,Zl,"1"),yield XC(n,Zl),!0}catch{}return!1})}_withPendingWrite(n){return I(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>ZC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return I(this,null,function*(){let r=yield this._withRetries(i=>vL(i,n));return this.localCache[n]=r,r})}_remove(n){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>XC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return I(this,null,function*(){let n=yield this._withRetries(o=>{let s=id(o,!1).getAll();return new vi(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),_L)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),B0=IL;var C3=C0("rcb"),T3=new yi(3e4,6e4);function EL(t,e){return e?$n(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ha=class extends Ba{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function DL(t){return x0(t.auth,new Ha(t),t.bypassAuthState)}function bL(t){let{auth:e,user:n}=t;return K(n,e,"internal-error"),iL(n,new Ha(t),t.bypassAuthState)}function CL(t){return I(this,null,function*(){let{auth:e,user:n}=t;return K(n,e,"internal-error"),rL(n,new Ha(t),t.bypassAuthState)})}var Bm=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DL;case"linkViaPopup":case"linkViaRedirect":return CL;case"reauthViaPopup":case"reauthViaRedirect":return bL;default:pn(this.auth,"internal-error")}}resolve(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var S3=new yi(2e3,1e4);var TL="pendingRedirect",Hl=new Map,$m=class t extends Bm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return I(this,null,function*(){let e=Hl.get(this.auth._key());if(!e){try{let r=(yield SL(this.resolver,this.auth))?yield Xn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hl.set(this.auth._key(),e)}return this.bypassAuthState||Hl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return Xn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Xn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function SL(t,e){return I(this,null,function*(){let n=RL(e),r=ML(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function AL(t,e){Hl.set(t._key(),e)}function ML(t){return $n(t._redirectPersistence)}function RL(t){return $l(TL,t.config.apiKey,t.name)}function xL(t,e,n=!1){return I(this,null,function*(){if(Xt(t.app))return Promise.reject(Hn(t));let r=_i(t),i=EL(r,e),s=yield new $m(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var NL=10*60*1e3,Hm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NL&&this.cachedEventUids.clear(),this.cachedEventUids.has(e0(e))}saveEventToCache(e){this.cachedEventUids.add(e0(e)),this.lastProcessedEventTime=Date.now()}};function e0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function PL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $0(t);default:return!1}}function OL(n){return I(this,arguments,function*(t,e={}){return Nr(t,"GET","/v1/projects",e)})}var kL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FL=/^https?/;function VL(t){return I(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield OL(t);for(let n of e)try{if(LL(n))return}catch{}pn(t,"unauthorized-domain")})}function LL(t){let e=Sm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!FL.test(n))return!1;if(kL.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var jL=new yi(3e4,6e4);function t0(){let t=fn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UL(t){return new Promise((e,n)=>{var r,i,o;function s(){t0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t0(),n(mi(t,"network-request-failed"))},timeout:jL.get()})}if(!((i=(r=fn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=fn().gapi)===null||o===void 0)&&o.load)s();else{let a=C0("iframefcb");return fn()[a]=()=>{gapi.load?s():n(mi(t,"network-request-failed"))},b0(`${qV()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw ql=null,e})}var ql=null;function BL(t){return ql=ql||UL(t),ql}var $L=new yi(5e3,15e3),HL="__/auth/iframe",qL="emulator/auth/iframe",zL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WL(t){let e=t.config;K(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Wm(e,qL):`https://${t.config.authDomain}/${HL}`,r={apiKey:e.apiKey,appName:t.name,v:Ar},i=GL.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Oa(r).slice(1)}`}function KL(t){return I(this,null,function*(){let e=yield BL(t),n=fn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:WL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zL,dontclear:!0},r=>new Promise((i,o)=>I(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=mi(t,"network-request-failed"),a=fn().setTimeout(()=>{o(s)},$L.get());function u(){fn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var QL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YL=500,JL=600,ZL="_blank",XL="http://localhost",td=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function ej(t,e,n,r=YL,i=JL){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},QL),{width:r.toString(),height:i.toString(),top:o,left:s}),l=He().toLowerCase();n&&(a=y0(l)?ZL:n),m0(l)&&(e=e||XL,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,S])=>`${m}${y}=${S},`,"");if(VV(l)&&a!=="_self")return tj(e||"",a),new td(null);let p=window.open(e||"",a,h);K(p,t,"popup-blocked");try{p.focus()}catch{}return new td(p)}function tj(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var nj="__/auth/handler",rj="emulator/auth/handler",ij=encodeURIComponent("fac");function n0(t,e,n,r,i,o){return I(this,null,function*(){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ar,eventId:i};if(e instanceof Jl){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",AC(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Vm){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${ij}=${encodeURIComponent(u)}`:"";return`${oj(t)}?${Oa(a).slice(1)}${l}`})}function oj({config:t}){return t.emulator?Wm(t,rj):`https://${t.authDomain}/${nj}`}var Tm="webStorageSupport",qm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ey,this._completeRedirectFn=xL,this._overrideRedirectResult=AL}_openPopup(e,n,r,i){return I(this,null,function*(){var o;Rr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield n0(e,n,r,Sm(),i);return ej(e,s,V0())})}_openRedirect(e,n,r,i){return I(this,null,function*(){yield this._originValidation(e);let o=yield n0(e,n,r,Sm(),i);return hL(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Rr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return I(this,null,function*(){let n=yield KL(e),r=new Hm(e);return n.register("authEvent",i=>(K(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tm,{type:Tm},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Tm];s!==void 0&&n(!!s),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return E0()||Qm()||nd()}},H0=qm;var r0="@firebase/auth",i0="1.7.5";var zm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function sj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aj(t){Sr(new jt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;K(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D0(t)},l=new Om(r,i,o,u);return WV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sr(new jt("auth-internal",e=>{let n=_i(e.getProvider("auth").getImmediate());return(r=>new zm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zt(r0,i0,sj(t)),Zt(r0,i0,"esm2017")}var cj=5*60,uj=am("authIdTokenMaxAge")||cj,o0=null,lj=t=>e=>I(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uj)return;let i=n?.token;o0!==i&&(o0=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Vo(t=jl()){let e=Fa(t,"auth");if(e.isInitialized())return e.getImmediate();let n=T0(t,{popupRedirectResolver:H0,persistence:[B0,F0,ey]}),r=am("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=lj(o.toString());k0(n,s,()=>s(n.currentUser)),O0(n,a=>s(a))}}let i=om("auth");return i&&S0(n,`http://${i}`),n}function dj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$V({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=mi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",dj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aj("Browser");var gn=(()=>{let e=class e{constructor(r){this.router=r;let i=Vo();Zm(i,o=>{o?(this.uid=o.uid,console.log("User Logged in as",o.email)):(this.uid=void 0,console.log("User Logged out"))})}isAuthenticated(){return!!this.uid}getUID(){return this.uid}registerUser(r,i){let o=Vo();Ym(o,r,i).then(s=>{let a=s.user;console.log(a),this.router.navigate(["/createbin"])}).catch(s=>{let a=s.code,u=s.message;console.log(a,u),alert("Something went wrong")})}loginUser(r,i){let o=Vo();Jm(o,r,i).then(s=>{let a=s.user;console.log(a),this.router.navigate(["/createbin"])}).catch(s=>{let a=s.code,u=s.message;console.log("Try Again, something went wrong"),alert("Something went wrong, try again")})}logout(){let r=Vo();this.router.navigate(["/login"]),Xm(r).catch(i=>{alert("An error occurred while logging out")})}};e.\u0275fac=function(i){return new(i||e)(oe(Lt))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var q0=(()=>{let e=class e{constructor(r){this.authService=r,this.email=new br("",[dn.required,dn.email]),this.password=new br("",[dn.required,dn.minLength(6)]),this.form=new Er({email:this.email,password:this.password})}login(){console.log(this.form.value),this.authService.loginUser(this.form.value.email,this.form.value.password)}reset(){this.form.reset()}};e.\u0275fac=function(i){return new(i||e)(H(gn))},e.\u0275cmp=Fe({type:e,selectors:[["app-login"]],standalone:!0,features:[je],decls:15,vars:4,consts:[[3,"formGroup"],[1,"form-group"],["for","exampleInputEmail1"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","placeholder","Enter email",1,"form-control",3,"formControl"],["for","exampleInputPassword1"],["type","password","id","exampleInputPassword1","placeholder","Password",1,"form-control",3,"formControl"],["type","login",1,"btn","btn-primary",3,"click","disabled"],["type","reset",1,"btn","btn-primary"]],template:function(i,o){i&1&&(j(0,"form",0)(1,"h3"),B(2,"Login"),V(),j(3,"div",1)(4,"label",2),B(5,"Email address"),V(),Le(6,"input",3),V(),j(7,"div",1)(8,"label",4),B(9,"Password"),V(),Le(10,"input",5),V(),j(11,"button",6),at("click",function(){return o.login()}),B(12,"Login"),V(),j(13,"button",7),B(14,"Reset"),V()()),i&2&&(gt("formGroup",o.form),Ge(6),gt("formControl",o.email),Ge(4),gt("formControl",o.password),Ge(),gt("disabled",!o.form.valid))},dependencies:[Pl,No,Dr,Mo,Ro,xa,Na],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(135deg,#71b7e6,#9b59b6);background-attachment:fixed;margin:0}form[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 0 15px #0000001a;width:300px;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#333}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:calc(100% - 24px);padding:10px;margin:0;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;transition:border-color .3s}input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.form-text[_ngcontent-%COMP%]{font-size:12px;color:#777}button[_ngcontent-%COMP%]{width:100%;padding:10px;margin:10px 0;border:none;border-radius:4px;font-size:16px;cursor:pointer;transition:background-color .3s}button.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}button.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#eb5b5b;cursor:not-allowed}"]});let t=e;return t})();var z0=(()=>{let e=class e{constructor(r,i){this.authService=r,this.router=i}register(r){console.log(r.value),this.authService.registerUser(r.value.email,r.value.password),this.router.navigate(["/login"])}reset(r){r.reset()}};e.\u0275fac=function(i){return new(i||e)(H(gn),H(Lt))},e.\u0275cmp=Fe({type:e,selectors:[["app-signup"]],standalone:!0,features:[je],decls:20,vars:1,consts:[["signupform","ngForm"],["email","ngModel"],["password","ngModel"],[3,"ngSubmit"],[1,"form-group"],["for","exampleInputEmail1"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","placeholder","Enter email","name","email","required","","email","","ngModel","",1,"form-control"],["id","emailHelp",1,"form-text","text-muted"],["for","exampleInputPassword1"],["type","password","name","password","id","exampleInputPassword1","placeholder","Password","required","","minlength","6","ngModel","",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(i,o){if(i&1){let s=Ku();j(0,"form",3,0),at("ngSubmit",function(){Ks(s);let u=Yu(1);return Qs(o.register(u))}),j(2,"h3"),B(3,"Register"),V(),j(4,"div",4)(5,"label",5),B(6,"Email address"),V(),Le(7,"input",6,1),j(9,"small",7),B(10,"We'll never share your email with anyone else."),V()(),j(11,"div",4)(12,"label",8),B(13,"Password"),V(),Le(14,"input",9,2),V(),j(16,"button",10),B(17,"Register"),V(),j(18,"button",11),at("click",function(){Ks(s);let u=Yu(1);return Qs(o.reset(u))}),B(19,"Reset"),V()()}if(i&2){let s=Yu(1);Ge(16),gt("disabled",s.invalid)}},dependencies:[mC,No,Dr,Mo,Ro,Jg,Xg,Zg,Qg,Kg],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(135deg,#71b7e6,#9b59b6);background-attachment:fixed;margin:0}form[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 0 15px #0000001a;width:300px;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;color:#333}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:calc(100% - 24px);padding:10px;margin:0;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;transition:border-color .3s}input[type=email][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.form-text[_ngcontent-%COMP%]{font-size:12px;color:#777}button[_ngcontent-%COMP%]{width:100%;padding:10px;margin:10px 0;border:none;border-radius:4px;font-size:16px;cursor:pointer;transition:background-color .3s}button.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}button.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[disabled][_ngcontent-%COMP%]{background-color:#eb5b5b;cursor:not-allowed}"]});let t=e;return t})();var G0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-not-found"]],standalone:!0,features:[je],decls:17,vars:0,consts:[[1,"py-3","py-md-5","min-vh-100","d-flex","justify-content-center","align-items-center"],[1,"container"],[1,"row"],[1,"col-12"],[1,"text-center"],[1,"d-flex","justify-content-center","align-items-center","gap-2","mb-4"],[1,"display-1","fw-bold"],[1,"bi","bi-exclamation-circle-fill","text-danger","display-4"],[1,"display-1","fw-bold","bsb-flip-h"],[1,"h2","mb-2"],[1,"mb-5"],["routerLink","/login","role","button",1,"btn","bsb-btn-5xl","btn-dark","rounded-pill","px-5","fs-6","m-0"]],template:function(i,o){i&1&&(j(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5)(6,"span",6),B(7,"4"),V(),Le(8,"i",7),j(9,"span",8),B(10,"4"),V()(),j(11,"h3",9),B(12,"Oops! You're lost."),V(),j(13,"p",10),B(14,"The page you are looking for was not found."),V(),j(15,"a",11),B(16,"Back to Home"),V()()()()()())},dependencies:[yr]});let t=e;return t})();var W0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-about"]],standalone:!0,features:[je],decls:47,vars:0,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["href",VE`https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css`,"rel","stylesheet"],[1,"container","mt-5"],[1,"row"],[1,"col-lg-12","text-center"],[1,"display-4"],[1,"lead"],[1,"row","mt-4"],[1,"col-md-6"],[1,"row","mt-5"],[1,"bg-light","py-3","mt-5"],[1,"container","text-center"]],template:function(i,o){i&1&&(j(0,"html",0)(1,"head"),Le(2,"meta",1)(3,"meta",2),j(4,"title"),B(5,"About Us - Code Snippets Repository"),V(),Le(6,"link",3),V(),j(7,"body")(8,"div",4)(9,"div",5)(10,"div",6)(11,"h1",7),B(12,"About Us"),V(),j(13,"p",8),B(14,"Welcome to Code Snippets Repository"),V()()(),j(15,"div",9)(16,"div",10)(17,"h3"),B(18,"Our Mission"),V(),j(19,"p"),B(20," Our mission is to provide a comprehensive repository for developers to store, share, and discover useful code snippets. We aim to build a community where developers can collaborate and learn from each other. "),V()(),j(21,"div",10)(22,"h3"),B(23,"Our Vision"),V(),j(24,"p"),B(25," We envision a world where developers have easy access to a vast array of code snippets, allowing them to accelerate their development process, improve code quality, and foster innovation. "),V()()(),j(26,"div",9)(27,"div",10)(28,"h3"),B(29,"Our Team"),V(),j(30,"p"),B(31," Our team is composed of passionate developers and tech enthusiasts who are dedicated to creating a valuable resource for the development community. We are constantly working on improving the platform and adding new features. "),V()(),j(32,"div",10)(33,"h3"),B(34,"Contact Us"),V(),j(35,"p"),B(36," If you have any questions, suggestions, or feedback, feel free to reach out to us. We'd love to hear from you and improve our platform based on your input. "),V()()(),j(37,"div",11)(38,"div",6)(39,"h2"),B(40,"Thank You for Visiting!"),V(),j(41,"p"),B(42,"We hope you find our repository helpful and look forward to your contributions."),V()()()(),j(43,"footer",12)(44,"div",13)(45,"p"),B(46,"\xA9 2024 Code Snippets Repository. All rights reserved."),V()()()()())}});let t=e;return t})();var K0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q0={};var Pr,ty;(function(){var t;function e(D,v){function _(){}_.prototype=v.prototype,D.D=v.prototype,D.prototype=new _,D.prototype.constructor=D,D.C=function(E,b,T){for(var w=Array(arguments.length-2),Dn=2;Dn<arguments.length;Dn++)w[Dn-2]=arguments[Dn];return v.prototype[b].apply(E,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,_){_||(_=0);var E=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)E[b]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(b=0;16>b;++b)E[b]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=D.g[0],_=D.g[1],b=D.g[2];var T=D.g[3],w=v+(T^_&(b^T))+E[0]+3614090360&4294967295;v=_+(w<<7&4294967295|w>>>25),w=T+(b^v&(_^b))+E[1]+3905402710&4294967295,T=v+(w<<12&4294967295|w>>>20),w=b+(_^T&(v^_))+E[2]+606105819&4294967295,b=T+(w<<17&4294967295|w>>>15),w=_+(v^b&(T^v))+E[3]+3250441966&4294967295,_=b+(w<<22&4294967295|w>>>10),w=v+(T^_&(b^T))+E[4]+4118548399&4294967295,v=_+(w<<7&4294967295|w>>>25),w=T+(b^v&(_^b))+E[5]+1200080426&4294967295,T=v+(w<<12&4294967295|w>>>20),w=b+(_^T&(v^_))+E[6]+2821735955&4294967295,b=T+(w<<17&4294967295|w>>>15),w=_+(v^b&(T^v))+E[7]+4249261313&4294967295,_=b+(w<<22&4294967295|w>>>10),w=v+(T^_&(b^T))+E[8]+1770035416&4294967295,v=_+(w<<7&4294967295|w>>>25),w=T+(b^v&(_^b))+E[9]+2336552879&4294967295,T=v+(w<<12&4294967295|w>>>20),w=b+(_^T&(v^_))+E[10]+4294925233&4294967295,b=T+(w<<17&4294967295|w>>>15),w=_+(v^b&(T^v))+E[11]+2304563134&4294967295,_=b+(w<<22&4294967295|w>>>10),w=v+(T^_&(b^T))+E[12]+1804603682&4294967295,v=_+(w<<7&4294967295|w>>>25),w=T+(b^v&(_^b))+E[13]+4254626195&4294967295,T=v+(w<<12&4294967295|w>>>20),w=b+(_^T&(v^_))+E[14]+2792965006&4294967295,b=T+(w<<17&4294967295|w>>>15),w=_+(v^b&(T^v))+E[15]+1236535329&4294967295,_=b+(w<<22&4294967295|w>>>10),w=v+(b^T&(_^b))+E[1]+4129170786&4294967295,v=_+(w<<5&4294967295|w>>>27),w=T+(_^b&(v^_))+E[6]+3225465664&4294967295,T=v+(w<<9&4294967295|w>>>23),w=b+(v^_&(T^v))+E[11]+643717713&4294967295,b=T+(w<<14&4294967295|w>>>18),w=_+(T^v&(b^T))+E[0]+3921069994&4294967295,_=b+(w<<20&4294967295|w>>>12),w=v+(b^T&(_^b))+E[5]+3593408605&4294967295,v=_+(w<<5&4294967295|w>>>27),w=T+(_^b&(v^_))+E[10]+38016083&4294967295,T=v+(w<<9&4294967295|w>>>23),w=b+(v^_&(T^v))+E[15]+3634488961&4294967295,b=T+(w<<14&4294967295|w>>>18),w=_+(T^v&(b^T))+E[4]+3889429448&4294967295,_=b+(w<<20&4294967295|w>>>12),w=v+(b^T&(_^b))+E[9]+568446438&4294967295,v=_+(w<<5&4294967295|w>>>27),w=T+(_^b&(v^_))+E[14]+3275163606&4294967295,T=v+(w<<9&4294967295|w>>>23),w=b+(v^_&(T^v))+E[3]+4107603335&4294967295,b=T+(w<<14&4294967295|w>>>18),w=_+(T^v&(b^T))+E[8]+1163531501&4294967295,_=b+(w<<20&4294967295|w>>>12),w=v+(b^T&(_^b))+E[13]+2850285829&4294967295,v=_+(w<<5&4294967295|w>>>27),w=T+(_^b&(v^_))+E[2]+4243563512&4294967295,T=v+(w<<9&4294967295|w>>>23),w=b+(v^_&(T^v))+E[7]+1735328473&4294967295,b=T+(w<<14&4294967295|w>>>18),w=_+(T^v&(b^T))+E[12]+2368359562&4294967295,_=b+(w<<20&4294967295|w>>>12),w=v+(_^b^T)+E[5]+4294588738&4294967295,v=_+(w<<4&4294967295|w>>>28),w=T+(v^_^b)+E[8]+2272392833&4294967295,T=v+(w<<11&4294967295|w>>>21),w=b+(T^v^_)+E[11]+1839030562&4294967295,b=T+(w<<16&4294967295|w>>>16),w=_+(b^T^v)+E[14]+4259657740&4294967295,_=b+(w<<23&4294967295|w>>>9),w=v+(_^b^T)+E[1]+2763975236&4294967295,v=_+(w<<4&4294967295|w>>>28),w=T+(v^_^b)+E[4]+1272893353&4294967295,T=v+(w<<11&4294967295|w>>>21),w=b+(T^v^_)+E[7]+4139469664&4294967295,b=T+(w<<16&4294967295|w>>>16),w=_+(b^T^v)+E[10]+3200236656&4294967295,_=b+(w<<23&4294967295|w>>>9),w=v+(_^b^T)+E[13]+681279174&4294967295,v=_+(w<<4&4294967295|w>>>28),w=T+(v^_^b)+E[0]+3936430074&4294967295,T=v+(w<<11&4294967295|w>>>21),w=b+(T^v^_)+E[3]+3572445317&4294967295,b=T+(w<<16&4294967295|w>>>16),w=_+(b^T^v)+E[6]+76029189&4294967295,_=b+(w<<23&4294967295|w>>>9),w=v+(_^b^T)+E[9]+3654602809&4294967295,v=_+(w<<4&4294967295|w>>>28),w=T+(v^_^b)+E[12]+3873151461&4294967295,T=v+(w<<11&4294967295|w>>>21),w=b+(T^v^_)+E[15]+530742520&4294967295,b=T+(w<<16&4294967295|w>>>16),w=_+(b^T^v)+E[2]+3299628645&4294967295,_=b+(w<<23&4294967295|w>>>9),w=v+(b^(_|~T))+E[0]+4096336452&4294967295,v=_+(w<<6&4294967295|w>>>26),w=T+(_^(v|~b))+E[7]+1126891415&4294967295,T=v+(w<<10&4294967295|w>>>22),w=b+(v^(T|~_))+E[14]+2878612391&4294967295,b=T+(w<<15&4294967295|w>>>17),w=_+(T^(b|~v))+E[5]+4237533241&4294967295,_=b+(w<<21&4294967295|w>>>11),w=v+(b^(_|~T))+E[12]+1700485571&4294967295,v=_+(w<<6&4294967295|w>>>26),w=T+(_^(v|~b))+E[3]+2399980690&4294967295,T=v+(w<<10&4294967295|w>>>22),w=b+(v^(T|~_))+E[10]+4293915773&4294967295,b=T+(w<<15&4294967295|w>>>17),w=_+(T^(b|~v))+E[1]+2240044497&4294967295,_=b+(w<<21&4294967295|w>>>11),w=v+(b^(_|~T))+E[8]+1873313359&4294967295,v=_+(w<<6&4294967295|w>>>26),w=T+(_^(v|~b))+E[15]+4264355552&4294967295,T=v+(w<<10&4294967295|w>>>22),w=b+(v^(T|~_))+E[6]+2734768916&4294967295,b=T+(w<<15&4294967295|w>>>17),w=_+(T^(b|~v))+E[13]+1309151649&4294967295,_=b+(w<<21&4294967295|w>>>11),w=v+(b^(_|~T))+E[4]+4149444226&4294967295,v=_+(w<<6&4294967295|w>>>26),w=T+(_^(v|~b))+E[11]+3174756917&4294967295,T=v+(w<<10&4294967295|w>>>22),w=b+(v^(T|~_))+E[2]+718787259&4294967295,b=T+(w<<15&4294967295|w>>>17),w=_+(T^(b|~v))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(b+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var _=v-this.blockSize,E=this.B,b=this.h,T=0;T<v;){if(b==0)for(;T<=_;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<v;)if(E[b++]=D.charCodeAt(T++),b==this.blockSize){i(this,E),b=0;break}}else for(;T<v;)if(E[b++]=D[T++],b==this.blockSize){i(this,E),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var _=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=_&255,_/=256;for(this.u(D),D=Array(16),v=_=0;4>v;++v)for(var E=0;32>E;E+=8)D[_++]=this.g[v]>>>E&255;return D};function o(D,v){var _=a;return Object.prototype.hasOwnProperty.call(_,D)?_[D]:_[D]=v(D)}function s(D,v){this.h=v;for(var _=[],E=!0,b=D.length-1;0<=b;b--){var T=D[b]|0;E&&T==v||(_[b]=T,E=!1)}this.g=_}var a={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return M(l(-D));for(var v=[],_=1,E=0;D>=_;E++)v[E]=D/_|0,_*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return M(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),E=p,b=0;b<D.length;b+=8){var T=Math.min(8,D.length-b),w=parseInt(D.substring(b,b+T),v);8>T?(T=l(Math.pow(v,T)),E=E.j(T).add(l(w))):(E=E.j(_),E=E.add(l(w)))}return E}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(R(this))return-M(this).m();for(var D=0,v=1,_=0;_<this.g.length;_++){var E=this.i(_);D+=(0<=E?E:4294967296+E)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(R(this))return"-"+M(this).toString(D);for(var v=l(Math.pow(D,6)),_=this,E="";;){var b=he(_,v).g;_=k(_,b.j(v));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(D);if(_=b,S(_))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function R(D){return D.h==-1}t.l=function(D){return D=k(this,D),R(D)?-1:S(D)?0:1};function M(D){for(var v=D.g.length,_=[],E=0;E<v;E++)_[E]=~D.g[E];return new s(_,~D.h).add(m)}t.abs=function(){return R(this)?M(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),_=[],E=0,b=0;b<=v;b++){var T=E+(this.i(b)&65535)+(D.i(b)&65535),w=(T>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);E=w>>>16,T&=65535,w&=65535,_[b]=w<<16|T}return new s(_,_[_.length-1]&-2147483648?-1:0)};function k(D,v){return D.add(M(v))}t.j=function(D){if(S(this)||S(D))return p;if(R(this))return R(D)?M(this).j(M(D)):M(M(this).j(D));if(R(D))return M(this.j(M(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,_=[],E=0;E<2*v;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var b=0;b<D.g.length;b++){var T=this.i(E)>>>16,w=this.i(E)&65535,Dn=D.i(b)>>>16,ls=D.i(b)&65535;_[2*E+2*b]+=w*ls,q(_,2*E+2*b),_[2*E+2*b+1]+=T*ls,q(_,2*E+2*b+1),_[2*E+2*b+1]+=w*Dn,q(_,2*E+2*b+1),_[2*E+2*b+2]+=T*Dn,q(_,2*E+2*b+2)}for(E=0;E<v;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=v;E<2*v;E++)_[E]=0;return new s(_,0)};function q(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function $(D,v){this.g=D,this.h=v}function he(D,v){if(S(v))throw Error("division by zero");if(S(D))return new $(p,p);if(R(D))return v=he(M(D),v),new $(M(v.g),M(v.h));if(R(v))return v=he(D,M(v)),new $(M(v.g),v.h);if(30<D.g.length){if(R(D)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=v;0>=E.l(D);)_=Se(_),E=Se(E);var b=re(_,1),T=re(E,1);for(E=re(E,2),_=re(_,2);!S(E);){var w=T.add(E);0>=w.l(D)&&(b=b.add(_),T=w),E=re(E,1),_=re(_,1)}return v=k(D,b.j(v)),new $(b,v)}for(b=p;0<=D.l(v);){for(_=Math.max(1,Math.floor(D.m()/v.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(_),w=T.j(v);R(w)||0<w.l(D);)_-=E,T=l(_),w=T.j(v);S(T)&&(T=m),b=b.add(T),D=k(D,w)}return new $(b,D)}t.A=function(D){return he(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)&D.i(E);return new s(_,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)|D.i(E);return new s(_,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)^D.i(E);return new s(_,this.h^D.h)};function Se(D){for(var v=D.g.length+1,_=[],E=0;E<v;E++)_[E]=D.i(E)<<1|D.i(E-1)>>>31;return new s(_,D.h)}function re(D,v){var _=v>>5;v%=32;for(var E=D.g.length-_,b=[],T=0;T<E;T++)b[T]=0<v?D.i(T+_)>>>v|D.i(T+_+1)<<32-v:D.i(T+_);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ty=Q0.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Pr=Q0.Integer=s}).apply(typeof K0<"u"?K0:typeof self<"u"?self:typeof window<"u"?window:{});var sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qn={};var ny,ry,Lo,iy,za,ad,oy,sy,ay;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sd=="object"&&sd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,A){for(var P=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)P[Ee-2]=arguments[Ee];return d.prototype[C].apply(g,P)}}function R(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function M(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,A=g.length||0;c.length=C+A;for(let P=0;P<A;P++)c[C+P]=g[P]}else c.push(g)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function q(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var Se=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function re(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Jd;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Dn{constructor(){this.h=this.g=null}add(d,f){let g=ls.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ls=new k(()=>new BS,c=>c.reset());class BS{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ds,hs=!1,Jd=new Dn,a_=()=>{let c=a.Promise.resolve(void 0);ds=()=>{c.then($S)}};var $S=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){T(f)}var d=ls;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}hs=!1};function Qn(){this.s=this.s,this.C=this.C}Qn.prototype.s=!1,Qn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Qn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var HS=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function fs(c,d){if(et.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Se){e:{try{he(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:qS[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&fs.aa.h.call(this)}}S(fs,et);var qS={2:"touch",3:"pen",4:"mouse"};fs.prototype.h=function(){fs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ps="closure_listenable_"+(1e6*Math.random()|0),zS=0;function GS(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++zS,this.da=this.fa=!1}function hc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fc(c){this.src=c,this.g={},this.h=0}fc.prototype.add=function(c,d,f,g,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var P=Xd(c,d,g,C);return-1<P?(d=c[P],f||(d.fa=!1)):(d=new GS(d,this.src,A,!!g,C),d.fa=f,c.push(d)),d};function Zd(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(hc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Xd(c,d,f,g){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var eh="closure_lm_"+(1e6*Math.random()|0),th={};function c_(c,d,f,g,C){if(g&&g.once)return l_(c,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)c_(c,d[A],f,g,C);return null}return f=oh(f),c&&c[ps]?c.K(d,f,l(g)?!!g.capture:!!g,C):u_(c,d,f,!1,g,C)}function u_(c,d,f,g,C,A){if(!d)throw Error("Invalid event type");var P=l(C)?!!C.capture:!!C,Ee=rh(c);if(Ee||(c[eh]=Ee=new fc(c)),f=Ee.add(d,f,g,P,A),f.proxy)return f;if(g=WS(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)HS||(C=P),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(h_(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function WS(){function c(f){return d.call(c.src,c.listener,f)}let d=KS;return c}function l_(c,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)l_(c,d[A],f,g,C);return null}return f=oh(f),c&&c[ps]?c.L(d,f,l(g)?!!g.capture:!!g,C):u_(c,d,f,!0,g,C)}function d_(c,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)d_(c,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=oh(f),c&&c[ps]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Xd(A,f,g,C),-1<f&&(hc(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=rh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Xd(d,f,g,C)),(f=-1<c?d[c]:null)&&nh(f))}function nh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ps])Zd(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(h_(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=rh(d))?(Zd(f,c),f.h==0&&(f.src=null,d[eh]=null)):hc(c)}}}function h_(c){return c in th?th[c]:th[c]="on"+c}function KS(c,d){if(c.da)c=!0;else{d=new fs(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&nh(c),c=f.call(g,d)}return c}function rh(c){return c=c[eh],c instanceof fc?c:null}var ih="__closure_events_fn_"+(1e9*Math.random()>>>0);function oh(c){return typeof c=="function"?c:(c[ih]||(c[ih]=function(d){return c.handleEvent(d)}),c[ih])}function tt(){Qn.call(this),this.i=new fc(this),this.M=this,this.F=null}S(tt,Qn),tt.prototype[ps]=!0,tt.prototype.removeEventListener=function(c,d,f,g){d_(this,c,d,f,g)};function dt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new et(d,c);else if(d instanceof et)d.target=d.target||c;else{var C=d;d=new et(g,c),E(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var P=d.g=f[A];C=pc(P,g,!0,d)&&C}if(P=d.g=c,C=pc(P,g,!0,d)&&C,C=pc(P,g,!1,d)&&C,f)for(A=0;A<f.length;A++)P=d.g=f[A],C=pc(P,g,!1,d)&&C}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)hc(f[g]);delete c.g[d],c.h--}}this.F=null},tt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},tt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function pc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var P=d[A];if(P&&!P.da&&P.capture==f){var Ee=P.listener,Ke=P.ha||P.src;P.fa&&Zd(c.i,P),C=Ee.call(Ke,g)!==!1&&C}}return C&&!g.defaultPrevented}function f_(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function p_(c){c.g=f_(()=>{c.g=null,c.i&&(c.i=!1,p_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class QS extends Qn{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:p_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(c){Qn.call(this),this.h=c,this.g={}}S(gs,Qn);var g_=[];function m_(c){re(c.g,function(d,f){this.g.hasOwnProperty(f)&&nh(d)},c),c.g={}}gs.prototype.N=function(){gs.aa.N.call(this),m_(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sh=a.JSON.stringify,YS=a.JSON.parse,JS=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ah(){}ah.prototype.h=null;function y_(c){return c.h||(c.h=c.i())}function v_(){}var ms={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ch(){et.call(this,"d")}S(ch,et);function uh(){et.call(this,"c")}S(uh,et);var Lr={},__=null;function gc(){return __=__||new tt}Lr.La="serverreachability";function w_(c){et.call(this,Lr.La,c)}S(w_,et);function ys(c){let d=gc();dt(d,new w_(d))}Lr.STAT_EVENT="statevent";function I_(c,d){et.call(this,Lr.STAT_EVENT,c),this.stat=d}S(I_,et);function ht(c){let d=gc();dt(d,new I_(d,c))}Lr.Ma="timingevent";function E_(c,d){et.call(this,Lr.Ma,c),this.size=d}S(E_,et);function vs(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function _s(){this.g=!0}_s.prototype.xa=function(){this.g=!1};function ZS(c,d,f,g,C,A){c.info(function(){if(c.g)if(A)for(var P="",Ee=A.split("&"),Ke=0;Ke<Ee.length;Ke++){var ye=Ee[Ke].split("=");if(1<ye.length){var nt=ye[0];ye=ye[1];var rt=nt.split("_");P=2<=rt.length&&rt[1]=="type"?P+(nt+"="+ye+"&"):P+(nt+"=redacted&")}}else P=null;else P=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+P})}function XS(c,d,f,g,C,A,P){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+P})}function xi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+tA(c,f)+(g?" "+g:"")})}function eA(c,d){c.info(function(){return"TIMEOUT: "+d})}_s.prototype.info=function(){};function tA(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var P=1;P<C.length;P++)C[P]=""}}}}return sh(f)}catch{return d}}var mc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},D_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lh;function yc(){}S(yc,ah),yc.prototype.g=function(){return new XMLHttpRequest},yc.prototype.i=function(){return{}},lh=new yc;function Yn(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new b_}function b_(){this.i=null,this.g="",this.h=!1}var C_={},dh={};function hh(c,d,f){c.L=1,c.v=Ic(bn(d)),c.m=f,c.P=!0,T_(c,null)}function T_(c,d){c.F=Date.now(),vc(c),c.A=bn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),U_(f.i,"t",g),c.C=0,f=c.j.J,c.h=new b_,c.g=iw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new QS(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(g_[0]=C.toString()),C=g_);for(var A=0;A<C.length;A++){var P=c_(f,C[A],g||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ys(),ZS(c.i,c.u,c.A,c.l,c.R,c.m)}Yn.prototype.ca=function(c){c=c.target;let d=this.M;d&&Cn(c)==3?d.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{let rt=Cn(this.g);var d=this.g.Ba();let Oi=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||W_(this.g)))){this.J||rt!=4||d==7||(d==8||0>=Oi?ys(3):ys(2)),fh(this);var f=this.g.Z();this.X=f;t:if(S_(this)){var g=W_(this.g);c="";var C=g.length,A=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jr(this),ws(this);var P="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=f==200,XS(this.i,this.u,this.A,this.l,this.R,rt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,Ke=this.g;if((Ee=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Ee)){var ye=Ee;break t}}ye=null}if(f=ye)xi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ph(this,f);else{this.o=!1,this.s=3,ht(12),jr(this),ws(this);break e}}if(this.P){f=!0;let Bt;for(;!this.J&&this.C<P.length;)if(Bt=nA(this,P),Bt==dh){rt==4&&(this.s=4,ht(14),f=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==C_){this.s=4,ht(15),xi(this.i,this.l,P,"[Invalid Chunk]"),f=!1;break}else xi(this.i,this.l,Bt,null),ph(this,Bt);if(S_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||P.length!=0||this.h.h||(this.s=1,ht(16),f=!1),this.o=this.o&&f,!f)xi(this.i,this.l,P,"[Invalid Chunked Response]"),jr(this),ws(this);else if(0<P.length&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.ba&&!nt.M&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),wh(nt),nt.M=!0,ht(11))}}else xi(this.i,this.l,P,null),ph(this,P);rt==4&&jr(this),this.o&&!this.J&&(rt==4?ew(this.j,this):(this.o=!1,vc(this)))}else _A(this.g),f==400&&0<P.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),jr(this),ws(this)}}}catch{}finally{}};function S_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function nA(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?dh:(f=Number(d.substring(f,g)),isNaN(f)?C_:(g+=1,g+f>d.length?dh:(d=d.slice(g,g+f),c.C=g+f,d)))}Yn.prototype.cancel=function(){this.J=!0,jr(this)};function vc(c){c.S=Date.now()+c.I,A_(c,c.I)}function A_(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vs(m(c.ba,c),d)}function fh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Yn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(eA(this.i,this.A),this.L!=2&&(ys(),ht(17)),jr(this),this.s=2,ws(this)):A_(this,this.S-c)};function ws(c){c.j.G==0||c.J||ew(c.j,c)}function jr(c){fh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,m_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function ph(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||gh(f.h,c))){if(!c.K&&gh(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Tc(f),bc(f);else break e;_h(f),ht(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=vs(m(f.Za,f),6e3));if(1>=x_(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Br(f,11)}else if((c.K||f.g==c)&&Tc(f),!q(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let ye=C[d];if(f.T=ye[0],ye=ye[1],f.G==2)if(ye[0]=="c"){f.K=ye[1],f.ia=ye[2];let nt=ye[3];nt!=null&&(f.la=nt,f.j.info("VER="+f.la));let rt=ye[4];rt!=null&&(f.Aa=rt,f.j.info("SVER="+f.Aa));let Oi=ye[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(g=1.5*Oi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Bt=c.g;if(Bt){let Ac=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ac){var A=g.h;A.g||Ac.indexOf("spdy")==-1&&Ac.indexOf("quic")==-1&&Ac.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(mh(A,A.h),A.h=null))}if(g.D){let Ih=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ih&&(g.ya=Ih,Ce(g.I,g.D,Ih))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var P=c;if(g.qa=rw(g,g.J?g.ia:null,g.W),P.K){N_(g.h,P);var Ee=P,Ke=g.L;Ke&&(Ee.I=Ke),Ee.B&&(fh(Ee),vc(Ee)),g.g=P}else Z_(g);0<f.i.length&&Cc(f)}else ye[0]!="stop"&&ye[0]!="close"||Br(f,7);else f.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Br(f,7):vh(f):ye[0]!="noop"&&f.l&&f.l.ta(ye),f.v=0)}}ys(4)}catch{}}var rA=class{constructor(c,d){this.g=c,this.map=d}};function M_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function R_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function x_(c){return c.h?1:c.g?c.g.size:0}function gh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function mh(c,d){c.g?c.g.add(d):c.h=d}function N_(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}M_.prototype.cancel=function(){if(this.i=P_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function P_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return R(c.i)}function iA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function oA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function O_(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=oA(c),g=iA(c),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],c)}var k_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sA(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var A=c[f].substring(0,g);C=c[f].substring(g+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Ur(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ur){this.h=c.h,_c(this,c.j),this.o=c.o,this.g=c.g,wc(this,c.s),this.l=c.l;var d=c.i,f=new Ds;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),F_(this,f),this.m=c.m}else c&&(d=String(c).match(k_))?(this.h=!1,_c(this,d[1]||"",!0),this.o=Is(d[2]||""),this.g=Is(d[3]||"",!0),wc(this,d[4]),this.l=Is(d[5]||"",!0),F_(this,d[6]||"",!0),this.m=Is(d[7]||"")):(this.h=!1,this.i=new Ds(null,this.h))}Ur.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Es(d,V_,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Es(d,V_,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Es(f,f.charAt(0)=="/"?uA:cA,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Es(f,dA)),c.join("")};function bn(c){return new Ur(c)}function _c(c,d,f){c.j=f?Is(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function wc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function F_(c,d,f){d instanceof Ds?(c.i=d,hA(c.i,c.h)):(f||(d=Es(d,lA)),c.i=new Ds(d,c.h))}function Ce(c,d,f){c.i.set(d,f)}function Ic(c){return Ce(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Is(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,aA),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function aA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var V_=/[#\/\?@]/g,cA=/[#\?:]/g,uA=/[#\?]/g,lA=/[#\?@]/g,dA=/#/g;function Ds(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Jn(c){c.g||(c.g=new Map,c.h=0,c.i&&sA(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ds.prototype,t.add=function(c,d){Jn(this),this.i=null,c=Ni(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function L_(c,d){Jn(c),d=Ni(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function j_(c,d){return Jn(c),d=Ni(c,d),c.g.has(d)}t.forEach=function(c,d){Jn(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){Jn(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},t.V=function(c){Jn(this);let d=[];if(typeof c=="string")j_(this,c)&&(d=d.concat(this.g.get(Ni(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Jn(this),this.i=null,c=Ni(this,c),j_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function U_(c,d,f){L_(c,d),0<f.length&&(c.i=null,c.g.set(Ni(c,d),R(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),P=this.V(g);for(g=0;g<P.length;g++){var C=A;P[g]!==""&&(C+="="+encodeURIComponent(String(P[g]))),c.push(C)}}return this.i=c.join("&")};function Ni(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function hA(c,d){d&&!c.j&&(Jn(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(L_(this,g),U_(this,C,f))},c)),c.j=d}function fA(c,d){let f=new _s;if(a.Image){let g=new Image;g.onload=y(Zn,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Zn,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Zn,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Zn,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function pA(c,d){let f=new _s,g=new AbortController,C=setTimeout(()=>{g.abort(),Zn(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?Zn(f,"TestPingServer: ok",!0,d):Zn(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Zn(f,"TestPingServer: error",!1,d)})}function Zn(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function gA(){this.g=new JS}function mA(c,d,f){let g=f||"";try{O_(c,function(C,A){let P=C;l(C)&&(P=sh(C)),d.push(g+A+"="+encodeURIComponent(P))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function bs(c){this.l=c.Ub||null,this.j=c.eb||!1}S(bs,ah),bs.prototype.g=function(){return new Ec(this.l,this.j)},bs.prototype.i=function(c){return function(){return c}}({});function Ec(c,d){tt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ec,tt),t=Ec.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ts(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ts(this)),this.g&&(this.readyState=3,Ts(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;B_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function B_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Cs(this):Ts(this),this.readyState==3&&B_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Cs(this))},t.Qa=function(c){this.g&&(this.response=c,Cs(this))},t.ga=function(){this.g&&Cs(this)};function Cs(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ts(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ts(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ec.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $_(c){let d="";return re(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function yh(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=$_(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ce(c,d,f))}function Ae(c){tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ae,tt);var yA=/^https?$/i,vA=["POST","PUT"];t=Ae.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lh.g(),this.v=this.o?y_(this.o):y_(lh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){H_(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(vA,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,P]of f)this.g.setRequestHeader(A,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{G_(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){H_(this,A)}};function H_(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,q_(c),Dc(c)}function q_(c){c.A||(c.A=!0,dt(c,"complete"),dt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,dt(this,"complete"),dt(this,"abort"),Dc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dc(this,!0)),Ae.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?z_(this):this.bb())},t.bb=function(){z_(this)};function z_(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)f_(c.Ea,0,c);else if(dt(c,"readystatechange"),Cn(c)==4){c.h=!1;try{let P=c.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=P===0){var C=String(c.D).match(k_)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!yA.test(C?C.toLowerCase():"")}f=g}if(f)dt(c,"complete"),dt(c,"success");else{c.m=6;try{var A=2<Cn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",q_(c)}}finally{Dc(c)}}}}function Dc(c,d){if(c.g){G_(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||dt(c,"ready");try{f.onreadystatechange=g}catch{}}}function G_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),YS(d)}};function W_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _A(c){let d={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(q(c[g]))continue;var f=b(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function K_(c){this.Aa=0,this.i=[],this.j=new _s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,c),this.cb=Ss("retryDelaySeedMs",1e4,c),this.Wa=Ss("forwardChannelMaxRetries",2,c),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new M_(c&&c.concurrentRequestLimit),this.Da=new gA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=K_.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){ht(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=rw(this,null,this.W),Cc(this)};function vh(c){if(Q_(c),c.G==3){var d=c.U++,f=bn(c.I);if(Ce(f,"SID",c.K),Ce(f,"RID",d),Ce(f,"TYPE","terminate"),As(c,f),d=new Yn(c,c.j,d),d.L=2,d.v=Ic(bn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=iw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),vc(d)}nw(c)}function bc(c){c.g&&(wh(c),c.g.cancel(),c.g=null)}function Q_(c){bc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Tc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Cc(c){if(!R_(c.h)&&!c.s){c.s=!0;var d=c.Ga;ds||a_(),hs||(ds(),hs=!0),Jd.add(d,c),c.B=0}}function wA(c,d){return x_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vs(m(c.Ga,c,d),tw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Yn(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=J_(this,C,d),f=bn(this.I),Ce(f,"RID",c),Ce(f,"CVER",22),this.D&&Ce(f,"X-HTTP-Session-Id",this.D),As(this,f),A&&(this.O?d="headers="+encodeURIComponent(String($_(A)))+"&"+d:this.m&&yh(f,this.m,A)),mh(this.h,C),this.Ua&&Ce(f,"TYPE","init"),this.P?(Ce(f,"$req",d),Ce(f,"SID","null"),C.T=!0,hh(C,f,null)):hh(C,f,d),this.G=2}}else this.G==3&&(c?Y_(this,c):this.i.length==0||R_(this.h)||Y_(this))};function Y_(c,d){var f;d?f=d.l:f=c.U++;let g=bn(c.I);Ce(g,"SID",c.K),Ce(g,"RID",f),Ce(g,"AID",c.T),As(c,g),c.m&&c.o&&yh(g,c.m,c.o),f=new Yn(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=J_(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),mh(c.h,f),hh(f,g,d)}function As(c,d){c.H&&re(c.H,function(f,g){Ce(d,g,f)}),c.l&&O_({},function(f,g){Ce(d,g,f)})}function J_(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let P=["count="+f];A==-1?0<f?(A=C[0].g,P.push("ofs="+A)):A=0:P.push("ofs="+A);let Ee=!0;for(let Ke=0;Ke<f;Ke++){let ye=C[Ke].g,nt=C[Ke].map;if(ye-=A,0>ye)A=Math.max(0,C[Ke].g-100),Ee=!1;else try{mA(nt,P,"req"+ye+"_")}catch{g&&g(nt)}}if(Ee){g=P.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function Z_(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ds||a_(),hs||(ds(),hs=!0),Jd.add(d,c),c.v=0}}function _h(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vs(m(c.Fa,c),tw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,X_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vs(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),bc(this),X_(this))};function wh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function X_(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=bn(c.qa);Ce(d,"RID","rpc"),Ce(d,"SID",c.K),Ce(d,"AID",c.T),Ce(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ce(d,"TO",c.ja),Ce(d,"TYPE","xmlhttp"),As(c,d),c.m&&c.o&&yh(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Ic(bn(d)),f.m=null,f.P=!0,T_(f,c)}t.Za=function(){this.C!=null&&(this.C=null,bc(this),_h(this),ht(19))};function Tc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function ew(c,d){var f=null;if(c.g==d){Tc(c),wh(c),c.g=null;var g=2}else if(gh(c.h,d))f=d.D,N_(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=gc(),dt(g,new E_(g,f)),Cc(c)}else Z_(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&wA(c,d)||g==2&&_h(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Br(c,5);break;case 4:Br(c,10);break;case 3:Br(c,6);break;default:Br(c,2)}}}function tw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Br(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new Ur(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||_c(g,"https"),Ic(g),C?fA(g.toString(),f):pA(g.toString(),f)}else ht(2);c.G=0,c.l&&c.l.sa(d),nw(c),Q_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function nw(c){if(c.G=0,c.ka=[],c.l){let d=P_(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function rw(c,d,f){var g=f instanceof Ur?bn(f):new Ur(f);if(g.g!="")d&&(g.g=d+"."+g.g),wc(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new Ur(null);g&&_c(A,g),d&&(A.g=d),C&&wc(A,C),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Ce(g,f,d),Ce(g,"VER",c.la),As(c,g),g}function iw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ae(new bs({eb:f})):new Ae(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ow(){}t=ow.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sc(){}Sc.prototype.g=function(c,d){return new It(c,d)};function It(c,d){tt.call(this),this.g=new K_(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!q(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!q(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Pi(this)}S(It,tt),It.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){vh(this.g)},It.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=sh(c),c=f);d.i.push(new rA(d.Ya++,c)),d.G==3&&Cc(d)},It.prototype.N=function(){this.g.l=null,delete this.j,vh(this.g),delete this.g,It.aa.N.call(this)};function sw(c){ch.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(sw,ch);function aw(){uh.call(this),this.status=1}S(aw,uh);function Pi(c){this.g=c}S(Pi,ow),Pi.prototype.ua=function(){dt(this.g,"a")},Pi.prototype.ta=function(c){dt(this.g,new sw(c))},Pi.prototype.sa=function(c){dt(this.g,new aw)},Pi.prototype.ra=function(){dt(this.g,"b")},Sc.prototype.createWebChannel=Sc.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,ay=qn.createWebChannelTransport=function(){return new Sc},sy=qn.getStatEventTarget=function(){return gc()},oy=qn.Event=Lr,ad=qn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mc.NO_ERROR=0,mc.TIMEOUT=8,mc.HTTP_ERROR=6,za=qn.ErrorCode=mc,D_.COMPLETE="complete",iy=qn.EventType=D_,v_.EventType=ms,ms.OPEN="a",ms.CLOSE="b",ms.ERROR="c",ms.MESSAGE="d",tt.prototype.listen=tt.prototype.K,Lo=qn.WebChannel=v_,ry=qn.FetchXmlHttpFactory=bs,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha,ny=qn.XhrIo=Ae}).apply(typeof sd<"u"?sd:typeof self<"u"?self:typeof window<"u"?window:{});var Y0="@firebase/firestore";var We=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");var ss="10.12.3";var bi=new Cr("@firebase/firestore");function Ga(){return bi.logLevel}function L(t,...e){if(bi.logLevel<=le.DEBUG){let n=e.map(Bv);bi.debug(`Firestore (${ss}): ${t}`,...n)}}function zn(t,...e){if(bi.logLevel<=le.ERROR){let n=e.map(Bv);bi.error(`Firestore (${ss}): ${t}`,...n)}}function zo(t,...e){if(bi.logLevel<=le.WARN){let n=e.map(Bv);bi.warn(`Firestore (${ss}): ${t}`,...n)}}function Bv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Q(t="Unexpected state"){let e=`FIRESTORE (${ss}) INTERNAL ASSERTION FAILED: `+t;throw zn(e),new Error(e)}function be(t,e){t||Q()}function te(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends St{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var tn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var hd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},hy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(We.UNAUTHENTICATED))}shutdown(){}},fy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},py=class{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new tn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new tn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>I(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new tn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new hd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new We(e)}},gy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},my=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new gy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}},yy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},vy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new yy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function hj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var fd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=hj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function _e(t,e){return t<e?-1:t>e?1:0}function Go(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Xe=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Xe(0,0))}static max(){return new t(new Xe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var pd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},xe=class t extends pd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},fj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,At=class t extends pd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return fj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new U(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new U(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var G=class t{constructor(e){this.path=e}static fromPath(e){return new t(xe.fromString(e))}static fromName(e){return new t(xe.fromString(e).popFirst(5))}static empty(){return new t(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new xe(e.slice()))}};var _y=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};_y.UNKNOWN_ID=-1;function pj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new Ci(i,G.empty(),e)}function gj(t){return new Ci(t.readTime,t.key,-1)}var Ci=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),G.empty(),-1)}static max(){return new t(ne.max(),G.empty(),-1)}};function mj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}var yj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function cc(t){return I(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==yj)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var N=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function vj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uc(t){return t.name==="IndexedDbTransactionError"}var bT=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function zd(t){return t==null}function Za(t){return t===0&&1/t==-1/0}function _j(t){return typeof t=="number"&&Number.isInteger(t)&&!Za(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var wj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],h6=[...wj,"documentOverlays"],Ij=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ej=Ij,f6=[...Ej,"indexConfiguration","indexState","indexEntries"];function J0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function as(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ne=class t{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $o(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $o(this.root,e,this.comparator,!1)}getReverseIterator(){return new $o(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $o(this.root,e,this.comparator,!0)}},$o=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},vn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();let e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}};vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,o){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var lt=class t{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gd(this.data.getIterator())}getIteratorFrom(e){return new gd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},gd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var yn=class t{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new t([])}unionWith(e){let n=new lt(At.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Go(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var md=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var yt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new md("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yt.EMPTY_BYTE_STRING=new yt("");var Dj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gn(t){if(be(!!t),typeof t=="string"){let e=0,n=Dj.exec(t);if(be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(t.seconds),nanos:Re(t.nanos)}}function Re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function kr(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}function $v(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hv(t){let e=t.mapValue.fields.__previous_value__;return $v(e)?Hv(e):e}function Xa(t){let e=Gn(t.mapValue.fields.__local_write_time__.timestampValue);return new Xe(e.seconds,e.nanos)}var Iy=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},yd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var cd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$v(t)?4:TT(t)?9007199254740991:10:Q()}function In(t,e){if(t===e)return!0;let n=Ti(t);if(n!==Ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xa(t).isEqual(Xa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Gn(i.timestampValue),a=Gn(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return kr(i.bytesValue).isEqual(kr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Re(i.geoPointValue.latitude)===Re(o.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Re(i.integerValue)===Re(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Re(i.doubleValue),a=Re(o.doubleValue);return s===a?Za(s)===Za(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Go(t.arrayValue.values||[],e.arrayValue.values||[],In);case 10:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(J0(s)!==J0(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!In(s[u],a[u])))return!1;return!0}(t,e);default:return Q()}}function ec(t,e){return(t.values||[]).find(n=>In(n,e))!==void 0}function Wo(t,e){if(t===e)return 0;let n=Ti(t),r=Ti(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Re(o.integerValue||o.doubleValue),u=Re(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Z0(t.timestampValue,e.timestampValue);case 4:return Z0(Xa(t),Xa(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(o,s){let a=kr(o),u=kr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=_e(a[l],u[l]);if(h!==0)return h}return _e(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=_e(Re(o.latitude),Re(s.latitude));return a!==0?a:_e(Re(o.longitude),Re(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],u=s.values||[];for(let l=0;l<a.length&&l<u.length;++l){let h=Wo(a[l],u[l]);if(h)return h}return _e(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===cd.mapValue&&s===cd.mapValue)return 0;if(o===cd.mapValue)return 1;if(s===cd.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=_e(u[p],h[p]);if(m!==0)return m;let y=Wo(a[u[p]],l[h[p]]);if(y!==0)return y}return _e(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Q()}}function Z0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);let n=Gn(t),r=Gn(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function Ko(t){return Ey(t)}function Ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Gn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return kr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Ey(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Ey(n.fields[s])}`;return i+"}"}(t.mapValue):Q()}function Dy(t){return!!t&&"integerValue"in t}function qv(t){return!!t&&"arrayValue"in t}function X0(t){return!!t&&"nullValue"in t}function eT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ld(t){return!!t&&"mapValue"in t}function Ka(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return as(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ka(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ka(t.arrayValue.values[n]);return e}return Object.assign({},t)}function TT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var en=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ld(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ka(n)}setAll(e){let n=At.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ka(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());ld(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return In(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ld(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){as(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Ka(this.value))}};function ST(t){let e=[];return as(t.fields,(n,r)=>{let i=new At([n]);if(ld(r)){let o=ST(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new yn(e)}var nn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),en.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),en.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),en.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Qo=class{constructor(e,n){this.position=e,this.inclusive=n}};function tT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(s.referenceValue),n.key):r=Wo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function nT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!In(t.position[n],e.position[n]))return!1;return!0}var Yo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function bj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var vd=class{},qe=class t extends vd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Cy(e,n,r):n==="array-contains"?new Ay(e,r):n==="in"?new My(e,r):n==="not-in"?new Ry(e,r):n==="array-contains-any"?new xy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ty(e,r):new Sy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wo(n,this.value)):n!==null&&Ti(this.value)===Ti(n)&&this.matchesComparison(Wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},En=class t extends vd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return AT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function AT(t){return t.op==="and"}function MT(t){return Cj(t)&&AT(t)}function Cj(t){for(let e of t.filters)if(e instanceof En)return!1;return!0}function by(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+Ko(t.value);if(MT(t))return t.filters.map(e=>by(e)).join(",");{let e=t.filters.map(n=>by(n)).join(",");return`${t.op}(${e})`}}function RT(t,e){return t instanceof qe?function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&In(r.value,i.value)}(t,e):t instanceof En?function(r,i){return i instanceof En&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&RT(s,i.filters[a]),!0):!1}(t,e):void Q()}function xT(t){return t instanceof qe?function(n){return`${n.field.canonicalString()} ${n.op} ${Ko(n.value)}`}(t):t instanceof En?function(n){return n.op.toString()+" {"+n.getFilters().map(xT).join(" ,")+"}"}(t):"Filter"}var Cy=class extends qe{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){let n=G.comparator(e.key,this.key);return this.matchesComparison(n)}},Ty=class extends qe{constructor(e,n){super(e,"in",n),this.keys=NT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Sy=class extends qe{constructor(e,n){super(e,"not-in",n),this.keys=NT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function NT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}var Ay=class extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return qv(n)&&ec(n.arrayValue,this.value)}},My=class extends qe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ec(this.value.arrayValue,n)}},Ry=class extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ec(this.value.arrayValue,n)}},xy=class extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!qv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ec(this.value.arrayValue,r))}};var Ny=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function rT(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Ny(t,e,n,r,i,o,s)}function zv(t){let e=te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>by(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),zd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ko(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ko(r)).join(",")),e.ue=n}return e.ue}function Gv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nT(t.startAt,e.startAt)&&nT(t.endAt,e.endAt)}function Py(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Jo=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Tj(t,e,n,r,i,o,s,a){return new Jo(t,e,n,r,i,o,s,a)}function Wv(t){return new Jo(t)}function iT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Sj(t){return t.collectionGroup!==null}function Qa(t){let e=te(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new lt(At.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Yo(o,r))}),n.has(At.keyField().canonicalString())||e.ce.push(new Yo(At.keyField(),r))}return e.ce}function _n(t){let e=te(t);return e.le||(e.le=Aj(e,Qa(t))),e.le}function Aj(t,e){if(t.limitType==="F")return rT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Yo(i.field,o)});let n=t.endAt?new Qo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qo(t.startAt.position,t.startAt.inclusive):null;return rT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Oy(t,e,n){return new Jo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gd(t,e){return Gv(_n(t),_n(e))&&t.limitType===e.limitType}function PT(t){return`${zv(_n(t))}|lt:${t.limitType}`}function jo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xT(i)).join(", ")}]`),zd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ko(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ko(i)).join(",")),`Target(${r})`}(_n(t))}; limitType=${t.limitType})`}function Wd(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Qa(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=tT(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Qa(r),i)||r.endAt&&!function(s,a,u){let l=tT(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Qa(r),i))}(t,e)}function Mj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OT(t){return(e,n)=>{let r=!1;for(let i of Qa(t)){let o=Rj(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Rj(t,e,n){let r=t.field.isKeyField()?G.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Wo(u,l):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}var Fr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return CT(this.inner)}size(){return this.innerSize}};var xj=new Ne(G.comparator);function Wn(){return xj}var kT=new Ne(G.comparator);function Wa(...t){let e=kT;for(let n of t)e=e.insert(n.key,n);return e}function FT(t){let e=kT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wi(){return Ya()}function VT(){return Ya()}function Ya(){return new Fr(t=>t.toString(),(t,e)=>t.isEqual(e))}var Nj=new Ne(G.comparator),Pj=new lt(G.comparator);function de(...t){let e=Pj;for(let n of t)e=e.add(n);return e}var Oj=new lt(_e);function kj(){return Oj}function LT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Za(e)?"-0":e}}function jT(t){return{integerValue:""+t}}function Fj(t,e){return _j(e)?jT(e):LT(t,e)}var Zo=class{constructor(){this._=void 0}};function Vj(t,e,n){return t instanceof Xo?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&$v(o)&&(o=Hv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Si?BT(t,e):t instanceof Ai?$T(t,e):function(i,o){let s=UT(i,o),a=oT(s)+oT(i.Pe);return Dy(s)&&Dy(i.Pe)?jT(a):LT(i.serializer,a)}(t,e)}function Lj(t,e,n){return t instanceof Si?BT(t,e):t instanceof Ai?$T(t,e):n}function UT(t,e){return t instanceof es?function(r){return Dy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Xo=class extends Zo{},Si=class extends Zo{constructor(e){super(),this.elements=e}};function BT(t,e){let n=HT(e);for(let r of t.elements)n.some(i=>In(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ai=class extends Zo{constructor(e){super(),this.elements=e}};function $T(t,e){let n=HT(e);for(let r of t.elements)n=n.filter(i=>!In(i,r));return{arrayValue:{values:n}}}var es=class extends Zo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function oT(t){return Re(t.integerValue||t.doubleValue)}function HT(t){return qv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function jj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Si&&i instanceof Si||r instanceof Ai&&i instanceof Ai?Go(r.elements,i.elements,In):r instanceof es&&i instanceof es?In(r.Pe,i.Pe):r instanceof Xo&&i instanceof Xo}(t.transform,e.transform)}var ky=class{constructor(e,n){this.version=e,this.transformResults=n}},Di=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function dd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ts=class{};function qT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _d(t.key,Di.none()):new Mi(t.key,t.data,Di.none());{let n=t.data,r=en.empty(),i=new lt(At.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Kn(t.key,r,new yn(i.toArray()),Di.none())}}function Uj(t,e,n){t instanceof Mi?function(i,o,s){let a=i.value.clone(),u=aT(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Kn?function(i,o,s){if(!dd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=aT(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(zT(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ja(t,e,n,r){return t instanceof Mi?function(o,s,a,u){if(!dd(o.precondition,s))return a;let l=o.value.clone(),h=cT(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Kn?function(o,s,a,u){if(!dd(o.precondition,s))return a;let l=cT(o.fieldTransforms,u,s),h=s.data;return h.setAll(zT(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return dd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Bj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=UT(r.transform,i||null);o!=null&&(n===null&&(n=en.empty()),n.set(r.field,o))}return n||null}function sT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Go(r,i,(o,s)=>jj(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Mi=class extends ts{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Kn=class extends ts{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function zT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function aT(t,e,n){let r=new Map;be(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Lj(s,a,n[i]))}return r}function cT(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,Vj(o,s,e))}return r}var _d=class extends ts{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Fy=class extends ts{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Vy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Uj(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ja(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ja(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=VT();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=qT(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&Go(this.mutations,e.mutations,(n,r)=>sT(n,r))&&Go(this.baseMutations,e.baseMutations,(n,r)=>sT(n,r))}},Ly=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){be(e.mutations.length===r.length);let i=function(){return Nj}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var jy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Uy=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ue,me;function $j(t){switch(t){default:return Q();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function GT(t){if(t===void 0)return zn("GRPC error has no .code"),x.UNKNOWN;switch(t){case Ue.OK:return x.OK;case Ue.CANCELLED:return x.CANCELLED;case Ue.UNKNOWN:return x.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return x.INTERNAL;case Ue.UNAVAILABLE:return x.UNAVAILABLE;case Ue.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Ue.NOT_FOUND:return x.NOT_FOUND;case Ue.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Ue.ABORTED:return x.ABORTED;case Ue.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Ue.DATA_LOSS:return x.DATA_LOSS;default:return Q()}}(me=Ue||(Ue={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var uT=null;function Hj(){return new TextEncoder}var qj=new Pr([4294967295,4294967295],0);function lT(t){let e=Hj().encode(t),n=new ty;return n.update(e),new Uint8Array(n.digest())}function dT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Pr([n,r],0),new Pr([i,o],0)]}var By=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ii(`Invalid padding: ${n}`);if(r<0)throw new Ii(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ii(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ii(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Pr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Pr.fromNumber(r)));return i.compare(qj)===1&&(i=new Pr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=lT(e),[r,i]=dT(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=lT(e),[r,i]=dT(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ii=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var wd=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,tc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new Ne(_e),Wn(),de())}},tc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,de(),de(),de())}};var Ho=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Id=class{constructor(e,n){this.targetId=e,this.me=n}},Ed=class{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Dd=class{constructor(){this.fe=0,this.ge=fT(),this.pe=yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=de(),n=de(),r=de();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new tc(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=fT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},$y=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Wn(),this.qe=hT(),this.Qe=new Ne(_e)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(Py(o))if(r===0){let s=new G(o.path);this.Ue(n,s,nn.newNoDocument(s,ne.min()))}else be(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}uT?.et(function(h,p,m,y,S){var R,M,k,q,$,he;let Se={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},re=p.unchangedNames;return re&&(Se.bloomFilter={applied:S===0,hashCount:(R=re?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(q=(k=(M=re?.bits)===null||M===void 0?void 0:M.bitmap)===null||k===void 0?void 0:k.length)!==null&&q!==void 0?q:0,padding:(he=($=re?.bits)===null||$===void 0?void 0:$.padding)!==null&&he!==void 0?he:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),Se}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=kr(r).toUint8Array()}catch(u){if(u instanceof md)return zo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new By(s,i,o)}catch(u){return zo(u instanceof Ii?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Py(a.target)){let u=new G(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,nn.newNoDocument(u,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=de();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new wd(e,n,this.Qe,this.ke,r);return this.ke=Wn(),this.qe=hT(),this.Qe=new Ne(_e),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Dd,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new lt(_e),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Dd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function hT(){return new Ne(G.comparator)}function fT(){return new Ne(G.comparator)}var zj={asc:"ASCENDING",desc:"DESCENDING"},Gj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wj={and:"AND",or:"OR"},Hy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function qy(t,e){return t.useProto3Json||zd(e)?e:{value:e}}function bd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Kj(t,e){return bd(t,e.toTimestamp())}function wn(t){return be(!!t),ne.fromTimestamp(function(n){let r=Gn(n);return new Xe(r.seconds,r.nanos)}(t))}function Kv(t,e){return zy(t,e).canonicalString()}function zy(t,e){let n=function(i){return new xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function KT(t){let e=xe.fromString(t);return be(XT(e)),e}function Gy(t,e){return Kv(t.databaseId,e.path)}function cy(t,e){let n=KT(e);if(n.get(1)!==t.databaseId.projectId)throw new U(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(YT(n))}function QT(t,e){return Kv(t.databaseId,e)}function Qj(t){let e=KT(t);return e.length===4?xe.emptyPath():YT(e)}function Wy(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YT(t){return be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function pT(t,e,n){return{name:Gy(t,e),fields:n.value.mapValue.fields}}function Yj(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(be(h===void 0||typeof h=="string"),yt.fromBase64String(h||"")):(be(h===void 0||h instanceof Buffer||h instanceof Uint8Array),yt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?x.UNKNOWN:GT(l.code);return new U(h,l.message||"")}(s);n=new Ed(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=cy(t,r.document.name),o=wn(r.document.updateTime),s=r.document.createTime?wn(r.document.createTime):ne.min(),a=new en({mapValue:{fields:r.document.fields}}),u=nn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Ho(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=cy(t,r.document),o=r.readTime?wn(r.readTime):ne.min(),s=nn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ho([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=cy(t,r.document),o=r.removedTargetIds||[];n=new Ho([],o,i,null)}else{if(!("filter"in e))return Q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Uy(i,o),a=r.targetId;n=new Id(a,s)}}return n}function Jj(t,e){let n;if(e instanceof Mi)n={update:pT(t,e.key,e.value)};else if(e instanceof _d)n={delete:Gy(t,e.key)};else if(e instanceof Kn)n={update:pT(t,e.key,e.data),updateMask:s2(e.fieldMask)};else{if(!(e instanceof Fy))return Q();n={verify:Gy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Xo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Si)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ai)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof es)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Kj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q()}(t,e.precondition)),n}function Zj(t,e){return t&&t.length>0?(be(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?wn(i.updateTime):wn(o);return s.isEqual(ne.min())&&(s=wn(o)),new ky(s,i.transformResults||[])}(n,e))):[]}function Xj(t,e){return{documents:[QT(t,e.path)]}}function e2(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QT(t,i);let o=function(l){if(l.length!==0)return ZT(En.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Uo(m.field),direction:r2(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=qy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function t2(t){let e=Qj(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){be(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=JT(p);return m instanceof En&&MT(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(S){return new Yo(Bo(S.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,zd(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new Qo(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new Qo(y,m)}(n.endAt)),Tj(e,i,s,o,a,"F",u,l)}function n2(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Bo(n.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Bo(n.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Bo(n.unaryFilter.field);return qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Bo(n.unaryFilter.field);return qe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return qe.create(Bo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return En.create(n.compositeFilter.filters.map(r=>JT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function r2(t){return zj[t]}function i2(t){return Gj[t]}function o2(t){return Wj[t]}function Uo(t){return{fieldPath:t.canonicalString()}}function Bo(t){return At.fromServerFormat(t.fieldPath)}function ZT(t){return t instanceof qe?function(n){if(n.op==="=="){if(eT(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NAN"}};if(X0(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eT(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NAN"}};if(X0(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(n.field),op:i2(n.op),value:n.value}}}(t):t instanceof En?function(n){let r=n.getFilters().map(i=>ZT(i));return r.length===1?r[0]:{compositeFilter:{op:o2(n.op),filters:r}}}(t):Q()}function s2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var nc=class t{constructor(e,n,r,i,o=ne.min(),s=ne.min(),a=yt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Ky=class{constructor(e){this.ct=e}};function a2(t){let e=t2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Oy(e,e.limit,"L"):e}var Cd=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Re(e.integerValue));else if("doubleValue"in e){let r=Re(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Za(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=Gn(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(kr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?TT(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Q()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),G.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Cd.bt=new Cd;var Qy=class{constructor(){this._n=new Yy}addToCollectionParentIndex(e,n){return this._n.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(Ci.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(Ci.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}},Yy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(xe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(xe.comparator)).toArray()}};var g6=new Uint8Array(0);var mn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(41943040,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);var rc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var Jy=class{constructor(){this.changes=new Fr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Zy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Xy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ja(r.mutation,i,yn.empty(),Xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){let i=wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Wa();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Wn(),s=Ya(),a=function(){return Ya()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Kn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Ja(h.mutation,l,h.mutation.getFieldMask(),Xe.now())):s.set(l.key,yn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Zy(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Ya(),i=new Ne((s,a)=>s-a),o=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||yn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||de()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=VT();h.forEach(m=>{if(!o.has(m)){let y=qT(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return N.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Sj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):N.resolve(wi()),a=-1,u=o;return s.next(l=>N.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?N.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,de())).next(h=>({batchId:a,changes:FT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=Wa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Wa();return this.indexManager.getCollectionParents(e,o).next(a=>N.forEach(a,u=>{let l=function(p,m){return new Jo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,nn.newInvalidDocument(h)))});let a=Wa();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Ja(h.mutation,l,yn.empty(),Xe.now()),Wd(n,l)&&(a=a.insert(u,l))}),a})}};var ev=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return N.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:wn(i.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:a2(i.bundledQuery),readTime:wn(i.readTime)}}(n)),N.resolve()}};var tv=class{constructor(){this.overlays=new Ne(G.comparator),this.hr=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){let r=wi();return N.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),N.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){let i=wi(),o=n.length+1,s=new G(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ne((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=wi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=wi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return N.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new jy(n,r));let o=this.hr.get(n);o===void 0&&(o=de(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}};var ic=class{constructor(){this.Pr=new lt(Be.Ir),this.Tr=new lt(Be.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Be(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Be(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new G(new xe([])),r=new Be(n,e),i=new Be(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new G(new xe([])),r=new Be(n,e),i=new Be(n,e+1),o=de();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Be(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Be=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return G.comparator(e.key,n.key)||_e(e.pr,n.pr)}static Er(e,n){return _e(e.pr,n.pr)||G.comparator(e.key,n.key)}};var nv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new lt(Be.Ir)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Vy(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.wr=this.wr.add(new Be(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return N.resolve(s)}lookupMutationBatch(e,n){return N.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),o=i<0?0:i;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Be(n,0),i=new Be(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{let a=this.Sr(s.pr);o.push(a)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(_e);return n.forEach(i=>{let o=new Be(i,0),s=new Be(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),N.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;G.isDocumentKey(o)||(o=o.child(""));let s=new Be(new G(o),0),a=new lt(_e);return this.wr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},s),N.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){be(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return N.forEach(n.mutations,i=>{let o=new Be(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Be(n,0),i=this.wr.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var rv=class{constructor(e){this.vr=e,this.docs=function(){return new Ne(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=Wn();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():nn.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Wn(),s=n.path,a=new G(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||mj(gj(h),r)<=0||(i.has(h.key)||Wd(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Q()}Fr(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new iv(this)}getSize(e){return N.resolve(this.size)}},iv=class extends Jy{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var ov=class{constructor(e){this.persistence=e,this.Mr=new Fr(n=>zv(n),Gv),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ic,this.targetCount=0,this.Lr=rc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),N.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new rc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.qn(n),N.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),N.waitFor(o).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),N.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.Nr.containsKey(n))}};var sv=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new bT(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new ov(this),this.indexManager=new Qy,this.remoteDocumentCache=function(i){return new rv(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Ky(n),this.$r=new ev(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new nv(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new av(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return N.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},av=class extends wy{constructor(e){super(),this.currentSequenceNumber=e}},cv=class t{constructor(e){this.persistence=e,this.zr=new ic,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw Q()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),N.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Jr,r=>{let i=G.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ne.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return N.or([()=>N.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var uv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=de(),i=de();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var lv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var dv=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return TC()?8:vj(He())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new lv;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ga()<=le.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),N.resolve()):(Ga()<=le.DEBUG&&L("QueryEngine","Query:",jo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ga()<=le.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(n))):N.resolve())}ji(e,n){if(iT(n))return N.resolve(null);let r=_n(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Oy(n,null,"F"),r=_n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=de(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.Zi(n,a);return this.Xi(n,l,s,u.readTime)?this.ji(e,Oy(n,null,"F")):this.es(e,l,n,u)}))})))}Hi(e,n,r,i){return iT(n)||i.isEqual(ne.min())?N.resolve(null):this.zi.getDocuments(e,r).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,r,i)?N.resolve(null):(Ga()<=le.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jo(n)),this.es(e,s,n,pj(i,-1)).next(a=>a))})}Zi(e,n){let r=new lt(OT(e));return n.forEach((i,o)=>{Wd(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Ga()<=le.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",jo(n)),this.zi.getDocumentsMatchingQuery(e,n,Ci.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var hv=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ne(_e),this.rs=new Fr(o=>zv(o),Gv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xy(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function c2(t,e,n,r){return new hv(t,e,n,r)}function eS(t,e){return I(this,null,function*(){let n=te(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=de();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:s,addedBatchIds:a}))})})})}function u2(t,e){let n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=N.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(u,S)).next(R=>{let M=l.docVersions.get(S);be(M!==null),R.version.compareTo(M)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=de();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function tS(t){let e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function l2(t,e){let n=te(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Qr.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(yt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(R,M,k){return R.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,y,h)&&a.push(n.Qr.updateTargetData(o,y))});let u=Wn(),l=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(d2(o,s,e.documentUpdates).next(h=>{u=h.cs,l=h.ls})),!r.isEqual(ne.min())){let h=n.Qr.getLastRemoteSnapshotVersion(o).next(p=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return N.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.ns=i,o))}function d2(t,e,n){let r=de(),i=de();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Wn();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:s,ls:i}})}function h2(t,e){let n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function f2(t,e){let n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,N.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new nc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function fv(t,e,n){return I(this,null,function*(){let r=te(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!uc(s))throw s;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function gT(t,e,n){let r=te(t),i=ne.min(),o=de();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=te(u),m=p.rs.get(h);return m!==void 0?N.resolve(p.ns.get(m)):p.Qr.getTargetData(l,h)}(r,s,_n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ne.min(),n?o:de())).next(a=>(p2(r,Mj(e),a),{documents:a,hs:o})))}function p2(t,e,n){let r=t.ss.get(e)||ne.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}var Td=class{constructor(){this.activeTargetIds=kj()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var pv=class{constructor(){this.no=new Td,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Td,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var gv=class{io(e){}shutdown(){}};var Sd=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ud=null;function uy(){return ud===null?ud=function(){return 268435456+Math.round(2147483648*Math.random())}():ud++,"0x"+ud.toString(16)}var g2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var mv=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var ut="WebChannelConnection",yv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,s){let a=uy(),u=this.vo(n,r.toUriEncodedString());L("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,o,s),this.Mo(n,u,l,i).then(h=>(L("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw zo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}xo(n,r,i,o,s,a){return this.Co(n,r,i,o,s)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ss}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}vo(n,r){let i=g2[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){let o=uy();return new Promise((s,a)=>{let u=new ny;u.setWithCredentials(!0),u.listenOnce(iy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case za.NO_ERROR:let h=u.getResponseJson();L(ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case za.TIMEOUT:L(ut,`RPC '${e}' ${o} timed out`),a(new U(x.DEADLINE_EXCEEDED,"Request time out"));break;case za.HTTP_ERROR:let p=u.getStatus();if(L(ut,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let S=function(M){let k=M.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(k)>=0?k:x.UNKNOWN}(y.status);a(new U(S,y.message))}else a(new U(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new U(x.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{L(ut,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);L(ut,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Oo(e,n,r){let i=uy(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ay(),a=sy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new ry({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");L(ut,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,S=new mv({lo:M=>{y?L(ut,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(L(ut,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(ut,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},ho:()=>p.close()}),R=(M,k,q)=>{M.listen(k,$=>{try{q($)}catch(he){setTimeout(()=>{throw he},0)}})};return R(p,Lo.EventType.OPEN,()=>{y||(L(ut,`RPC '${e}' stream ${i} transport opened.`),S.mo())}),R(p,Lo.EventType.CLOSE,()=>{y||(y=!0,L(ut,`RPC '${e}' stream ${i} transport closed`),S.po())}),R(p,Lo.EventType.ERROR,M=>{y||(y=!0,zo(ut,`RPC '${e}' stream ${i} transport errored:`,M),S.po(new U(x.UNAVAILABLE,"The operation could not be completed")))}),R(p,Lo.EventType.MESSAGE,M=>{var k;if(!y){let q=M.data[0];be(!!q);let $=q,he=$.error||((k=$[0])===null||k===void 0?void 0:k.error);if(he){L(ut,`RPC '${e}' stream ${i} received error:`,he);let Se=he.status,re=function(_){let E=Ue[_];if(E!==void 0)return GT(E)}(Se),D=he.message;re===void 0&&(re=x.INTERNAL,D="Unknown error status: "+Se+" with message "+he.message),y=!0,S.po(new U(re,D)),p.close()}else L(ut,`RPC '${e}' stream ${i} received:`,q),S.yo(q)}}),R(a,oy.STAT_EVENT,M=>{M.stat===ad.PROXY?L(ut,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===ad.NOPROXY&&L(ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.fo()},0),S}};function ly(){return typeof document<"u"?document:null}function Kd(t){return new Hy(t,!0)}var Ad=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var Md=class{constructor(e,n,r,i,o,s,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Ad(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return I(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return I(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return I(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(zn(n.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{let i=new U(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){let r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(()=>I(this,null,function*(){this.state=0,this.start()}))}c_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},vv=class extends Md{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=Yj(this.serializer,e),r=function(o){if(!("targetChange"in o))return ne.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?wn(s.readTime):ne.min()}(e);return this.listener.h_(n,r)}P_(e){let n={};n.database=Wy(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=Py(u)?{documents:Xj(o,u)}:{query:e2(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=WT(o,s.resumeToken);let l=qy(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ne.min())>0){a.readTime=bd(o,s.snapshotVersion.toTimestamp());let l=qy(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=n2(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){let n={};n.database=Wy(this.serializer),n.removeTarget=e,this.i_(n)}},_v=class extends Md{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=Zj(e.writeResults,e.commitTime),r=wn(e.commitTime);return this.listener.A_(r,n)}return be(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=Wy(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Jj(this.serializer,r))};this.i_(n)}};var wv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new U(x.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,zy(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(x.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,zy(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(x.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},Iv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(zn(n),this.y_=!1):L("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var Ev=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{r.enqueueAndForget(()=>I(this,null,function*(){Ri(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return I(this,null,function*(){let l=te(u);l.M_.add(4),yield lc(l),l.N_.set("Unknown"),l.M_.delete(4),yield Qd(l)})}(this))}))}),this.N_=new Iv(r,i)}};function Qd(t){return I(this,null,function*(){if(Ri(t))for(let e of t.x_)yield e(!0)})}function lc(t){return I(this,null,function*(){for(let e of t.x_)yield e(!1)})}function nS(t,e){let n=te(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Zv(n)?Jv(n):cs(n).Xo()&&Yv(n,e))}function Qv(t,e){let n=te(t),r=cs(n);n.F_.delete(e),r.Xo()&&rS(n,e),n.F_.size===0&&(r.Xo()?r.n_():Ri(n)&&n.N_.set("Unknown"))}function Yv(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cs(t).P_(e)}function rS(t,e){t.L_.xe(e),cs(t).I_(e)}function Jv(t){t.L_=new $y({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),cs(t).start(),t.N_.w_()}function Zv(t){return Ri(t)&&!cs(t).Zo()&&t.F_.size>0}function Ri(t){return te(t).M_.size===0}function iS(t){t.L_=void 0}function m2(t){return I(this,null,function*(){t.N_.set("Online")})}function y2(t){return I(this,null,function*(){t.F_.forEach((e,n)=>{Yv(t,e)})})}function v2(t,e){return I(this,null,function*(){iS(t),Zv(t)?(t.N_.D_(e),Jv(t)):t.N_.set("Unknown")})}function _2(t,e,n){return I(this,null,function*(){if(t.N_.set("Online"),e instanceof Ed&&e.state===2&&e.cause)try{yield function(i,o){return I(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.F_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))})}(t,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Rd(t,r)}else if(e instanceof Ho?t.L_.Ke(e):e instanceof Id?t.L_.He(e):t.L_.We(e),!n.isEqual(ne.min()))try{let r=yield tS(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.L_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.F_.get(l);h&&o.F_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.F_.get(u);if(!h)return;o.F_.set(u,h.withResumeToken(yt.EMPTY_BYTE_STRING,h.snapshotVersion)),rS(o,u);let p=new nc(h.target,u,l,h.sequenceNumber);Yv(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){L("RemoteStore","Failed to raise snapshot:",r),yield Rd(t,r)}})}function Rd(t,e,n){return I(this,null,function*(){if(!uc(e))throw e;t.M_.add(1),yield lc(t),t.N_.set("Offline"),n||(n=()=>tS(t.localStore)),t.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Qd(t)}))})}function oS(t,e){return e().catch(n=>Rd(t,n,e))}function Yd(t){return I(this,null,function*(){let e=te(t),n=Vr(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;w2(e);)try{let i=yield h2(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,I2(e,i)}catch(i){yield Rd(e,i)}sS(e)&&aS(e)})}function w2(t){return Ri(t)&&t.v_.length<10}function I2(t,e){t.v_.push(e);let n=Vr(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function sS(t){return Ri(t)&&!Vr(t).Zo()&&t.v_.length>0}function aS(t){Vr(t).start()}function E2(t){return I(this,null,function*(){Vr(t).V_()})}function D2(t){return I(this,null,function*(){let e=Vr(t);for(let n of t.v_)e.d_(n.mutations)})}function b2(t,e,n){return I(this,null,function*(){let r=t.v_.shift(),i=Ly.from(r,e,n);yield oS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Yd(t)})}function C2(t,e){return I(this,null,function*(){e&&Vr(t).E_&&(yield function(r,i){return I(this,null,function*(){if(function(s){return $j(s)&&s!==x.ABORTED}(i.code)){let o=r.v_.shift();Vr(r).t_(),yield oS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Yd(r)}})}(t,e)),sS(t)&&aS(t)})}function mT(t,e){return I(this,null,function*(){let n=te(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let r=Ri(n);n.M_.add(3),yield lc(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Qd(n)})}function T2(t,e){return I(this,null,function*(){let n=te(t);e?(n.M_.delete(2),yield Qd(n)):e||(n.M_.add(2),yield lc(n),n.N_.set("Unknown"))})}function cs(t){return t.B_||(t.B_=function(n,r,i){let o=te(n);return o.f_(),new vv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:m2.bind(null,t),To:y2.bind(null,t),Ao:v2.bind(null,t),h_:_2.bind(null,t)}),t.x_.push(e=>I(this,null,function*(){e?(t.B_.t_(),Zv(t)?Jv(t):t.N_.set("Unknown")):(yield t.B_.stop(),iS(t))}))),t.B_}function Vr(t){return t.k_||(t.k_=function(n,r,i){let o=te(n);return o.f_(),new _v(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:E2.bind(null,t),Ao:C2.bind(null,t),R_:D2.bind(null,t),A_:b2.bind(null,t)}),t.x_.push(e=>I(this,null,function*(){e?(t.k_.t_(),yield Yd(t)):(yield t.k_.stop(),t.v_.length>0&&(L("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var Dv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Xv(t,e){if(zn("AsyncQueue",`${e}: ${t}`),uc(t))return new U(x.UNAVAILABLE,`${e}: ${t}`);throw t}var xd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=Wa(),this.sortedSet=new Ne(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Nd=class{constructor(){this.q_=new Ne(G.comparator)}track(e){let n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Q():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}},ns=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,xd.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var bv=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},Cv=class{constructor(){this.queries=new Fr(e=>PT(e),Gd),this.onlineState="Unknown",this.z_=new Set}};function cS(t,e){return I(this,null,function*(){let n=te(t),r=3,i=e.query,o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new bv,r=e.G_()?0:1);try{switch(r){case 0:o.K_=yield n.onListen(i,!0);break;case 1:o.K_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=Xv(s,`Initialization of query '${jo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&e_(n)})}function uS(t,e){return I(this,null,function*(){let n=te(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function S2(t,e){let n=te(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&e_(n)}function A2(t,e,n){let r=te(t),i=r.queries.get(e);if(i)for(let o of i.U_)o.onError(n);r.queries.delete(e)}function e_(t){t.z_.forEach(e=>{e.next()})}var Tv,yT;(yT=Tv||(Tv={})).J_="default",yT.Cache="cache";var Pd=class{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ns(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Tv.Cache}};var Od=class{constructor(e){this.key=e}},kd=class{constructor(e){this.key=e}},Sv=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=de(),this.mutatedKeys=de(),this.Ia=OT(e),this.Ta=new xd(this.Ia)}get Ea(){return this.la}da(e,n){let r=n?n.Aa:new Nd,i=n?n.Ta:this.Ta,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Wd(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),M=!1;m&&y?m.data.isEqual(y.data)?S!==R&&(r.track({type:3,doc:y}),M=!0):this.Ra(m,y)||(r.track({type:2,doc:y}),M=!0,(u&&this.Ia(y,u)>0||l&&this.Ia(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),M=!0):m&&!y&&(r.track({type:1,doc:m}),M=!0,(u||l)&&(a=!0)),M&&(y?(s=s.add(y),o=R?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let s=e.Aa.Q_();s.sort((h,p)=>function(y,S){let R=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return R(y)-R(S)}(h.type,p.type)||this.Ia(h.doc,p.doc)),this.Va(r),i=i!=null&&i;let a=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,l=u!==this.ha;return this.ha=u,s.length!==0||l?{snapshot:new ns(this.query,e.Ta,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Nd,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=de(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new kd(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new Od(r))}),n}pa(e){this.la=e.hs,this.Pa=de();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return ns.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},Av=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Mv=class{constructor(e){this.key=e,this.wa=!1}},Rv=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Fr(a=>PT(a),Gd),this.Da=new Map,this.Ca=new Set,this.va=new Ne(G.comparator),this.Fa=new Map,this.Ma=new ic,this.xa={},this.Oa=new Map,this.Na=rc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function M2(t,e,n=!0){return I(this,null,function*(){let r=gS(t),i,o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=yield lS(r,e,n,!0),i})}function R2(t,e){return I(this,null,function*(){let n=gS(t);yield lS(n,e,!0,!1)})}function lS(t,e,n,r){return I(this,null,function*(){let i=yield f2(t.localStore,_n(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",a;return r&&(a=yield x2(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&nS(t.remoteStore,i),a})}function x2(t,e,n,r,i){return I(this,null,function*(){t.Ba=(p,m,y)=>function(R,M,k,q){return I(this,null,function*(){let $=M.view.da(k);$.Xi&&($=yield gT(R.localStore,M.query,!1).then(({documents:D})=>M.view.da(D,$)));let he=q&&q.targetChanges.get(M.targetId),Se=q&&q.targetMismatches.get(M.targetId)!=null,re=M.view.applyChanges($,R.isPrimaryClient,he,Se);return _T(R,M.targetId,re.fa),re.snapshot})}(t,p,m,y);let o=yield gT(t.localStore,e,!0),s=new Sv(e,o.hs),a=s.da(o.documents),u=tc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);_T(t,n,l.fa);let h=new Av(e,n,s);return t.ba.set(e,h),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),l.snapshot})}function N2(t,e,n){return I(this,null,function*(){let r=te(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!Gd(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield fv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Qv(r.remoteStore,i.targetId),xv(r,i.targetId)}).catch(cc))):(xv(r,i.targetId),yield fv(r.localStore,i.targetId,!0))})}function P2(t,e){return I(this,null,function*(){let n=te(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qv(n.remoteStore,r.targetId))})}function O2(t,e,n){return I(this,null,function*(){let r=B2(t);try{let i=yield function(s,a){let u=te(s),l=Xe.now(),h=a.reduce((y,S)=>y.add(S.key),de()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Wn(),R=de();return u.os.getEntries(y,h).next(M=>{S=M,S.forEach((k,q)=>{q.isValidDocument()||(R=R.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(M=>{p=M;let k=[];for(let q of a){let $=Bj(q,p.get(q.key).overlayedDocument);$!=null&&k.push(new Kn(q.key,$,ST($.value.mapValue),Di.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,k,a)}).next(M=>{m=M;let k=M.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(y,M.batchId,k)})}).then(()=>({batchId:m.batchId,changes:FT(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.xa[s.currentUser.toKey()];l||(l=new Ne(_e)),l=l.insert(a,u),s.xa[s.currentUser.toKey()]=l}(r,i.batchId,n),yield dc(r,i.changes),yield Yd(r.remoteStore)}catch(i){let o=Xv(i,"Failed to persist write");n.reject(o)}})}function dS(t,e){return I(this,null,function*(){let n=te(t);try{let r=yield l2(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Fa.get(o);s&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?be(s.wa):i.removedDocuments.size>0&&(be(s.wa),s.wa=!1))}),yield dc(n,r,e)}catch(r){yield cc(r)}})}function vT(t,e,n){let r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((o,s)=>{let a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=te(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.U_)m.j_(a)&&(l=!0)}),l&&e_(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function k2(t,e,n){return I(this,null,function*(){let r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Ne(G.comparator);s=s.insert(o,nn.newNoDocument(o,ne.min()));let a=de().add(o),u=new wd(ne.min(),new Map,new Ne(_e),s,a);yield dS(r,u),r.va=r.va.remove(o),r.Fa.delete(e),t_(r)}else yield fv(r.localStore,e,!1).then(()=>xv(r,e,n)).catch(cc)})}function F2(t,e){return I(this,null,function*(){let n=te(t),r=e.batch.batchId;try{let i=yield u2(n.localStore,e);fS(n,r,null),hS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield dc(n,i)}catch(i){yield cc(i)}})}function V2(t,e,n){return I(this,null,function*(){let r=te(t);try{let i=yield function(s,a){let u=te(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(be(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);fS(r,e,n),hS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield dc(r,i)}catch(i){yield cc(i)}})}function hS(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function fS(t,e,n){let r=te(t),i=r.xa[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function xv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||pS(t,r)})}function pS(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(Qv(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),t_(t))}function _T(t,e,n){for(let r of n)r instanceof Od?(t.Ma.addReference(r.key,e),L2(t,r)):r instanceof kd?(L("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||pS(t,r.key)):Q()}function L2(t,e){let n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(L("SyncEngine","New document in limbo: "+n),t.Ca.add(r),t_(t))}function t_(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new G(xe.fromString(e)),r=t.Na.next();t.Fa.set(r,new Mv(n)),t.va=t.va.insert(n,r),nS(t.remoteStore,new nc(_n(Wv(n.path)),r,"TargetPurposeLimboResolution",bT.oe))}}function dc(t,e,n){return I(this,null,function*(){let r=te(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{s.push(r.Ba(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=uv.Ki(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Sa.h_(i),yield function(u,l){return I(this,null,function*(){let h=te(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>N.forEach(l,m=>N.forEach(m.qi,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>N.forEach(m.Qi,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!uc(p))throw p;L("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.ns.get(m),S=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(S);h.ns=h.ns.insert(m,R)}}})}(r.localStore,o))})}function j2(t,e){return I(this,null,function*(){let n=te(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let r=yield eS(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(u=>{u.reject(new U(x.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield dc(n,r.us)}})}function U2(t,e){let n=te(t),r=n.Fa.get(e);if(r&&r.wa)return de().add(r.key);{let i=de(),o=n.Da.get(e);if(!o)return i;for(let s of o){let a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function gS(t){let e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k2.bind(null,e),e.Sa.h_=S2.bind(null,e.eventManager),e.Sa.ka=A2.bind(null,e.eventManager),e}function B2(t){let e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=F2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V2.bind(null,e),e}var Fd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return I(this,null,function*(){this.serializer=Kd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return c2(this.persistence,new dv,e.initialUser,this.serializer)}createPersistence(e){return new sv(cv.Hr,this.serializer)}createSharedClientState(e){return new pv}terminate(){return I(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Nv=class{initialize(e,n){return I(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j2.bind(null,this.syncEngine),yield T2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Cv}()}createDatastore(e){let n=Kd(e.databaseInfo.databaseId),r=function(o){return new yv(o)}(e.databaseInfo);return function(o,s,a,u){return new wv(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Ev(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>vT(this.syncEngine,n,0),function(){return Sd.D()?new Sd:new gv}())}createSyncEngine(e,n){return function(i,o,s,a,u,l,h){let p=new Rv(i,o,s,a,u,l);return h&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return I(this,null,function*(){var e;yield function(r){return I(this,null,function*(){let i=te(r);L("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield lc(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Vd=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):zn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Pv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=We.UNAUTHENTICATED,this.clientId=fd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>I(this,null,function*(){L("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Xv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function dy(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>I(this,null,function*(){r.isEqual(i)||(yield eS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function wT(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield H2(t);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>mT(e.remoteStore,i)),t._onlineComponents=e})}function $2(t){return t.name==="FirebaseError"?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function H2(t){return I(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield dy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!$2(n))throw n;zo("Error using user provided cache. Falling back to memory cache: "+n),yield dy(t,new Fd)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield dy(t,new Fd);return t._offlineComponents})}function mS(t){return I(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield wT(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield wT(t,new Nv))),t._onlineComponents})}function q2(t){return mS(t).then(e=>e.syncEngine)}function yS(t){return I(this,null,function*(){let e=yield mS(t),n=e.eventManager;return n.onListen=M2.bind(null,e.syncEngine),n.onUnlisten=N2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=R2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=P2.bind(null,e.syncEngine),n})}function z2(t,e,n={}){let r=new tn;return t.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(o,s,a,u,l){let h=new Vd({next:m=>{s.enqueueAndForget(()=>uS(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new U(x.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new U(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Pd(Wv(a.path),h,{includeMetadataChanges:!0,ra:!0});return cS(o,p)}(yield yS(t),t.asyncQueue,e,n,r)})),r.promise}function G2(t,e,n={}){let r=new tn;return t.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(o,s,a,u,l){let h=new Vd({next:m=>{s.enqueueAndForget(()=>uS(o,p)),m.fromCache&&u.source==="server"?l.reject(new U(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Pd(a,h,{includeMetadataChanges:!0,ra:!0});return cS(o,p)}(yield yS(t),t.asyncQueue,e,n,r)})),r.promise}function vS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var IT=new Map;function _S(t,e,n){if(!n)throw new U(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function W2(t,e,n,r){if(e===!0&&r===!0)throw new U(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ET(t){if(!G.isDocumentKey(t))throw new U(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function DT(t){if(G.isDocumentKey(t))throw new U(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function n_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function rs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=n_(t);throw new U(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Ld=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new U(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new U(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new U(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},is=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ld({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ld(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hy;switch(r.type){case"firstParty":return new my(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=IT.get(n);r&&(L("ComponentProvider","Removing Datastore"),IT.delete(n),r.terminate())}(this),Promise.resolve()}};function K2(t,e,n,r={}){var i;let o=(t=rs(t,is))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=We.MOCK_USER;else{a=IC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new We(l)}t._authCredentials=new fy(new hd(a,u))}}var jd=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ut=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Or=class t extends jd{constructor(e,n,r){super(e,n,Wv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new G(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function r_(t,e,...n){if(t=ct(t),_S("collection","path",e),t instanceof is){let r=xe.fromString(e,...n);return DT(r),new Or(t,null,r)}{if(!(t instanceof Ut||t instanceof Or))throw new U(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(xe.fromString(e,...n));return DT(r),new Or(t.firestore,null,r)}}function i_(t,e,...n){if(t=ct(t),arguments.length===1&&(e=fd.newId()),_S("doc","path",e),t instanceof is){let r=xe.fromString(e,...n);return ET(r),new Ut(t,null,new G(r))}{if(!(t instanceof Ut||t instanceof Or))throw new U(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(xe.fromString(e,...n));return ET(r),new Ut(t.firestore,t instanceof Or?t.converter:null,new G(r))}}var Ov=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Ad(this,"async_queue_retry"),this.hu=()=>{let n=ly();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=ly();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=ly();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new tn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return I(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!uc(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw zn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=Dv.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&Q()}verifyOperationInProgress(){}du(){return I(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};var os=class extends is{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Ov}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||IS(this),this._firestoreClient.terminate()}};function wS(t,e){let n=typeof t=="object"?t:jl(),r=typeof t=="string"?t:e||"(default)",i=Fa(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=wC("firestore");o&&K2(i,...o)}return i}function o_(t){return t._firestoreClient||IS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function IS(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Iy(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,vS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Pv(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var oc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(yt.fromBase64String(e))}catch(n){throw new U(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var sc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ud=class{constructor(e){this._methodName=e}};var ac=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}};var Q2=/^__.*__$/,kv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Kn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mi(e,this.data,n,this.fieldTransforms)}};function ES(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}var Fv=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Bd(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(ES(this.fu)&&Q2.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},Vv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kd(e)}Fu(e,n,r,i=!1){return new Fv({fu:e,methodName:n,vu:r,path:At.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Y2(t){let e=t._freezeSettings(),n=Kd(t._databaseId);return new Vv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function J2(t,e,n,r,i,o={}){let s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);TS("Data must be an object, but it was:",s,r);let a=bS(r,s),u,l;if(o.merge)u=new yn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=Z2(e,p,n);if(!s.contains(m))throw new U(x.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);eU(h,m)||h.push(m)}u=new yn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new kv(new en(a),u,l)}function DS(t,e){if(CS(t=ct(t)))return TS("Unsupported field value:",e,t),bS(t,e);if(t instanceof Ud)return function(r,i){if(!ES(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=DS(a,i.bu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Fj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Xe.fromDate(r);return{timestampValue:bd(i.serializer,o)}}if(r instanceof Xe){let o=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bd(i.serializer,o)}}if(r instanceof ac)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oc)return{bytesValue:WT(i.serializer,r._byteString)};if(r instanceof Ut){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Kv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${n_(r)}`)}(t,e)}function bS(t,e){let n={};return CT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(t,(r,i)=>{let o=DS(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function CS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof ac||t instanceof oc||t instanceof Ut||t instanceof Ud)}function TS(t,e,n){if(!CS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=n_(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Z2(t,e,n){if((e=ct(e))instanceof sc)return e._internalPath;if(typeof e=="string")return SS(t,e);throw Bd("Field path arguments must be of type string or ",t,!1,void 0,n)}var X2=new RegExp("[~\\*/\\[\\]]");function SS(t,e,n){if(e.search(X2)>=0)throw Bd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sc(...e.split("."))._internalPath}catch{throw Bd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bd(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new U(x.INVALID_ARGUMENT,a+t+u)}function eU(t,e){return t.some(n=>n.isEqual(e))}var $d=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Lv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(AS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Lv=class extends $d{data(){return super.data()}};function AS(t,e){return typeof e=="string"?SS(t,e):e instanceof sc?e._internalPath:e._delegate._internalPath}function tU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var jv=class{convertValue(e,n="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return as(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new ac(Re(e.latitude),Re(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Hv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xa(e));default:return null}}convertTimestamp(e){let n=Gn(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=xe.fromString(e);be(XT(r));let i=new yd(r.get(1),r.get(3)),o=new G(r.popFirst(5));return i.isEqual(n)||zn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function nU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ei=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Hd=class extends $d{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new qo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(AS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},qo=class extends Hd{data(e={}){return super.data(e)}},Uv=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ei(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qo(this._firestore,this._userDataWriter,r.key,r,new Ei(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new qo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ei(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new qo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ei(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:rU(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function rU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}function MS(t){t=rs(t,Ut);let e=rs(t.firestore,os);return z2(o_(e),t._key).then(n=>oU(e,t,n))}var qd=class extends jv{constructor(e){super(),this.firestore=e}convertBytes(e){return new oc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}};function RS(t){t=rs(t,jd);let e=rs(t.firestore,os),n=o_(e),r=new qd(e);return tU(t._query),G2(n,t._query).then(i=>new Uv(e,r,t,i))}function xS(t,e){let n=rs(t.firestore,os),r=i_(t),i=nU(t.converter,e);return iU(n,[J2(Y2(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Di.exists(!1))]).then(()=>r)}function iU(t,e){return function(r,i){let o=new tn;return r.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return O2(yield q2(r),i,o)})),o.promise}(o_(t),e)}function oU(t,e,n){let r=n.docs.get(e._key),i=new qd(t);return new Hd(t,i,e._key,r,new Ei(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ss=i})(Ar),Sr(new jt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new os(new py(r.getProvider("auth-internal")),new vy(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Zt(Y0,"4.6.4",e),Zt(Y0,"4.6.4","esm2017")})();var us=(()=>{let e=class e{constructor(r,i){this.authService=r,this.router=i,this.db=wS()}createSnippet(r){return I(this,null,function*(){try{let i=yield xS(r_(this.db,"snippets"),fe(O({},r),{by:this.authService.getUID()}));console.log("Document written with ID: ",i.id),this.router.navigate(["/"])}catch{alert("Error while creating a snippet")}})}getAllSnippets(){return I(this,null,function*(){let r=[];try{(yield RS(r_(this.db,"snippets"))).forEach(o=>{r.push(O({id:o.id},o.data()))})}catch(i){console.error("Error getting snippets: ",i)}return r})}getSnippetById(r){return I(this,null,function*(){try{let i=yield i_(this.db,"snippets",r),o=yield MS(i);return o.exists()?(console.log("Document data:",o.data()),o.data()):(console.log("No such document!"),{id:"1",title:"Not found",code:"Not found",by:"Not found"})}catch(i){return console.error("Error getting document:",i),{id:"1",title:"Not found",code:"Not found",by:"Not found"}}})}};e.\u0275fac=function(i){return new(i||e)(oe(gn),oe(Lt))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var NS=(()=>{let e=class e{constructor(r){this.dbService=r,this.title=new br("",dn.required),this.code=new br("",dn.required),this.binForm=new Er({title:this.title,code:this.code})}save(){return I(this,null,function*(){console.log(this.binForm.value),yield this.dbService.createSnippet(this.binForm.value)})}reset(){this.binForm.reset()}};e.\u0275fac=function(i){return new(i||e)(H(us))},e.\u0275cmp=Fe({type:e,selectors:[["app-create-bin"]],standalone:!0,features:[je],decls:16,vars:4,consts:[[3,"formGroup"],[1,"form-group"],["for","title"],["type","text","id","title","placeholder","Enter title",1,"form-control",3,"formControl"],["for","code"],["type","text","id","code","placeholder","Code here",1,"form-control",3,"formControl"],["type","submit",1,"btn","btn-primary",3,"click","disabled"],["type","reset",1,"btn","btn-primary"]],template:function(i,o){i&1&&(j(0,"form",0)(1,"h3"),B(2,"Create Code Snippet"),V(),j(3,"div",1)(4,"label",2),B(5,"Enter the title: "),V(),Le(6,"input",3),V(),Le(7,"br"),j(8,"div",1)(9,"label",4),B(10,"Code: "),V(),Le(11,"textarea",5),V(),j(12,"button",6),at("click",function(){return o.save()}),B(13,"Create"),V(),j(14,"button",7),B(15,"Reset"),V()()),i&2&&(gt("formGroup",o.binForm),Ge(6),gt("formControl",o.title),Ge(5),gt("formControl",o.code),Ge(),gt("disabled",!o.binForm.valid))},dependencies:[Pl,No,Dr,Mo,Ro,xa,Na],styles:["form[_ngcontent-%COMP%]{max-width:600px;margin:20px auto;padding:20px;background-color:#fff;border-radius:10px;box-shadow:0 4px 8px #0000001a;position:relative;z-index:1}.form-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#71b7e6,#9b59b6);z-index:0}form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#555}input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}textarea[_ngcontent-%COMP%]{resize:vertical;height:100px}button[type=submit][_ngcontent-%COMP%], button[type=reset][_ngcontent-%COMP%]{width:100px;padding:10px;margin:10px 5px 0 0;border:none;border-radius:5px;color:#fff;cursor:pointer}button[type=submit].btn-primary[_ngcontent-%COMP%]{background-color:#007bff}button[type=reset].btn-primary[_ngcontent-%COMP%]{background-color:#6c757d}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}button[type=reset][_ngcontent-%COMP%]:hover{background-color:#5a6268}button[disabled][_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:2}"]});let t=e;return t})();var PS=()=>{let t=F(Lt);return F(gn).isAuthenticated()?!0:(t.navigate(["/"]),!1)};var sU=(t,e)=>e.id,aU=t=>["/snippet",t];function cU(t,e){t&1&&(j(0,"li"),B(1,"No Data"),V())}function uU(t,e){if(t&1&&(j(0,"a",0)(1,"li"),B(2),V()()),t&2){let n=e.$implicit;gt("routerLink",xD(2,aU,n.id)),Ge(2),ta(n.title)}}function lU(t,e){if(t&1&&CD(0,uU,3,4,"a",0,sU),t&2){let n=Qu();TD(n.items)}}var OS=(()=>{let e=class e{constructor(r){this.dbService=r,this.items=[]}ngOnInit(){this.dbService.getAllSnippets().then(r=>{this.items=r,console.log(r)})}};e.\u0275fac=function(i){return new(i||e)(H(us))},e.\u0275cmp=Fe({type:e,selectors:[["app-home"]],standalone:!0,features:[je],decls:8,vars:1,consts:[[3,"routerLink"]],template:function(i,o){i&1&&(j(0,"div")(1,"h1"),B(2,"Code Snippets"),V(),j(3,"p"),B(4,"Login to upload your own code snippets"),V(),j(5,"ul"),ea(6,cU,2,0,"li")(7,lU,2,0),V()()),i&2&&(Ge(6),Wu(o.items.length==0?6:7))},dependencies:[yr],styles:["div[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f6d365,#fda085);padding:20px;border-radius:10px;box-shadow:0 4px 8px #0000001a;width:90%;margin:20px auto;font-family:Arial,sans-serif}h1[_ngcontent-%COMP%]{color:#c09393}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}li[_ngcontent-%COMP%]{background:#fff;margin-bottom:10px;padding:10px;border-radius:5px;box-shadow:0 2px 4px #0000001a;transition:transform .2s ease-in-out}li[_ngcontent-%COMP%]:hover{transform:scale(1.02)}li[_ngcontent-%COMP%]:nth-child(1){font-weight:700;color:#ff6f61}a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-weight:700}a[_ngcontent-%COMP%]:hover{color:#ff6f61}"]});let t=e;return t})();var kS=(()=>{let e=class e{constructor(r,i){this.route=r,this.dbService=i,this.codeSnippet={title:"",code:""}}ngOnInit(){let r=this.route.snapshot.paramMap.get("id");console.log(r),this.dbService.getSnippetById(r).then(i=>{this.codeSnippet=i})}};e.\u0275fac=function(i){return new(i||e)(H(jn),H(us))},e.\u0275cmp=Fe({type:e,selectors:[["app-viewsnippet"]],standalone:!0,features:[je],decls:5,vars:2,template:function(i,o){i&1&&(j(0,"div")(1,"h1"),B(2),V(),j(3,"pre"),B(4),V()()),i&2&&(Ge(2),Ju("Code Title: ",o.codeSnippet.title,""),Ge(2),ta(o.codeSnippet.code))},styles:["div[_ngcontent-%COMP%]{background:linear-gradient(to right,#f96,#ff5e62);padding:20px;border-radius:10px;box-shadow:0 4px 8px #0000001a;max-width:90%;margin:20px auto}h1[_ngcontent-%COMP%]{color:#fff;text-align:left;font-size:24px}pre[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:20px;border-radius:5px;overflow-x:auto;font-size:14px;line-height:1.5}"]});let t=e;return t})();var FS=[{path:"createbin",component:NS,canActivate:[PS]},{path:"login",component:q0},{path:"signup",component:z0},{path:"about",component:W0},{path:"",component:OS},{path:"snippet/:id",component:kS},{path:"**",component:G0}];var VS={providers:[VD({eventCoalescing:!0}),Ub(FS)]};function dU(t,e){if(t&1){let n=Ku();j(0,"li",4)(1,"a",7),at("click",function(){Ks(n);let i=Qu();return Qs(i.authService.logout())}),B(2,"Logout"),V()()}}function hU(t,e){t&1&&(j(0,"li",4)(1,"a",8),B(2,"login"),V()(),j(3,"li",4)(4,"a",9),B(5,"SignUp"),V()())}var LS=(()=>{let e=class e{constructor(r){this.authService=r}};e.\u0275fac=function(i){return new(i||e)(H(gn))},e.\u0275cmp=Fe({type:e,selectors:[["app-header"]],standalone:!0,features:[je],decls:13,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["href","#",1,"navbar-brand"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","my-2","my-lg-0"],[1,"nav-item"],["routerLink","/createbin","routerLinkActive","active","ariaCurrentWhenActive","page",1,"nav-link"],["routerLink","/about","routerLinkActive","active","ariaCurrentWhenActive","page",1,"nav-link"],["ariaCurrentWhenActive","page",1,"nav-link",3,"click"],["routerLink","/login","routerLinkActive","active","ariaCurrentWhenActive","page",1,"nav-link"],["routerLink","/signup","routerLinkActive","active","ariaCurrentWhenActive","page",1,"nav-link"]],template:function(i,o){i&1&&(j(0,"nav",0)(1,"a",1),B(2,"CodeBin"),V(),j(3,"div",2)(4,"ul",3)(5,"li",4)(6,"a",5),B(7,"Create Bin"),V()(),j(8,"li",4)(9,"a",6),B(10,"About"),V()(),ea(11,dU,3,0,"li",4)(12,hU,6,0),V()()()),i&2&&(Ge(11),Wu(o.authService.isAuthenticated()?11:12))},dependencies:[yr,jb],styles:["#navbarSupportedContent[_ngcontent-%COMP%]{justify-content:right}.nav-item[_ngcontent-%COMP%]{border:1px solid black;margin:3px;border-radius:30px}.nav-item[_ngcontent-%COMP%]:hover{background-color:#fda085;transform:scale(1.1);cursor:pointer}"]});let t=e;return t})();var fU="firebase",pU="10.12.3";Zt(fU,pU,"app");var jS={apiKey:"AIzaSyBA-v9AF_ZEgAg311MtJQ5SNq9mUN2VQfE",authDomain:"codebin-15f51.firebaseapp.com",projectId:"codebin-15f51",storageBucket:"codebin-15f51.appspot.com",messagingSenderId:"706124989807",appId:"1:706124989807:web:a9519c386a7fc4eeb6149a"};var US=(()=>{let e=class e{constructor(){Dm(jS)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-root"]],standalone:!0,features:[je],decls:2,vars:0,template:function(i,o){i&1&&Le(0,"app-header")(1,"router-outlet")},dependencies:[Og,Gp,LS]});let t=e;return t})();rb(US,VS).catch(t=>console.error(t));
